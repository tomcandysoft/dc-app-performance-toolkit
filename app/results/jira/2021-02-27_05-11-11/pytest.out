============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py first driver inits
1614402728745,401,selenium_login:open_login_page,Success,True
1614402730299,1553,selenium_login:login_and_view_dashboard,Success,True
1614402730299,1955,selenium_login,Success,True
.test_0_selenium_a_login,Total:1 Passed:1 Failed:0
1614402730672,362,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2 Passed:2 Failed:0
1614402731049,375,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3 Passed:3 Failed:0
1614402731860,797,selenium_create_issue:open_quick_create,Success,True
1614402733188,710,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402733188,1328,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402733188,2126,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:4 Passed:4 Failed:0
1614402733720,524,selenium_edit_issue:open_edit_issue_form,Success,True
1614402734767,529,selenium_edit_issue:save_edit_issue_form,Success,True
1614402734767,1570,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:5 Passed:5 Failed:0
1614402735153,385,selenium_save_comment:open_comment_form,Success,True
1614402736007,694,selenium_save_comment:submit_form,Success,True
1614402736007,1239,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:6 Passed:6 Failed:0
1614402738533,2524,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:7 Passed:7 Failed:0
1614402739409,874,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:8 Passed:8 Failed:0
1614402740299,888,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:9 Passed:9 Failed:0
1614402740794,493,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:10 Passed:10 Failed:0
1614402741381,585,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:11 Passed:11 Failed:0
1614402741979,596,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:12 Passed:12 Failed:0
1614402742381,399,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:13 Passed:13 Failed:0
1614402742382,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402742382,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212410', 'issue_key': 'AAFAIA-6902', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:14 Passed:13 Failed:1
1614402743209,375,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:15 Passed:14 Failed:1


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212410', 'issue_key': 'AAFAIA-6902', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 16.08s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402743366,102,selenium_login:open_login_page,Success,True
1614402743811,444,selenium_login:login_and_view_dashboard,Success,True
1614402743811,547,selenium_login,Success,True
.test_0_selenium_a_login,Total:16 Passed:15 Failed:1
1614402744207,356,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:17 Passed:16 Failed:1
1614402744549,340,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:18 Passed:17 Failed:1
1614402745349,791,selenium_create_issue:open_quick_create,Success,True
1614402746486,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402746486,1137,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402746486,1929,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:19 Passed:18 Failed:1
1614402747117,621,selenium_edit_issue:open_edit_issue_form,Success,True
1614402748041,542,selenium_edit_issue:save_edit_issue_form,Success,True
1614402748041,1545,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:20 Passed:19 Failed:1
1614402748435,392,selenium_save_comment:open_comment_form,Success,True
1614402749538,934,selenium_save_comment:submit_form,Success,True
1614402749538,1494,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:21 Passed:20 Failed:1
1614402750861,1322,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:22 Passed:21 Failed:1
1614402752273,1410,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:23 Passed:22 Failed:1
1614402753097,822,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:24 Passed:23 Failed:1
1614402754074,975,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:25 Passed:24 Failed:1
1614402754447,371,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:26 Passed:25 Failed:1
1614402755169,720,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:27 Passed:26 Failed:1
1614402755655,484,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:28 Passed:27 Failed:1
1614402755657,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402755657,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211041', 'issue_key': 'AAFAIA-5533', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:29 Passed:27 Failed:2
1614402756409,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:30 Passed:28 Failed:2


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211041', 'issue_key': 'AAFAIA-5533', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.16s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402756568,106,selenium_login:open_login_page,Success,True
1614402757862,1293,selenium_login:login_and_view_dashboard,Success,True
1614402757862,1400,selenium_login,Success,True
.test_0_selenium_a_login,Total:31 Passed:29 Failed:2
1614402758195,304,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:32 Passed:30 Failed:2
1614402758478,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:33 Passed:31 Failed:2
1614402759265,776,selenium_create_issue:open_quick_create,Success,True
1614402760485,631,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402760485,1219,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402760485,1996,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:34 Passed:32 Failed:2
1614402761118,625,selenium_edit_issue:open_edit_issue_form,Success,True
1614402762028,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614402762028,1534,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:35 Passed:33 Failed:2
1614402762382,352,selenium_save_comment:open_comment_form,Success,True
1614402763344,751,selenium_save_comment:submit_form,Success,True
1614402763344,1315,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:36 Passed:34 Failed:2
1614402764634,1288,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:37 Passed:35 Failed:2
1614402765992,1356,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:38 Passed:36 Failed:2
1614402766794,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:39 Passed:37 Failed:2
1614402767663,867,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:40 Passed:38 Failed:2
1614402768036,371,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:41 Passed:39 Failed:2
1614402768658,620,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:42 Passed:40 Failed:2
1614402769115,454,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:43 Passed:41 Failed:2
1614402769116,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402769116,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209245', 'issue_key': 'AAFAIA-3737', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:44 Passed:41 Failed:3
1614402769978,339,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:45 Passed:42 Failed:3


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209245', 'issue_key': 'AAFAIA-3737', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.53s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402770134,103,selenium_login:open_login_page,Success,True
1614402771332,1198,selenium_login:login_and_view_dashboard,Success,True
1614402771332,1301,selenium_login,Success,True
.test_0_selenium_a_login,Total:46 Passed:43 Failed:3
1614402771704,240,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:47 Passed:44 Failed:3
1614402771980,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:48 Passed:45 Failed:3
1614402772736,747,selenium_create_issue:open_quick_create,Success,True
1614402773973,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402773973,1237,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402773973,1984,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:49 Passed:46 Failed:3
1614402774612,630,selenium_edit_issue:open_edit_issue_form,Success,True
1614402775489,505,selenium_edit_issue:save_edit_issue_form,Success,True
1614402775489,1507,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:50 Passed:47 Failed:3
1614402775880,389,selenium_save_comment:open_comment_form,Success,True
1614402776752,711,selenium_save_comment:submit_form,Success,True
1614402776753,1262,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:51 Passed:48 Failed:3
1614402778028,1273,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:52 Passed:49 Failed:3
1614402779008,978,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:53 Passed:50 Failed:3
1614402779790,780,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:54 Passed:51 Failed:3
1614402780608,816,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:55 Passed:52 Failed:3
1614402780898,288,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:56 Passed:53 Failed:3
1614402781577,676,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:57 Passed:54 Failed:3
1614402781981,402,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:58 Passed:55 Failed:3
1614402781983,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402781983,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210110', 'issue_key': 'AAFAIA-4602', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:59 Passed:55 Failed:4
1614402782696,332,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:60 Passed:56 Failed:4


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210110', 'issue_key': 'AAFAIA-4602', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.68s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402782872,121,selenium_login:open_login_page,Success,True
1614402783381,509,selenium_login:login_and_view_dashboard,Success,True
1614402783381,631,selenium_login,Success,True
.test_0_selenium_a_login,Total:61 Passed:57 Failed:4
1614402783661,269,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:62 Passed:58 Failed:4
1614402783999,336,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:63 Passed:59 Failed:4
1614402784789,780,selenium_create_issue:open_quick_create,Success,True
1614402785941,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402785941,1152,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402785941,1933,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:64 Passed:60 Failed:4
1614402786692,740,selenium_edit_issue:open_edit_issue_form,Success,True
1614402787584,603,selenium_edit_issue:save_edit_issue_form,Success,True
1614402787584,1631,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:65 Passed:61 Failed:4
1614402787967,382,selenium_save_comment:open_comment_form,Success,True
1614402788959,829,selenium_save_comment:submit_form,Success,True
1614402788959,1374,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:66 Passed:62 Failed:4
1614402790229,1267,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:67 Passed:63 Failed:4
1614402791590,1360,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:68 Passed:64 Failed:4
1614402792422,830,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:69 Passed:65 Failed:4
1614402793487,1063,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:70 Passed:66 Failed:4
1614402793742,253,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:71 Passed:67 Failed:4
1614402794445,702,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:72 Passed:68 Failed:4
1614402794916,468,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:73 Passed:69 Failed:4
1614402794917,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402794917,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915293', 'issue_key': 'AABIS-729', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:74 Passed:69 Failed:5
1614402795768,332,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:75 Passed:70 Failed:5


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915293', 'issue_key': 'AABIS-729', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.03s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402795924,104,selenium_login:open_login_page,Success,True
1614402797209,1283,selenium_login:login_and_view_dashboard,Success,True
1614402797209,1389,selenium_login,Success,True
.test_0_selenium_a_login,Total:76 Passed:71 Failed:5
1614402797566,249,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:77 Passed:72 Failed:5
1614402797838,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:78 Passed:73 Failed:5
1614402798607,759,selenium_create_issue:open_quick_create,Success,True
1614402799876,636,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402799876,1269,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402799876,2028,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:79 Passed:74 Failed:5
1614402800398,512,selenium_edit_issue:open_edit_issue_form,Success,True
1614402801417,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614402801417,1531,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:80 Passed:75 Failed:5
1614402801855,436,selenium_save_comment:open_comment_form,Success,True
1614402802689,726,selenium_save_comment:submit_form,Success,True
1614402802689,1270,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:81 Passed:76 Failed:5
1614402803974,1283,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:82 Passed:77 Failed:5
1614402805498,1522,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:83 Passed:78 Failed:5
1614402806331,831,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:84 Passed:79 Failed:5
1614402807041,708,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:85 Passed:80 Failed:5
1614402807359,316,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:86 Passed:81 Failed:5
1614402807981,620,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:87 Passed:82 Failed:5
1614402808407,424,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:88 Passed:83 Failed:5
1614402808408,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402808408,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206001', 'issue_key': 'AAFAIA-493', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:89 Passed:83 Failed:6
1614402809142,399,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:90 Passed:84 Failed:6


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206001', 'issue_key': 'AAFAIA-493', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.33s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402809297,103,selenium_login:open_login_page,Success,True
1614402810511,1212,selenium_login:login_and_view_dashboard,Success,True
1614402810511,1316,selenium_login,Success,True
.test_0_selenium_a_login,Total:91 Passed:85 Failed:6
1614402810891,333,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:92 Passed:86 Failed:6
1614402811170,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:93 Passed:87 Failed:6
1614402811931,752,selenium_create_issue:open_quick_create,Success,True
1614402813132,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402813132,1200,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402813132,1953,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:94 Passed:88 Failed:6
1614402813654,512,selenium_edit_issue:open_edit_issue_form,Success,True
1614402814722,544,selenium_edit_issue:save_edit_issue_form,Success,True
1614402814722,1581,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:95 Passed:89 Failed:6
1614402815140,416,selenium_save_comment:open_comment_form,Success,True
1614402816073,736,selenium_save_comment:submit_form,Success,True
1614402816073,1349,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:96 Passed:90 Failed:6
1614402817363,1287,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:97 Passed:91 Failed:6
1614402818765,1400,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:98 Passed:92 Failed:6
1614402819555,789,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:99 Passed:93 Failed:6
1614402820330,773,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:100 Passed:94 Failed:6
1614402820694,362,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:101 Passed:95 Failed:6
1614402821377,680,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:102 Passed:96 Failed:6
1614402821789,410,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:103 Passed:97 Failed:6
1614402821790,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402821791,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212293', 'issue_key': 'AAFAIA-6785', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:104 Passed:97 Failed:7
1614402822548,418,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:105 Passed:98 Failed:7


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212293', 'issue_key': 'AAFAIA-6785', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.36s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402822705,105,selenium_login:open_login_page,Success,True
1614402823184,479,selenium_login:login_and_view_dashboard,Success,True
1614402823184,585,selenium_login,Success,True
.test_0_selenium_a_login,Total:106 Passed:99 Failed:7
1614402823544,338,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:107 Passed:100 Failed:7
1614402823851,305,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:108 Passed:101 Failed:7
1614402824648,788,selenium_create_issue:open_quick_create,Success,True
1614402825821,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402825821,1173,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402825821,1961,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:109 Passed:102 Failed:7
1614402826442,612,selenium_edit_issue:open_edit_issue_form,Success,True
1614402827442,609,selenium_edit_issue:save_edit_issue_form,Success,True
1614402827443,1612,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:110 Passed:103 Failed:7
1614402827810,366,selenium_save_comment:open_comment_form,Success,True
1614402828765,786,selenium_save_comment:submit_form,Success,True
1614402828765,1321,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:111 Passed:104 Failed:7
1614402830060,1293,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:112 Passed:105 Failed:7
1614402831108,1046,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:113 Passed:106 Failed:7
1614402832023,913,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:114 Passed:107 Failed:7
1614402832455,431,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:115 Passed:108 Failed:7
1614402832736,278,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:116 Passed:109 Failed:7
1614402833428,690,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:117 Passed:110 Failed:7
1614402833855,426,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:118 Passed:111 Failed:7
1614402833857,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402833857,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914772', 'issue_key': 'AABIS-208', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:119 Passed:111 Failed:8
1614402834674,403,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:120 Passed:112 Failed:8


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914772', 'issue_key': 'AABIS-208', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.08s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402834836,109,selenium_login:open_login_page,Success,True
1614402835281,444,selenium_login:login_and_view_dashboard,Success,True
1614402835281,554,selenium_login,Success,True
.test_0_selenium_a_login,Total:121 Passed:113 Failed:8
1614402835641,347,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:122 Passed:114 Failed:8
1614402835922,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:123 Passed:115 Failed:8
1614402836742,811,selenium_create_issue:open_quick_create,Success,True
1614402837892,609,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402837893,1150,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402837893,1961,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:124 Passed:116 Failed:8
1614402838556,654,selenium_edit_issue:open_edit_issue_form,Success,True
1614402839492,573,selenium_edit_issue:save_edit_issue_form,Success,True
1614402839493,1591,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:125 Passed:117 Failed:8
1614402839932,438,selenium_save_comment:open_comment_form,Success,True
1614402840859,763,selenium_save_comment:submit_form,Success,True
1614402840860,1365,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:126 Passed:118 Failed:8
1614402842236,1375,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:127 Passed:119 Failed:8
1614402843671,1433,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:128 Passed:120 Failed:8
1614402844482,809,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:129 Passed:121 Failed:8
1614402845557,1073,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:130 Passed:122 Failed:8
1614402845937,378,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:131 Passed:123 Failed:8
1614402846621,682,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:132 Passed:124 Failed:8
1614402847062,439,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:133 Passed:125 Failed:8
1614402847063,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402847063,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915355', 'issue_key': 'AABIS-791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:134 Passed:125 Failed:9
1614402847786,364,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:135 Passed:126 Failed:9


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915355', 'issue_key': 'AABIS-791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.07s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402847962,110,selenium_login:open_login_page,Success,True
1614402848571,608,selenium_login:login_and_view_dashboard,Success,True
1614402848571,719,selenium_login,Success,True
.test_0_selenium_a_login,Total:136 Passed:127 Failed:9
1614402848858,276,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:137 Passed:128 Failed:9
1614402849140,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:138 Passed:129 Failed:9
1614402849942,793,selenium_create_issue:open_quick_create,Success,True
1614402851181,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402851181,1239,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402851181,2033,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:139 Passed:130 Failed:9
1614402851712,521,selenium_edit_issue:open_edit_issue_form,Success,True
1614402852751,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614402852751,1560,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:140 Passed:131 Failed:9
1614402853142,389,selenium_save_comment:open_comment_form,Success,True
1614402854022,720,selenium_save_comment:submit_form,Success,True
1614402854022,1269,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:141 Passed:132 Failed:9
1614402855367,1344,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:142 Passed:133 Failed:9
1614402856181,812,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:143 Passed:134 Failed:9
1614402856985,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:144 Passed:135 Failed:9
1614402857512,526,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:145 Passed:136 Failed:9
1614402857805,290,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:146 Passed:137 Failed:9
1614402858417,610,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:147 Passed:138 Failed:9
1614402858853,435,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:148 Passed:139 Failed:9
1614402858854,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402858855,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211385', 'issue_key': 'AAFAIA-5877', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:149 Passed:139 Failed:10
1614402859649,430,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:150 Passed:140 Failed:10


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211385', 'issue_key': 'AAFAIA-5877', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.81s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402859806,104,selenium_login:open_login_page,Success,True
1614402861433,1626,selenium_login:login_and_view_dashboard,Success,True
1614402861433,1731,selenium_login,Success,True
.test_0_selenium_a_login,Total:151 Passed:141 Failed:10
1614402861792,258,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:152 Passed:142 Failed:10
1614402862071,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:153 Passed:143 Failed:10
1614402862778,697,selenium_create_issue:open_quick_create,Success,True
1614402863985,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402863985,1206,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402863985,1905,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:154 Passed:144 Failed:10
1614402864661,667,selenium_edit_issue:open_edit_issue_form,Success,True
1614402865585,569,selenium_edit_issue:save_edit_issue_form,Success,True
1614402865585,1592,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:155 Passed:145 Failed:10
1614402866048,461,selenium_save_comment:open_comment_form,Success,True
1614402866898,742,selenium_save_comment:submit_form,Success,True
1614402866898,1311,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:156 Passed:146 Failed:10
1614402868209,1309,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:157 Passed:147 Failed:10
1614402869596,1385,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:158 Passed:148 Failed:10
1614402870400,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:159 Passed:149 Failed:10
1614402870834,432,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:160 Passed:150 Failed:10
1614402871146,310,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:161 Passed:151 Failed:10
1614402871738,590,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:162 Passed:152 Failed:10
1614402872312,572,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:163 Passed:153 Failed:10
1614402872313,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402872313,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212299', 'issue_key': 'AAFAIA-6791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:164 Passed:153 Failed:11
1614402873016,347,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:165 Passed:154 Failed:11


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212299', 'issue_key': 'AAFAIA-6791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.33s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402873174,104,selenium_login:open_login_page,Success,True
1614402873656,482,selenium_login:login_and_view_dashboard,Success,True
1614402873656,586,selenium_login,Success,True
.test_0_selenium_a_login,Total:166 Passed:155 Failed:11
1614402873952,285,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:167 Passed:156 Failed:11
1614402874231,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:168 Passed:157 Failed:11
1614402875033,793,selenium_create_issue:open_quick_create,Success,True
1614402876236,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402876236,1202,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402876236,1996,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:169 Passed:158 Failed:11
1614402876772,527,selenium_edit_issue:open_edit_issue_form,Success,True
1614402877868,618,selenium_edit_issue:save_edit_issue_form,Success,True
1614402877869,1623,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:170 Passed:159 Failed:11
1614402878276,405,selenium_save_comment:open_comment_form,Success,True
1614402879191,751,selenium_save_comment:submit_form,Success,True
1614402879191,1320,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:171 Passed:160 Failed:11
1614402880597,1404,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:172 Passed:161 Failed:11
1614402881976,1376,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:173 Passed:162 Failed:11
1614402882769,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:174 Passed:163 Failed:11
1614402883132,361,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:175 Passed:164 Failed:11
1614402883393,258,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:176 Passed:165 Failed:11
1614402884058,663,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:177 Passed:166 Failed:11
1614402884541,481,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:178 Passed:167 Failed:11
1614402884542,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402884542,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211660', 'issue_key': 'AAFAIA-6152', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:179 Passed:167 Failed:12
1614402885407,320,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:180 Passed:168 Failed:12


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211660', 'issue_key': 'AAFAIA-6152', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.35s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402885576,116,selenium_login:open_login_page,Success,True
1614402886074,497,selenium_login:login_and_view_dashboard,Success,True
1614402886074,614,selenium_login,Success,True
.test_0_selenium_a_login,Total:181 Passed:169 Failed:12
1614402886349,263,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:182 Passed:170 Failed:12
1614402886697,346,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:183 Passed:171 Failed:12
1614402887481,773,selenium_create_issue:open_quick_create,Success,True
1614402888671,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402888671,1190,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402888671,1964,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:184 Passed:172 Failed:12
1614402889323,642,selenium_edit_issue:open_edit_issue_form,Success,True
1614402890267,579,selenium_edit_issue:save_edit_issue_form,Success,True
1614402890267,1587,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:185 Passed:173 Failed:12
1614402890717,448,selenium_save_comment:open_comment_form,Success,True
1614402891554,739,selenium_save_comment:submit_form,Success,True
1614402891554,1285,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:186 Passed:174 Failed:12
1614402892854,1298,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:187 Passed:175 Failed:12
1614402894240,1384,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:188 Passed:176 Failed:12
1614402895073,830,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:189 Passed:177 Failed:12
1614402895635,561,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:190 Passed:178 Failed:12
1614402895948,311,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:191 Passed:179 Failed:12
1614402896536,586,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:192 Passed:180 Failed:12
1614402897093,555,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:193 Passed:181 Failed:12
1614402897095,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402897095,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207769', 'issue_key': 'AAFAIA-2261', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:194 Passed:181 Failed:13
1614402897888,312,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:195 Passed:182 Failed:13


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207769', 'issue_key': 'AAFAIA-2261', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.44s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402898051,109,selenium_login:open_login_page,Success,True
1614402898544,492,selenium_login:login_and_view_dashboard,Success,True
1614402898544,602,selenium_login,Success,True
.test_0_selenium_a_login,Total:196 Passed:183 Failed:13
1614402898887,331,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:197 Passed:184 Failed:13
1614402899160,271,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:198 Passed:185 Failed:13
1614402899961,790,selenium_create_issue:open_quick_create,Success,True
1614402901103,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402901103,1141,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402901103,1932,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:199 Passed:186 Failed:13
1614402901663,551,selenium_edit_issue:open_edit_issue_form,Success,True
1614402902758,580,selenium_edit_issue:save_edit_issue_form,Success,True
1614402902758,1646,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:200 Passed:187 Failed:13
1614402903166,406,selenium_save_comment:open_comment_form,Success,True
1614402904082,751,selenium_save_comment:submit_form,Success,True
1614402904082,1322,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:201 Passed:188 Failed:13
1614402905390,1306,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:202 Passed:189 Failed:13
1614402906809,1417,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:203 Passed:190 Failed:13
1614402907602,792,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:204 Passed:191 Failed:13
1614402908176,572,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:205 Passed:192 Failed:13
1614402908482,303,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:206 Passed:193 Failed:13
1614402909202,718,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:207 Passed:194 Failed:13
1614402909625,422,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:208 Passed:195 Failed:13
1614402909627,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402909627,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915259', 'issue_key': 'AABIS-695', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:209 Passed:195 Failed:14
1614402910494,346,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:210 Passed:196 Failed:14


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915259', 'issue_key': 'AABIS-695', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.56s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402910664,116,selenium_login:open_login_page,Success,True
1614402911166,501,selenium_login:login_and_view_dashboard,Success,True
1614402911166,618,selenium_login,Success,True
.test_0_selenium_a_login,Total:211 Passed:197 Failed:14
1614402911474,297,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:212 Passed:198 Failed:14
1614402911760,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:213 Passed:199 Failed:14
1614402912533,764,selenium_create_issue:open_quick_create,Success,True
1614402913739,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402913739,1205,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402913739,1970,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:214 Passed:200 Failed:14
1614402914388,640,selenium_edit_issue:open_edit_issue_form,Success,True
1614402915393,631,selenium_edit_issue:save_edit_issue_form,Success,True
1614402915393,1646,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:215 Passed:201 Failed:14
1614402915795,400,selenium_save_comment:open_comment_form,Success,True
1614402916747,790,selenium_save_comment:submit_form,Success,True
1614402916747,1352,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:216 Passed:202 Failed:14
1614402918117,1368,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:217 Passed:203 Failed:14
1614402919141,1022,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:218 Passed:204 Failed:14
1614402920044,901,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:219 Passed:205 Failed:14
1614402921028,982,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:220 Passed:206 Failed:14
1614402921503,473,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:221 Passed:207 Failed:14
1614402922136,630,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:222 Passed:208 Failed:14
1614402922568,430,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:223 Passed:209 Failed:14
1614402922569,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402922569,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210293', 'issue_key': 'AAFAIA-4785', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:224 Passed:209 Failed:15
1614402923381,363,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:225 Passed:210 Failed:15


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210293', 'issue_key': 'AAFAIA-4785', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.84s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402923551,107,selenium_login:open_login_page,Success,True
1614402924052,501,selenium_login:login_and_view_dashboard,Success,True
1614402924053,609,selenium_login,Success,True
.test_0_selenium_a_login,Total:226 Passed:211 Failed:15
1614402924355,291,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:227 Passed:212 Failed:15
1614402924645,288,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:228 Passed:213 Failed:15
1614402925421,766,selenium_create_issue:open_quick_create,Success,True
1614402926636,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402926636,1214,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402926636,1981,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:229 Passed:214 Failed:15
1614402927303,659,selenium_edit_issue:open_edit_issue_form,Success,True
1614402928248,560,selenium_edit_issue:save_edit_issue_form,Success,True
1614402928248,1604,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:230 Passed:215 Failed:15
1614402928653,404,selenium_save_comment:open_comment_form,Success,True
1614402929560,746,selenium_save_comment:submit_form,Success,True
1614402929560,1311,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:231 Passed:216 Failed:15
1614402930950,1388,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:232 Passed:217 Failed:15
1614402931973,1021,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:233 Passed:218 Failed:15
1614402932884,909,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:234 Passed:219 Failed:15
1614402933496,611,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:235 Passed:220 Failed:15
1614402933886,387,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:236 Passed:221 Failed:15
1614402934561,673,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:237 Passed:222 Failed:15
1614402934989,426,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:238 Passed:223 Failed:15
1614402934990,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402934990,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205572', 'issue_key': 'AAFAIA-64', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:239 Passed:223 Failed:16
1614402935798,353,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:240 Passed:224 Failed:16


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205572', 'issue_key': 'AAFAIA-64', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.36s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402935966,113,selenium_login:open_login_page,Success,True
1614402936450,483,selenium_login:login_and_view_dashboard,Success,True
1614402936450,597,selenium_login,Success,True
.test_0_selenium_a_login,Total:241 Passed:225 Failed:16
1614402936748,287,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:242 Passed:226 Failed:16
1614402937135,385,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:243 Passed:227 Failed:16
1614402938114,968,selenium_create_issue:open_quick_create,Success,True
1614402939450,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402939450,1335,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402939450,2304,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:244 Passed:228 Failed:16
1614402940090,631,selenium_edit_issue:open_edit_issue_form,Success,True
1614402941056,587,selenium_edit_issue:save_edit_issue_form,Success,True
1614402941056,1597,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:245 Passed:229 Failed:16
1614402941444,386,selenium_save_comment:open_comment_form,Success,True
1614402942341,734,selenium_save_comment:submit_form,Success,True
1614402942341,1283,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:246 Passed:230 Failed:16
1614402943654,1311,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:247 Passed:231 Failed:16
1614402944457,801,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:248 Passed:232 Failed:16
1614402945260,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:249 Passed:233 Failed:16
1614402945645,383,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:250 Passed:234 Failed:16
1614402945923,276,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:251 Passed:235 Failed:16
1614402946581,656,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:252 Passed:236 Failed:16
1614402947012,428,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:253 Passed:237 Failed:16
1614402947013,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402947013,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209479', 'issue_key': 'AAFAIA-3971', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:254 Passed:237 Failed:17
1614402947761,390,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:255 Passed:238 Failed:17


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209479', 'issue_key': 'AAFAIA-3971', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.92s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402947924,109,selenium_login:open_login_page,Success,True
1614402948445,520,selenium_login:login_and_view_dashboard,Success,True
1614402948445,630,selenium_login,Success,True
.test_0_selenium_a_login,Total:256 Passed:239 Failed:17
1614402948720,264,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:257 Passed:240 Failed:17
1614402949000,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:258 Passed:241 Failed:17
1614402949829,819,selenium_create_issue:open_quick_create,Success,True
1614402951027,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402951027,1197,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402951027,2017,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:259 Passed:242 Failed:17
1614402951745,709,selenium_edit_issue:open_edit_issue_form,Success,True
1614402952680,571,selenium_edit_issue:save_edit_issue_form,Success,True
1614402952680,1644,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:260 Passed:243 Failed:17
1614402953091,408,selenium_save_comment:open_comment_form,Success,True
1614402954032,777,selenium_save_comment:submit_form,Success,True
1614402954032,1350,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:261 Passed:244 Failed:17
1614402955416,1382,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:262 Passed:245 Failed:17
1614402956802,1384,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:263 Passed:246 Failed:17
1614402957632,828,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:264 Passed:247 Failed:17
1614402958418,784,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:265 Passed:248 Failed:17
1614402958668,248,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:266 Passed:249 Failed:17
1614402959360,690,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:267 Passed:250 Failed:17
1614402959768,406,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:268 Passed:251 Failed:17
1614402959769,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402959769,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209394', 'issue_key': 'AAFAIA-3886', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:269 Passed:251 Failed:18
1614402960594,441,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:270 Passed:252 Failed:18


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209394', 'issue_key': 'AAFAIA-3886', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.79s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402960755,107,selenium_login:open_login_page,Success,True
1614402961226,470,selenium_login:login_and_view_dashboard,Success,True
1614402961226,578,selenium_login,Success,True
.test_0_selenium_a_login,Total:271 Passed:253 Failed:18
1614402961565,325,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:272 Passed:254 Failed:18
1614402961842,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:273 Passed:255 Failed:18
1614402962666,815,selenium_create_issue:open_quick_create,Success,True
1614402963884,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402963884,1218,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402963884,2034,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:274 Passed:256 Failed:18
1614402964405,512,selenium_edit_issue:open_edit_issue_form,Success,True
1614402965427,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614402965427,1534,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:275 Passed:257 Failed:18
1614402965818,390,selenium_save_comment:open_comment_form,Success,True
1614402966695,707,selenium_save_comment:submit_form,Success,True
1614402966695,1266,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:276 Passed:258 Failed:18
1614402967987,1291,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:277 Passed:259 Failed:18
1614402969357,1368,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:278 Passed:260 Failed:18
1614402970167,808,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:279 Passed:261 Failed:18
1614402970637,468,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:280 Passed:262 Failed:18
1614402970930,290,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:281 Passed:263 Failed:18
1614402971486,555,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:282 Passed:264 Failed:18
1614402971959,470,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:283 Passed:265 Failed:18
1614402971960,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402971960,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210310', 'issue_key': 'AAFAIA-4802', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:284 Passed:265 Failed:19
1614402972700,401,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:285 Passed:266 Failed:19


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210310', 'issue_key': 'AAFAIA-4802', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.06s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402972872,108,selenium_login:open_login_page,Success,True
1614402973351,478,selenium_login:login_and_view_dashboard,Success,True
1614402973351,587,selenium_login,Success,True
.test_0_selenium_a_login,Total:286 Passed:267 Failed:19
1614402973646,283,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:287 Passed:268 Failed:19
1614402973930,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:288 Passed:269 Failed:19
1614402974646,707,selenium_create_issue:open_quick_create,Success,True
1614402975851,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402975851,1204,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402975851,1912,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:289 Passed:270 Failed:19
1614402976497,636,selenium_edit_issue:open_edit_issue_form,Success,True
1614402977413,547,selenium_edit_issue:save_edit_issue_form,Success,True
1614402977413,1553,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:290 Passed:271 Failed:19
1614402977711,297,selenium_save_comment:open_comment_form,Success,True
1614402978657,780,selenium_save_comment:submit_form,Success,True
1614402978658,1243,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:291 Passed:272 Failed:19
1614402979986,1326,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:292 Passed:273 Failed:19
1614402980974,987,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:293 Passed:274 Failed:19
1614402981770,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:294 Passed:275 Failed:19
1614402982568,796,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:295 Passed:276 Failed:19
1614402982827,257,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:296 Passed:277 Failed:19
1614402983497,668,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:297 Passed:278 Failed:19
1614402983914,415,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:298 Passed:279 Failed:19
1614402983916,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402983916,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207193', 'issue_key': 'AAFAIA-1685', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:299 Passed:279 Failed:20
1614402984686,331,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:300 Passed:280 Failed:20


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207193', 'issue_key': 'AAFAIA-1685', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.93s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402984841,103,selenium_login:open_login_page,Success,True
1614402985333,491,selenium_login:login_and_view_dashboard,Success,True
1614402985333,595,selenium_login,Success,True
.test_0_selenium_a_login,Total:301 Passed:281 Failed:20
1614402985685,333,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:302 Passed:282 Failed:20
1614402985971,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:303 Passed:283 Failed:20
1614402986667,687,selenium_create_issue:open_quick_create,Success,True
1614402987868,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614402987869,1201,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614402987869,1888,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:304 Passed:284 Failed:20
1614402988409,531,selenium_edit_issue:open_edit_issue_form,Success,True
1614402989427,553,selenium_edit_issue:save_edit_issue_form,Success,True
1614402989427,1550,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:305 Passed:285 Failed:20
1614402989822,393,selenium_save_comment:open_comment_form,Success,True
1614402990689,708,selenium_save_comment:submit_form,Success,True
1614402990689,1260,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:306 Passed:286 Failed:20
1614402992158,1466,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:307 Passed:287 Failed:20
1614402992972,812,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:308 Passed:288 Failed:20
1614402993783,809,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:309 Passed:289 Failed:20
1614402994532,748,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:310 Passed:290 Failed:20
1614402994940,405,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:311 Passed:291 Failed:20
1614402995614,672,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:312 Passed:292 Failed:20
1614402996044,428,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:313 Passed:293 Failed:20
1614402996045,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614402996045,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212264', 'issue_key': 'AAFAIA-6756', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:314 Passed:293 Failed:21
1614402996830,376,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:315 Passed:294 Failed:21


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212264', 'issue_key': 'AAFAIA-6756', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.10s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614402996991,108,selenium_login:open_login_page,Success,True
1614402998186,1195,selenium_login:login_and_view_dashboard,Success,True
1614402998186,1304,selenium_login,Success,True
.test_0_selenium_a_login,Total:316 Passed:295 Failed:21
1614402998547,306,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:317 Passed:296 Failed:21
1614402998830,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:318 Passed:297 Failed:21
1614402999492,652,selenium_create_issue:open_quick_create,Success,True
1614403000648,608,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403000648,1155,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403000648,1808,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:319 Passed:298 Failed:21
1614403001306,649,selenium_edit_issue:open_edit_issue_form,Success,True
1614403002281,626,selenium_edit_issue:save_edit_issue_form,Success,True
1614403002281,1625,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:320 Passed:299 Failed:21
1614403002632,349,selenium_save_comment:open_comment_form,Success,True
1614403003541,743,selenium_save_comment:submit_form,Success,True
1614403003541,1258,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:321 Passed:300 Failed:21
1614403004853,1310,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:322 Passed:301 Failed:21
1614403005657,802,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:323 Passed:302 Failed:21
1614403006460,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:324 Passed:303 Failed:21
1614403007145,683,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:325 Passed:304 Failed:21
1614403007520,374,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:326 Passed:305 Failed:21
1614403008204,681,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:327 Passed:306 Failed:21
1614403008672,466,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:328 Passed:307 Failed:21
1614403008673,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403008673,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915190', 'issue_key': 'AABIS-626', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:329 Passed:307 Failed:22
1614403009469,342,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:330 Passed:308 Failed:22


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915190', 'issue_key': 'AABIS-626', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.60s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403009637,113,selenium_login:open_login_page,Success,True
1614403010807,1170,selenium_login:login_and_view_dashboard,Success,True
1614403010807,1283,selenium_login,Success,True
.test_0_selenium_a_login,Total:331 Passed:309 Failed:22
1614403011129,293,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:332 Passed:310 Failed:22
1614403011415,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:333 Passed:311 Failed:22
1614403012097,673,selenium_create_issue:open_quick_create,Success,True
1614403013293,608,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403013293,1196,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403013293,1869,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:334 Passed:312 Failed:22
1614403013925,621,selenium_edit_issue:open_edit_issue_form,Success,True
1614403014858,555,selenium_edit_issue:save_edit_issue_form,Success,True
1614403014858,1555,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:335 Passed:313 Failed:22
1614403015262,402,selenium_save_comment:open_comment_form,Success,True
1614403016192,764,selenium_save_comment:submit_form,Success,True
1614403016192,1333,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:336 Passed:314 Failed:22
1614403017463,1269,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:337 Passed:315 Failed:22
1614403018852,1386,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:338 Passed:316 Failed:22
1614403019637,784,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:339 Passed:317 Failed:22
1614403020391,752,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:340 Passed:318 Failed:22
1614403020660,268,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:341 Passed:319 Failed:22
1614403021358,695,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:342 Passed:320 Failed:22
1614403021776,417,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:343 Passed:321 Failed:22
1614403021778,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403021778,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210695', 'issue_key': 'AAFAIA-5187', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:344 Passed:321 Failed:23
1614403022523,404,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:345 Passed:322 Failed:23


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210695', 'issue_key': 'AAFAIA-5187', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.01s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403022688,106,selenium_login:open_login_page,Success,True
1614403023911,1222,selenium_login:login_and_view_dashboard,Success,True
1614403023911,1329,selenium_login,Success,True
.test_0_selenium_a_login,Total:346 Passed:323 Failed:23
1614403024245,300,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:347 Passed:324 Failed:23
1614403024537,290,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:348 Passed:325 Failed:23
1614403025213,666,selenium_create_issue:open_quick_create,Success,True
1614403026341,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403026341,1128,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403026341,1794,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:349 Passed:326 Failed:23
1614403026889,539,selenium_edit_issue:open_edit_issue_form,Success,True
1614403027972,589,selenium_edit_issue:save_edit_issue_form,Success,True
1614403027972,1622,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:350 Passed:327 Failed:23
1614403028366,392,selenium_save_comment:open_comment_form,Success,True
1614403029293,766,selenium_save_comment:submit_form,Success,True
1614403029293,1319,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:351 Passed:328 Failed:23
1614403030591,1296,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:352 Passed:329 Failed:23
1614403031458,865,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:353 Passed:330 Failed:23
1614403032263,803,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:354 Passed:331 Failed:23
1614403033030,765,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:355 Passed:332 Failed:23
1614403033289,257,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:356 Passed:333 Failed:23
1614403033961,670,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:357 Passed:334 Failed:23
1614403034375,412,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:358 Passed:335 Failed:23
1614403034376,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403034376,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206512', 'issue_key': 'AAFAIA-1004', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:359 Passed:335 Failed:24
1614403035261,384,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:360 Passed:336 Failed:24


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206512', 'issue_key': 'AAFAIA-1004', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.69s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403035443,127,selenium_login:open_login_page,Success,True
1614403035916,472,selenium_login:login_and_view_dashboard,Success,True
1614403035916,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:361 Passed:337 Failed:24
1614403036212,286,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:362 Passed:338 Failed:24
1614403036488,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:363 Passed:339 Failed:24
1614403037320,822,selenium_create_issue:open_quick_create,Success,True
1614403038478,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403038479,1158,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403038479,1981,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:364 Passed:340 Failed:24
1614403039024,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614403040065,544,selenium_edit_issue:save_edit_issue_form,Success,True
1614403040065,1578,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:365 Passed:341 Failed:24
1614403040525,458,selenium_save_comment:open_comment_form,Success,True
1614403041469,837,selenium_save_comment:submit_form,Success,True
1614403041469,1402,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:366 Passed:342 Failed:24
1614403042789,1319,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:367 Passed:343 Failed:24
1614403044161,1370,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:368 Passed:344 Failed:24
1614403044956,792,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:369 Passed:345 Failed:24
1614403045861,903,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:370 Passed:346 Failed:24
1614403046284,421,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:371 Passed:347 Failed:24
1614403047007,721,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:372 Passed:348 Failed:24
1614403047492,483,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:373 Passed:349 Failed:24
1614403047494,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403047494,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210940', 'issue_key': 'AAFAIA-5432', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:374 Passed:349 Failed:25
1614403048280,386,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:375 Passed:350 Failed:25


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210940', 'issue_key': 'AAFAIA-5432', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.97s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403048471,108,selenium_login:open_login_page,Success,True
1614403049013,541,selenium_login:login_and_view_dashboard,Success,True
1614403049013,650,selenium_login,Success,True
.test_0_selenium_a_login,Total:376 Passed:351 Failed:25
1614403049301,277,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:377 Passed:352 Failed:25
1614403049587,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:378 Passed:353 Failed:25
1614403050380,783,selenium_create_issue:open_quick_create,Success,True
1614403051628,633,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403051628,1248,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403051628,2032,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:379 Passed:354 Failed:25
1614403052277,638,selenium_edit_issue:open_edit_issue_form,Success,True
1614403053183,541,selenium_edit_issue:save_edit_issue_form,Success,True
1614403053183,1544,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:380 Passed:355 Failed:25
1614403053574,390,selenium_save_comment:open_comment_form,Success,True
1614403054556,817,selenium_save_comment:submit_form,Success,True
1614403054556,1372,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:381 Passed:356 Failed:25
1614403055914,1356,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:382 Passed:357 Failed:25
1614403056714,799,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:383 Passed:358 Failed:25
1614403057526,809,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:384 Passed:359 Failed:25
1614403058003,476,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:385 Passed:360 Failed:25
1614403058282,277,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:386 Passed:361 Failed:25
1614403059015,731,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:387 Passed:362 Failed:25
1614403059481,464,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:388 Passed:363 Failed:25
1614403059482,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403059482,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915466', 'issue_key': 'AABIS-902', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:389 Passed:363 Failed:26
1614403060361,362,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:390 Passed:364 Failed:26


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915466', 'issue_key': 'AABIS-902', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.01s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403060518,104,selenium_login:open_login_page,Success,True
1614403061740,1221,selenium_login:login_and_view_dashboard,Success,True
1614403061740,1326,selenium_login,Success,True
.test_0_selenium_a_login,Total:391 Passed:365 Failed:26
1614403062077,306,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:392 Passed:366 Failed:26
1614403062375,296,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:393 Passed:367 Failed:26
1614403063171,786,selenium_create_issue:open_quick_create,Success,True
1614403064404,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403064404,1232,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403064404,2019,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:394 Passed:368 Failed:26
1614403065069,655,selenium_edit_issue:open_edit_issue_form,Success,True
1614403066011,555,selenium_edit_issue:save_edit_issue_form,Success,True
1614403066011,1598,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:395 Passed:369 Failed:26
1614403066414,401,selenium_save_comment:open_comment_form,Success,True
1614403067404,830,selenium_save_comment:submit_form,Success,True
1614403067404,1391,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:396 Passed:370 Failed:26
1614403068793,1387,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:397 Passed:371 Failed:26
1614403069660,865,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:398 Passed:372 Failed:26
1614403070557,896,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:399 Passed:373 Failed:26
1614403071351,792,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:400 Passed:374 Failed:26
1614403071593,241,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:401 Passed:375 Failed:26
1614403072256,660,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:402 Passed:376 Failed:26
1614403072680,422,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:403 Passed:377 Failed:26
1614403072681,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403072681,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210412', 'issue_key': 'AAFAIA-4904', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:404 Passed:377 Failed:27
1614403073465,350,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:405 Passed:378 Failed:27


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210412', 'issue_key': 'AAFAIA-4904', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.06s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403073627,108,selenium_login:open_login_page,Success,True
1614403074799,1172,selenium_login:login_and_view_dashboard,Success,True
1614403074800,1281,selenium_login,Success,True
.test_0_selenium_a_login,Total:406 Passed:379 Failed:27
1614403075127,297,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:407 Passed:380 Failed:27
1614403075411,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:408 Passed:381 Failed:27
1614403076061,640,selenium_create_issue:open_quick_create,Success,True
1614403077211,607,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403077211,1149,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403077211,1790,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:409 Passed:382 Failed:27
1614403077918,698,selenium_edit_issue:open_edit_issue_form,Success,True
1614403078870,578,selenium_edit_issue:save_edit_issue_form,Success,True
1614403078870,1651,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:410 Passed:383 Failed:27
1614403079266,393,selenium_save_comment:open_comment_form,Success,True
1614403080167,741,selenium_save_comment:submit_form,Success,True
1614403080167,1295,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:411 Passed:384 Failed:27
1614403081550,1381,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:412 Passed:385 Failed:27
1614403082915,1363,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:413 Passed:386 Failed:27
1614403083701,784,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:414 Passed:387 Failed:27
1614403084422,718,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:415 Passed:388 Failed:27
1614403084806,383,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:416 Passed:389 Failed:27
1614403085489,681,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:417 Passed:390 Failed:27
1614403085919,427,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:418 Passed:391 Failed:27
1614403085920,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403085920,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212411', 'issue_key': 'AAFAIA-6903', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:419 Passed:391 Failed:28
1614403086731,357,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:420 Passed:392 Failed:28


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212411', 'issue_key': 'AAFAIA-6903', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.22s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403086890,105,selenium_login:open_login_page,Success,True
1614403087355,465,selenium_login:login_and_view_dashboard,Success,True
1614403087355,571,selenium_login,Success,True
.test_0_selenium_a_login,Total:421 Passed:393 Failed:28
1614403087709,339,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:422 Passed:394 Failed:28
1614403087982,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:423 Passed:395 Failed:28
1614403088798,806,selenium_create_issue:open_quick_create,Success,True
1614403090029,623,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403090029,1231,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403090029,2037,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:424 Passed:396 Failed:28
1614403090669,631,selenium_edit_issue:open_edit_issue_form,Success,True
1614403091610,570,selenium_edit_issue:save_edit_issue_form,Success,True
1614403091610,1573,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:425 Passed:397 Failed:28
1614403092002,389,selenium_save_comment:open_comment_form,Success,True
1614403092887,721,selenium_save_comment:submit_form,Success,True
1614403092887,1274,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:426 Passed:398 Failed:28
1614403094180,1291,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:427 Passed:399 Failed:28
1614403094995,813,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:428 Passed:400 Failed:28
1614403095789,792,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:429 Passed:401 Failed:28
1614403096520,729,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:430 Passed:402 Failed:28
1614403096798,276,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:431 Passed:403 Failed:28
1614403097379,579,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:432 Passed:404 Failed:28
1614403097813,432,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:433 Passed:405 Failed:28
1614403097815,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403097815,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208207', 'issue_key': 'AAFAIA-2699', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:434 Passed:405 Failed:29
1614403098534,378,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:435 Passed:406 Failed:29


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208207', 'issue_key': 'AAFAIA-2699', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.76s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403098697,110,selenium_login:open_login_page,Success,True
1614403099194,496,selenium_login:login_and_view_dashboard,Success,True
1614403099194,607,selenium_login,Success,True
.test_0_selenium_a_login,Total:436 Passed:407 Failed:29
1614403099482,275,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:437 Passed:408 Failed:29
1614403099776,292,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:438 Passed:409 Failed:29
1614403100459,673,selenium_create_issue:open_quick_create,Success,True
1614403101676,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403101677,1217,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403101677,1891,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:439 Passed:410 Failed:29
1614403102336,651,selenium_edit_issue:open_edit_issue_form,Success,True
1614403103267,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614403103267,1582,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:440 Passed:411 Failed:29
1614403103629,360,selenium_save_comment:open_comment_form,Success,True
1614403104569,735,selenium_save_comment:submit_form,Success,True
1614403104569,1300,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:441 Passed:412 Failed:29
1614403105943,1372,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:442 Passed:413 Failed:29
1614403107308,1364,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:443 Passed:414 Failed:29
1614403108130,819,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:444 Passed:415 Failed:29
1614403108849,717,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:445 Passed:416 Failed:29
1614403109147,296,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:446 Passed:417 Failed:29
1614403109818,668,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:447 Passed:418 Failed:29
1614403110343,523,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:448 Passed:419 Failed:29
1614403110344,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403110344,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212483', 'issue_key': 'AAFAIA-6975', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:449 Passed:419 Failed:30
1614403111187,436,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:450 Passed:420 Failed:30


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212483', 'issue_key': 'AAFAIA-6975', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.61s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403111350,110,selenium_login:open_login_page,Success,True
1614403111855,505,selenium_login:login_and_view_dashboard,Success,True
1614403111856,616,selenium_login,Success,True
.test_0_selenium_a_login,Total:451 Passed:421 Failed:30
1614403112148,281,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:452 Passed:422 Failed:30
1614403112424,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:453 Passed:423 Failed:30
1614403113213,780,selenium_create_issue:open_quick_create,Success,True
1614403114416,623,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403114416,1203,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403114416,1984,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:454 Passed:424 Failed:30
1614403115066,641,selenium_edit_issue:open_edit_issue_form,Success,True
1614403116054,615,selenium_edit_issue:save_edit_issue_form,Success,True
1614403116054,1628,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:455 Passed:425 Failed:30
1614403116362,307,selenium_save_comment:open_comment_form,Success,True
1614403117821,791,selenium_save_comment:submit_form,Success,True
1614403117821,1766,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:456 Passed:426 Failed:30
1614403119161,1338,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:457 Passed:427 Failed:30
1614403120514,1351,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:458 Passed:428 Failed:30
1614403121341,825,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:459 Passed:429 Failed:30
1614403121876,534,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:460 Passed:430 Failed:30
1614403122170,292,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:461 Passed:431 Failed:30
1614403122772,599,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:462 Passed:432 Failed:30
1614403123262,489,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:463 Passed:433 Failed:30
1614403123264,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403123264,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208013', 'issue_key': 'AAFAIA-2505', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:464 Passed:433 Failed:31
1614403124024,374,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:465 Passed:434 Failed:31


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208013', 'issue_key': 'AAFAIA-2505', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.80s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403124185,109,selenium_login:open_login_page,Success,True
1614403125395,1210,selenium_login:login_and_view_dashboard,Success,True
1614403125396,1320,selenium_login,Success,True
.test_0_selenium_a_login,Total:466 Passed:435 Failed:31
1614403125655,238,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:467 Passed:436 Failed:31
1614403125926,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:468 Passed:437 Failed:31
1614403126719,781,selenium_create_issue:open_quick_create,Success,True
1614403127943,623,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403127943,1223,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403127943,2005,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:469 Passed:438 Failed:31
1614403128599,646,selenium_edit_issue:open_edit_issue_form,Success,True
1614403129552,576,selenium_edit_issue:save_edit_issue_form,Success,True
1614403129552,1600,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:470 Passed:439 Failed:31
1614403129939,384,selenium_save_comment:open_comment_form,Success,True
1614403130878,772,selenium_save_comment:submit_form,Success,True
1614403130878,1324,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:471 Passed:440 Failed:31
1614403132222,1342,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:472 Passed:441 Failed:31
1614403133608,1384,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:473 Passed:442 Failed:31
1614403134410,799,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:474 Passed:443 Failed:31
1614403135065,653,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:475 Passed:444 Failed:31
1614403135397,330,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:476 Passed:445 Failed:31
1614403136057,657,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:477 Passed:446 Failed:31
1614403136522,463,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:478 Passed:447 Failed:31
1614403136523,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403136523,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209358', 'issue_key': 'AAFAIA-3850', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:479 Passed:447 Failed:32
1614403137285,409,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:480 Passed:448 Failed:32


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209358', 'issue_key': 'AAFAIA-3850', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.22s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403137448,109,selenium_login:open_login_page,Success,True
1614403138709,1261,selenium_login:login_and_view_dashboard,Success,True
1614403138709,1371,selenium_login,Success,True
.test_0_selenium_a_login,Total:481 Passed:449 Failed:32
1614403139055,309,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:482 Passed:450 Failed:32
1614403139337,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:483 Passed:451 Failed:32
1614403140106,759,selenium_create_issue:open_quick_create,Success,True
1614403141294,609,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403141294,1187,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403141294,1947,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:484 Passed:452 Failed:32
1614403141951,649,selenium_edit_issue:open_edit_issue_form,Success,True
1614403142866,546,selenium_edit_issue:save_edit_issue_form,Success,True
1614403142866,1563,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:485 Passed:453 Failed:32
1614403143322,454,selenium_save_comment:open_comment_form,Success,True
1614403144201,774,selenium_save_comment:submit_form,Success,True
1614403144202,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:486 Passed:454 Failed:32
1614403145545,1342,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:487 Passed:455 Failed:32
1614403146929,1382,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:488 Passed:456 Failed:32
1614403147724,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:489 Passed:457 Failed:32
1614403148821,1096,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:490 Passed:458 Failed:32
1614403149303,479,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:491 Passed:459 Failed:32
1614403150040,736,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:492 Passed:460 Failed:32
1614403150472,430,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:493 Passed:461 Failed:32
1614403150474,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403150474,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208183', 'issue_key': 'AAFAIA-2675', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:494 Passed:461 Failed:33
1614403151228,367,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:495 Passed:462 Failed:33


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208183', 'issue_key': 'AAFAIA-2675', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403151390,109,selenium_login:open_login_page,Success,True
1614403151976,585,selenium_login:login_and_view_dashboard,Success,True
1614403151976,695,selenium_login,Success,True
.test_0_selenium_a_login,Total:496 Passed:463 Failed:33
1614403152274,288,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:497 Passed:464 Failed:33
1614403152563,286,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:498 Passed:465 Failed:33
1614403153257,684,selenium_create_issue:open_quick_create,Success,True
1614403154458,609,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403154458,1201,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403154458,1886,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:499 Passed:466 Failed:33
1614403155005,537,selenium_edit_issue:open_edit_issue_form,Success,True
1614403156044,558,selenium_edit_issue:save_edit_issue_form,Success,True
1614403156044,1577,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:500 Passed:467 Failed:33
1614403156433,387,selenium_save_comment:open_comment_form,Success,True
1614403157358,764,selenium_save_comment:submit_form,Success,True
1614403157358,1312,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:501 Passed:468 Failed:33
1614403158716,1356,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:502 Passed:469 Failed:33
1614403159548,831,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:503 Passed:470 Failed:33
1614403160356,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:504 Passed:471 Failed:33
1614403160923,566,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:505 Passed:472 Failed:33
1614403161205,279,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:506 Passed:473 Failed:33
1614403161854,648,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:507 Passed:474 Failed:33
1614403162269,413,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:508 Passed:475 Failed:33
1614403162271,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403162271,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211702', 'issue_key': 'AAFAIA-6194', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:509 Passed:475 Failed:34
1614403163072,457,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:510 Passed:476 Failed:34


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211702', 'issue_key': 'AAFAIA-6194', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.80s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403163233,108,selenium_login:open_login_page,Success,True
1614403164444,1210,selenium_login:login_and_view_dashboard,Success,True
1614403164444,1319,selenium_login,Success,True
.test_0_selenium_a_login,Total:511 Passed:477 Failed:34
1614403164781,310,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:512 Passed:478 Failed:34
1614403165057,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:513 Passed:479 Failed:34
1614403165835,769,selenium_create_issue:open_quick_create,Success,True
1614403166996,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403166997,1161,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403166997,1931,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:514 Passed:480 Failed:34
1614403167635,629,selenium_edit_issue:open_edit_issue_form,Success,True
1614403168555,541,selenium_edit_issue:save_edit_issue_form,Success,True
1614403168555,1549,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:515 Passed:481 Failed:34
1614403168969,413,selenium_save_comment:open_comment_form,Success,True
1614403169854,723,selenium_save_comment:submit_form,Success,True
1614403169854,1298,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:516 Passed:482 Failed:34
1614403171133,1277,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:517 Passed:483 Failed:34
1614403172511,1376,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:518 Passed:484 Failed:34
1614403173304,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:519 Passed:485 Failed:34
1614403174045,739,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:520 Passed:486 Failed:34
1614403174338,291,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:521 Passed:487 Failed:34
1614403174982,642,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:522 Passed:488 Failed:34
1614403175464,480,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:523 Passed:489 Failed:34
1614403175465,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403175465,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208806', 'issue_key': 'AAFAIA-3298', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:524 Passed:489 Failed:35
1614403176263,435,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:525 Passed:490 Failed:35


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208806', 'issue_key': 'AAFAIA-3298', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.15s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403176468,113,selenium_login:open_login_page,Success,True
1614403177689,1220,selenium_login:login_and_view_dashboard,Success,True
1614403177689,1334,selenium_login,Success,True
.test_0_selenium_a_login,Total:526 Passed:491 Failed:35
1614403178073,329,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:527 Passed:492 Failed:35
1614403178349,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:528 Passed:493 Failed:35
1614403179144,784,selenium_create_issue:open_quick_create,Success,True
1614403180353,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403180353,1209,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403180353,1994,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:529 Passed:494 Failed:35
1614403181022,658,selenium_edit_issue:open_edit_issue_form,Success,True
1614403181958,561,selenium_edit_issue:save_edit_issue_form,Success,True
1614403181959,1596,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:530 Passed:495 Failed:35
1614403182372,411,selenium_save_comment:open_comment_form,Success,True
1614403183325,787,selenium_save_comment:submit_form,Success,True
1614403183326,1365,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:531 Passed:496 Failed:35
1614403184656,1329,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:532 Passed:497 Failed:35
1614403185470,811,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:533 Passed:498 Failed:35
1614403186278,806,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:534 Passed:499 Failed:35
1614403186751,471,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:535 Passed:500 Failed:35
1614403187020,268,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:536 Passed:501 Failed:35
1614403187661,638,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:537 Passed:502 Failed:35
1614403188134,472,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:538 Passed:503 Failed:35
1614403188136,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403188136,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915309', 'issue_key': 'AABIS-745', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:539 Passed:503 Failed:36
1614403188860,342,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:540 Passed:504 Failed:36


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915309', 'issue_key': 'AABIS-745', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.52s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403189041,126,selenium_login:open_login_page,Success,True
1614403189516,475,selenium_login:login_and_view_dashboard,Success,True
1614403189516,602,selenium_login,Success,True
.test_0_selenium_a_login,Total:541 Passed:505 Failed:36
1614403189879,346,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:542 Passed:506 Failed:36
1614403190161,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:543 Passed:507 Failed:36
1614403191027,856,selenium_create_issue:open_quick_create,Success,True
1614403192221,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403192221,1193,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403192221,2050,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:544 Passed:508 Failed:36
1614403192750,520,selenium_edit_issue:open_edit_issue_form,Success,True
1614403193804,591,selenium_edit_issue:save_edit_issue_form,Success,True
1614403193804,1574,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:545 Passed:509 Failed:36
1614403194504,698,selenium_save_comment:open_comment_form,Success,True
1614403195577,830,selenium_save_comment:submit_form,Success,True
1614403195577,1771,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:546 Passed:510 Failed:36
1614403197011,1432,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:547 Passed:511 Failed:36
1614403197820,807,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:548 Passed:512 Failed:36
1614403198619,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:549 Passed:513 Failed:36
1614403199280,660,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:550 Passed:514 Failed:36
1614403199739,457,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:551 Passed:515 Failed:36
1614403200401,660,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:552 Passed:516 Failed:36
1614403200809,406,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:553 Passed:517 Failed:36
1614403200810,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403200810,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206903', 'issue_key': 'AAFAIA-1395', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:554 Passed:517 Failed:37
1614403201627,363,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:555 Passed:518 Failed:37


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206903', 'issue_key': 'AAFAIA-1395', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.72s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403201795,116,selenium_login:open_login_page,Success,True
1614403202322,526,selenium_login:login_and_view_dashboard,Success,True
1614403202322,643,selenium_login,Success,True
.test_0_selenium_a_login,Total:556 Passed:519 Failed:37
1614403202647,314,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:557 Passed:520 Failed:37
1614403202933,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:558 Passed:521 Failed:37
1614403203681,738,selenium_create_issue:open_quick_create,Success,True
1614403204906,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403204906,1225,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403204907,1964,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:559 Passed:522 Failed:37
1614403205455,540,selenium_edit_issue:open_edit_issue_form,Success,True
1614403206498,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614403206498,1583,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:560 Passed:523 Failed:37
1614403206880,380,selenium_save_comment:open_comment_form,Success,True
1614403207775,730,selenium_save_comment:submit_form,Success,True
1614403207775,1275,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:561 Passed:524 Failed:37
1614403209264,1487,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:562 Passed:525 Failed:37
1614403210627,1362,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:563 Passed:526 Failed:37
1614403211434,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:564 Passed:527 Failed:37
1614403212174,738,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:565 Passed:528 Failed:37
1614403212447,271,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:566 Passed:529 Failed:37
1614403213017,567,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:567 Passed:530 Failed:37
1614403213534,515,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:568 Passed:531 Failed:37
1614403213535,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403213535,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210231', 'issue_key': 'AAFAIA-4723', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:569 Passed:531 Failed:38
1614403214326,394,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:570 Passed:532 Failed:38


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210231', 'issue_key': 'AAFAIA-4723', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.66s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403214490,111,selenium_login:open_login_page,Success,True
1614403215060,569,selenium_login:login_and_view_dashboard,Success,True
1614403215060,681,selenium_login,Success,True
.test_0_selenium_a_login,Total:571 Passed:533 Failed:38
1614403215345,274,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:572 Passed:534 Failed:38
1614403215671,324,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:573 Passed:535 Failed:38
1614403216477,797,selenium_create_issue:open_quick_create,Success,True
1614403217706,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403217707,1229,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403217707,2027,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:574 Passed:536 Failed:38
1614403218234,519,selenium_edit_issue:open_edit_issue_form,Success,True
1614403219255,529,selenium_edit_issue:save_edit_issue_form,Success,True
1614403219255,1540,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:575 Passed:537 Failed:38
1614403219660,403,selenium_save_comment:open_comment_form,Success,True
1614403220561,730,selenium_save_comment:submit_form,Success,True
1614403220561,1304,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:576 Passed:538 Failed:38
1614403221821,1258,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:577 Passed:539 Failed:38
1614403222636,813,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:578 Passed:540 Failed:38
1614403223434,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:579 Passed:541 Failed:38
1614403224585,1149,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:580 Passed:542 Failed:38
1614403225131,544,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:581 Passed:543 Failed:38
1614403225750,617,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:582 Passed:544 Failed:38
1614403226154,403,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:583 Passed:545 Failed:38
1614403226156,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403226156,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209869', 'issue_key': 'AAFAIA-4361', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:584 Passed:545 Failed:39
1614403227058,342,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:585 Passed:546 Failed:39


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209869', 'issue_key': 'AAFAIA-4361', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.69s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403227218,106,selenium_login:open_login_page,Success,True
1614403227706,488,selenium_login:login_and_view_dashboard,Success,True
1614403227706,594,selenium_login,Success,True
.test_0_selenium_a_login,Total:586 Passed:547 Failed:39
1614403227993,275,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:587 Passed:548 Failed:39
1614403228267,273,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:588 Passed:549 Failed:39
1614403229087,810,selenium_create_issue:open_quick_create,Success,True
1614403230272,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403230272,1185,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403230272,1996,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:589 Passed:550 Failed:39
1614403230816,534,selenium_edit_issue:open_edit_issue_form,Success,True
1614403231847,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614403231848,1566,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:590 Passed:551 Failed:39
1614403232262,413,selenium_save_comment:open_comment_form,Success,True
1614403233188,759,selenium_save_comment:submit_form,Success,True
1614403233188,1339,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:591 Passed:552 Failed:39
1614403234520,1330,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:592 Passed:553 Failed:39
1614403235960,1438,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:593 Passed:554 Failed:39
1614403236761,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:594 Passed:555 Failed:39
1614403237522,759,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:595 Passed:556 Failed:39
1614403237977,452,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:596 Passed:557 Failed:39
1614403238700,722,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:597 Passed:558 Failed:39
1614403239151,448,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:598 Passed:559 Failed:39
1614403239152,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403239152,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206121', 'issue_key': 'AAFAIA-613', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:599 Passed:559 Failed:40
1614403239959,303,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:600 Passed:560 Failed:40


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206121', 'issue_key': 'AAFAIA-613', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.86s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403240125,112,selenium_login:open_login_page,Success,True
1614403241427,1301,selenium_login:login_and_view_dashboard,Success,True
1614403241427,1414,selenium_login,Success,True
.test_0_selenium_a_login,Total:601 Passed:561 Failed:40
1614403241760,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:602 Passed:562 Failed:40
1614403242505,743,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:603 Passed:563 Failed:40
1614403243279,764,selenium_create_issue:open_quick_create,Success,True
1614403244520,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403244520,1241,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403244520,2006,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:604 Passed:564 Failed:40
1614403245077,548,selenium_edit_issue:open_edit_issue_form,Success,True
1614403246104,541,selenium_edit_issue:save_edit_issue_form,Success,True
1614403246104,1575,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:605 Passed:565 Failed:40
1614403246498,392,selenium_save_comment:open_comment_form,Success,True
1614403247397,733,selenium_save_comment:submit_form,Success,True
1614403247397,1291,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:606 Passed:566 Failed:40
1614403248890,1491,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:607 Passed:567 Failed:40
1614403250259,1367,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:608 Passed:568 Failed:40
1614403251054,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:609 Passed:569 Failed:40
1614403251787,731,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:610 Passed:570 Failed:40
1614403252104,315,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:611 Passed:571 Failed:40
1614403252792,686,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:612 Passed:572 Failed:40
1614403253235,441,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:613 Passed:573 Failed:40
1614403253236,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403253236,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210124', 'issue_key': 'AAFAIA-4616', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:614 Passed:573 Failed:41
1614403254071,403,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:615 Passed:574 Failed:41


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210124', 'issue_key': 'AAFAIA-4616', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 14.07s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403254229,104,selenium_login:open_login_page,Success,True
1614403255465,1235,selenium_login:login_and_view_dashboard,Success,True
1614403255465,1340,selenium_login,Success,True
.test_0_selenium_a_login,Total:616 Passed:575 Failed:41
1614403255790,296,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:617 Passed:576 Failed:41
1614403256073,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:618 Passed:577 Failed:41
1614403256852,769,selenium_create_issue:open_quick_create,Success,True
1614403258035,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403258036,1183,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403258036,1953,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:619 Passed:578 Failed:41
1614403258601,556,selenium_edit_issue:open_edit_issue_form,Success,True
1614403259658,561,selenium_edit_issue:save_edit_issue_form,Success,True
1614403259659,1614,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:620 Passed:579 Failed:41
1614403260054,393,selenium_save_comment:open_comment_form,Success,True
1614403260962,746,selenium_save_comment:submit_form,Success,True
1614403260962,1301,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:621 Passed:580 Failed:41
1614403262513,1549,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:622 Passed:581 Failed:41
1614403263909,1395,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:623 Passed:582 Failed:41
1614403264718,806,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:624 Passed:583 Failed:41
1614403265236,517,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:625 Passed:584 Failed:41
1614403265553,314,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:626 Passed:585 Failed:41
1614403266225,671,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:627 Passed:586 Failed:41
1614403266689,462,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:628 Passed:587 Failed:41
1614403266690,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403266690,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210273', 'issue_key': 'AAFAIA-4765', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:629 Passed:587 Failed:42
1614403267474,336,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:630 Passed:588 Failed:42


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210273', 'issue_key': 'AAFAIA-4765', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.36s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403267634,108,selenium_login:open_login_page,Success,True
1614403268108,473,selenium_login:login_and_view_dashboard,Success,True
1614403268108,582,selenium_login,Success,True
.test_0_selenium_a_login,Total:631 Passed:589 Failed:42
1614403268439,319,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:632 Passed:590 Failed:42
1614403268737,296,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:633 Passed:591 Failed:42
1614403269521,775,selenium_create_issue:open_quick_create,Success,True
1614403270714,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403270714,1192,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403270714,1968,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:634 Passed:592 Failed:42
1614403271369,646,selenium_edit_issue:open_edit_issue_form,Success,True
1614403272282,540,selenium_edit_issue:save_edit_issue_form,Success,True
1614403272282,1559,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:635 Passed:593 Failed:42
1614403272689,405,selenium_save_comment:open_comment_form,Success,True
1614403273606,754,selenium_save_comment:submit_form,Success,True
1614403273606,1322,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:636 Passed:594 Failed:42
1614403274883,1274,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:637 Passed:595 Failed:42
1614403276302,1418,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:638 Passed:596 Failed:42
1614403277104,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:639 Passed:597 Failed:42
1614403277680,574,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:640 Passed:598 Failed:42
1614403278021,339,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:641 Passed:599 Failed:42
1614403278640,617,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:642 Passed:600 Failed:42
1614403279113,470,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:643 Passed:601 Failed:42
1614403279114,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403279114,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211941', 'issue_key': 'AAFAIA-6433', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:644 Passed:601 Failed:43
1614403279884,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:645 Passed:602 Failed:43


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211941', 'issue_key': 'AAFAIA-6433', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.37s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403280049,113,selenium_login:open_login_page,Success,True
1614403280555,505,selenium_login:login_and_view_dashboard,Success,True
1614403280555,619,selenium_login,Success,True
.test_0_selenium_a_login,Total:646 Passed:603 Failed:43
1614403280835,270,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:647 Passed:604 Failed:43
1614403281114,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:648 Passed:605 Failed:43
1614403281920,797,selenium_create_issue:open_quick_create,Success,True
1614403283115,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403283115,1195,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403283115,1992,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:649 Passed:606 Failed:43
1614403283668,543,selenium_edit_issue:open_edit_issue_form,Success,True
1614403284693,565,selenium_edit_issue:save_edit_issue_form,Success,True
1614403284693,1567,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:650 Passed:607 Failed:43
1614403285160,465,selenium_save_comment:open_comment_form,Success,True
1614403286028,763,selenium_save_comment:submit_form,Success,True
1614403286029,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:651 Passed:608 Failed:43
1614403287349,1318,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:652 Passed:609 Failed:43
1614403288797,1446,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:653 Passed:610 Failed:43
1614403289624,825,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:654 Passed:611 Failed:43
1614403290369,743,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:655 Passed:612 Failed:43
1614403290745,373,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:656 Passed:613 Failed:43
1614403291474,728,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:657 Passed:614 Failed:43
1614403291894,418,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:658 Passed:615 Failed:43
1614403291896,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403291896,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208100', 'issue_key': 'AAFAIA-2592', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:659 Passed:615 Failed:44
1614403292692,327,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:660 Passed:616 Failed:44


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208100', 'issue_key': 'AAFAIA-2592', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.77s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403292848,104,selenium_login:open_login_page,Success,True
1614403293337,489,selenium_login:login_and_view_dashboard,Success,True
1614403293337,594,selenium_login,Success,True
.test_0_selenium_a_login,Total:661 Passed:617 Failed:44
1614403293628,279,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:662 Passed:618 Failed:44
1614403293910,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:663 Passed:619 Failed:44
1614403294686,768,selenium_create_issue:open_quick_create,Success,True
1614403295902,626,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403295902,1215,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403295902,1984,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:664 Passed:620 Failed:44
1614403296429,518,selenium_edit_issue:open_edit_issue_form,Success,True
1614403297435,548,selenium_edit_issue:save_edit_issue_form,Success,True
1614403297435,1523,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:665 Passed:621 Failed:44
1614403297897,461,selenium_save_comment:open_comment_form,Success,True
1614403298807,744,selenium_save_comment:submit_form,Success,True
1614403298808,1371,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:666 Passed:622 Failed:44
1614403300151,1342,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:667 Passed:623 Failed:44
1614403300950,797,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:668 Passed:624 Failed:44
1614403301767,815,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:669 Passed:625 Failed:44
1614403302505,736,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:670 Passed:626 Failed:44
1614403302772,265,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:671 Passed:627 Failed:44
1614403303454,681,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:672 Passed:628 Failed:44
1614403303894,438,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:673 Passed:629 Failed:44
1614403303896,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403303896,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207325', 'issue_key': 'AAFAIA-1817', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:674 Passed:629 Failed:45
1614403304818,372,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:675 Passed:630 Failed:45


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207325', 'issue_key': 'AAFAIA-1817', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.09s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403304983,111,selenium_login:open_login_page,Success,True
1614403305464,480,selenium_login:login_and_view_dashboard,Success,True
1614403305464,592,selenium_login,Success,True
.test_0_selenium_a_login,Total:676 Passed:631 Failed:45
1614403305753,278,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:677 Passed:632 Failed:45
1614403306041,286,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:678 Passed:633 Failed:45
1614403306835,785,selenium_create_issue:open_quick_create,Success,True
1614403307996,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403307996,1160,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403307996,1946,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:679 Passed:634 Failed:45
1614403308688,682,selenium_edit_issue:open_edit_issue_form,Success,True
1614403309629,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614403309630,1624,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:680 Passed:635 Failed:45
1614403310032,401,selenium_save_comment:open_comment_form,Success,True
1614403310920,728,selenium_save_comment:submit_form,Success,True
1614403310920,1289,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:681 Passed:636 Failed:45
1614403312331,1409,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:682 Passed:637 Failed:45
1614403313312,979,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:683 Passed:638 Failed:45
1614403314111,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:684 Passed:639 Failed:45
1614403315028,915,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:685 Passed:640 Failed:45
1614403315521,491,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:686 Passed:641 Failed:45
1614403316117,595,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:687 Passed:642 Failed:45
1614403316555,436,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:688 Passed:643 Failed:45
1614403316556,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403316557,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205644', 'issue_key': 'AAFAIA-136', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:689 Passed:643 Failed:46
1614403317370,339,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:690 Passed:644 Failed:46


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205644', 'issue_key': 'AAFAIA-136', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.51s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403317527,104,selenium_login:open_login_page,Success,True
1614403318820,1292,selenium_login:login_and_view_dashboard,Success,True
1614403318820,1397,selenium_login,Success,True
.test_0_selenium_a_login,Total:691 Passed:645 Failed:46
1614403319157,301,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:692 Passed:646 Failed:46
1614403319438,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:693 Passed:647 Failed:46
1614403320240,791,selenium_create_issue:open_quick_create,Success,True
1614403321402,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403321402,1162,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403321402,1953,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:694 Passed:648 Failed:46
1614403321967,556,selenium_edit_issue:open_edit_issue_form,Success,True
1614403322958,531,selenium_edit_issue:save_edit_issue_form,Success,True
1614403322958,1547,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:695 Passed:649 Failed:46
1614403323353,393,selenium_save_comment:open_comment_form,Success,True
1614403324287,773,selenium_save_comment:submit_form,Success,True
1614403324287,1327,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:696 Passed:650 Failed:46
1614403325630,1341,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:697 Passed:651 Failed:46
1614403327026,1394,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:698 Passed:652 Failed:46
1614403327902,873,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:699 Passed:653 Failed:46
1614403328676,773,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:700 Passed:654 Failed:46
1614403328923,246,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:701 Passed:655 Failed:46
1614403329621,696,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:702 Passed:656 Failed:46
1614403330061,438,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:703 Passed:657 Failed:46
1614403330063,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403330063,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206602', 'issue_key': 'AAFAIA-1094', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:704 Passed:657 Failed:47
1614403330896,440,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:705 Passed:658 Failed:47


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206602', 'issue_key': 'AAFAIA-1094', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.48s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403331051,102,selenium_login:open_login_page,Success,True
1614403331578,526,selenium_login:login_and_view_dashboard,Success,True
1614403331578,629,selenium_login,Success,True
.test_0_selenium_a_login,Total:706 Passed:659 Failed:47
1614403331870,281,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:707 Passed:660 Failed:47
1614403332157,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:708 Passed:661 Failed:47
1614403332964,799,selenium_create_issue:open_quick_create,Success,True
1614403334177,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403334177,1212,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403334177,2012,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:709 Passed:662 Failed:47
1614403334789,603,selenium_edit_issue:open_edit_issue_form,Success,True
1614403335868,587,selenium_edit_issue:save_edit_issue_form,Success,True
1614403335868,1682,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:710 Passed:663 Failed:47
1614403336245,375,selenium_save_comment:open_comment_form,Success,True
1614403337203,799,selenium_save_comment:submit_form,Success,True
1614403337203,1333,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:711 Passed:664 Failed:47
1614403338585,1380,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:712 Passed:665 Failed:47
1614403339949,1362,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:713 Passed:666 Failed:47
1614403340779,828,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:714 Passed:667 Failed:47
1614403341492,710,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:715 Passed:668 Failed:47
1614403341916,423,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:716 Passed:669 Failed:47
1614403342608,690,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:717 Passed:670 Failed:47
1614403343025,414,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:718 Passed:671 Failed:47
1614403343026,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403343026,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211677', 'issue_key': 'AAFAIA-6169', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:719 Passed:671 Failed:48
1614403343856,376,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:720 Passed:672 Failed:48


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211677', 'issue_key': 'AAFAIA-6169', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.92s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403344015,105,selenium_login:open_login_page,Success,True
1614403345293,1277,selenium_login:login_and_view_dashboard,Success,True
1614403345293,1383,selenium_login,Success,True
.test_0_selenium_a_login,Total:721 Passed:673 Failed:48
1614403345667,254,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:722 Passed:674 Failed:48
1614403345944,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:723 Passed:675 Failed:48
1614403346751,798,selenium_create_issue:open_quick_create,Success,True
1614403347928,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403347928,1176,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403347928,1975,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:724 Passed:676 Failed:48
1614403348473,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614403349487,534,selenium_edit_issue:save_edit_issue_form,Success,True
1614403349487,1550,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:725 Passed:677 Failed:48
1614403349869,380,selenium_save_comment:open_comment_form,Success,True
1614403350747,721,selenium_save_comment:submit_form,Success,True
1614403350748,1259,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:726 Passed:678 Failed:48
1614403352111,1361,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:727 Passed:679 Failed:48
1614403353485,1372,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:728 Passed:680 Failed:48
1614403354333,847,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:729 Passed:681 Failed:48
1614403354723,388,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:730 Passed:682 Failed:48
1614403354956,230,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:731 Passed:683 Failed:48
1614403355530,572,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:732 Passed:684 Failed:48
1614403356056,525,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:733 Passed:685 Failed:48
1614403356058,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403356058,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207860', 'issue_key': 'AAFAIA-2352', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:734 Passed:685 Failed:49
1614403356830,411,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:735 Passed:686 Failed:49


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207860', 'issue_key': 'AAFAIA-2352', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.93s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403357007,103,selenium_login:open_login_page,Success,True
1614403358298,1290,selenium_login:login_and_view_dashboard,Success,True
1614403358298,1394,selenium_login,Success,True
.test_0_selenium_a_login,Total:736 Passed:687 Failed:49
1614403358621,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:737 Passed:688 Failed:49
1614403358907,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:738 Passed:689 Failed:49
1614403359597,681,selenium_create_issue:open_quick_create,Success,True
1614403360730,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403360730,1132,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403360730,1814,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:739 Passed:690 Failed:49
1614403361412,672,selenium_edit_issue:open_edit_issue_form,Success,True
1614403362347,563,selenium_edit_issue:save_edit_issue_form,Success,True
1614403362347,1608,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:740 Passed:691 Failed:49
1614403362735,386,selenium_save_comment:open_comment_form,Success,True
1614403363641,745,selenium_save_comment:submit_form,Success,True
1614403363641,1292,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:741 Passed:692 Failed:49
1614403364996,1353,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:742 Passed:693 Failed:49
1614403366339,1341,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:743 Passed:694 Failed:49
1614403367136,795,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:744 Passed:695 Failed:49
1614403368013,875,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:745 Passed:696 Failed:49
1614403368482,467,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:746 Passed:697 Failed:49
1614403369160,676,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:747 Passed:698 Failed:49
1614403369579,418,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:748 Passed:699 Failed:49
1614403369581,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403369581,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206353', 'issue_key': 'AAFAIA-845', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:749 Passed:699 Failed:50
1614403370433,424,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:750 Passed:700 Failed:50


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206353', 'issue_key': 'AAFAIA-845', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.56s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403370606,116,selenium_login:open_login_page,Success,True
1614403371850,1244,selenium_login:login_and_view_dashboard,Success,True
1614403371850,1360,selenium_login,Success,True
.test_0_selenium_a_login,Total:751 Passed:701 Failed:50
1614403372161,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:752 Passed:702 Failed:50
1614403372443,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:753 Passed:703 Failed:50
1614403373221,768,selenium_create_issue:open_quick_create,Success,True
1614403374436,627,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403374436,1214,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403374436,1983,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:754 Passed:704 Failed:50
1614403374992,544,selenium_edit_issue:open_edit_issue_form,Success,True
1614403376026,555,selenium_edit_issue:save_edit_issue_form,Success,True
1614403376026,1578,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:755 Passed:705 Failed:50
1614403376415,387,selenium_save_comment:open_comment_form,Success,True
1614403377331,753,selenium_save_comment:submit_form,Success,True
1614403377331,1304,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:756 Passed:706 Failed:50
1614403378666,1332,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:757 Passed:707 Failed:50
1614403379648,981,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:758 Passed:708 Failed:50
1614403380522,872,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:759 Passed:709 Failed:50
1614403381519,995,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:760 Passed:710 Failed:50
1614403382002,480,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:761 Passed:711 Failed:50
1614403382682,678,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:762 Passed:712 Failed:50
1614403383076,392,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:763 Passed:713 Failed:50
1614403383078,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403383078,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210130', 'issue_key': 'AAFAIA-4622', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:764 Passed:713 Failed:51
1614403383896,369,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:765 Passed:714 Failed:51


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210130', 'issue_key': 'AAFAIA-4622', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.42s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403384065,106,selenium_login:open_login_page,Success,True
1614403384532,466,selenium_login:login_and_view_dashboard,Success,True
1614403384532,573,selenium_login,Success,True
.test_0_selenium_a_login,Total:766 Passed:715 Failed:51
1614403384900,349,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:767 Passed:716 Failed:51
1614403385182,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:768 Passed:717 Failed:51
1614403385846,655,selenium_create_issue:open_quick_create,Success,True
1614403386959,606,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403386959,1112,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403386959,1768,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:769 Passed:718 Failed:51
1614403387524,556,selenium_edit_issue:open_edit_issue_form,Success,True
1614403388644,633,selenium_edit_issue:save_edit_issue_form,Success,True
1614403388645,1677,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:770 Passed:719 Failed:51
1614403388990,344,selenium_save_comment:open_comment_form,Success,True
1614403389925,743,selenium_save_comment:submit_form,Success,True
1614403389925,1279,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:771 Passed:720 Failed:51
1614403391384,1457,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:772 Passed:721 Failed:51
1614403392786,1400,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:773 Passed:722 Failed:51
1614403393619,832,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:774 Passed:723 Failed:51
1614403394357,736,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:775 Passed:724 Failed:51
1614403394749,391,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:776 Passed:725 Failed:51
1614403395453,702,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:777 Passed:726 Failed:51
1614403395870,414,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:778 Passed:727 Failed:51
1614403395871,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403395871,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915234', 'issue_key': 'AABIS-670', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:779 Passed:727 Failed:52
1614403396749,309,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:780 Passed:728 Failed:52


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915234', 'issue_key': 'AABIS-670', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.80s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403396918,117,selenium_login:open_login_page,Success,True
1614403398133,1214,selenium_login:login_and_view_dashboard,Success,True
1614403398133,1332,selenium_login,Success,True
.test_0_selenium_a_login,Total:781 Passed:729 Failed:52
1614403398480,311,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:782 Passed:730 Failed:52
1614403398753,271,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:783 Passed:731 Failed:52
1614403399416,654,selenium_create_issue:open_quick_create,Success,True
1614403403031,609,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403403031,3615,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403403031,4269,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:784 Passed:732 Failed:52
1614403403682,643,selenium_edit_issue:open_edit_issue_form,Success,True
1614403404579,541,selenium_edit_issue:save_edit_issue_form,Success,True
1614403404579,1539,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:785 Passed:733 Failed:52
1614403404969,389,selenium_save_comment:open_comment_form,Success,True
1614403405838,704,selenium_save_comment:submit_form,Success,True
1614403405838,1257,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:786 Passed:734 Failed:52
1614403407246,1406,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:787 Passed:735 Failed:52
1614403408060,812,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:788 Passed:736 Failed:52
1614403408854,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:789 Passed:737 Failed:52
1614403409312,456,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:790 Passed:738 Failed:52
1614403409574,259,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:791 Passed:739 Failed:52
1614403410220,644,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:792 Passed:740 Failed:52
1614403410626,404,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:793 Passed:741 Failed:52
1614403410628,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403410628,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209028', 'issue_key': 'AAFAIA-3520', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:794 Passed:741 Failed:53
1614403411396,421,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:795 Passed:742 Failed:53


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209028', 'issue_key': 'AAFAIA-3520', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 14.61s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403411561,113,selenium_login:open_login_page,Success,True
1614403412009,448,selenium_login:login_and_view_dashboard,Success,True
1614403412009,561,selenium_login,Success,True
.test_0_selenium_a_login,Total:796 Passed:743 Failed:53
1614403412392,369,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:797 Passed:744 Failed:53
1614403412679,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:798 Passed:745 Failed:53
1614403413446,757,selenium_create_issue:open_quick_create,Success,True
1614403414608,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403414608,1161,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403414608,1919,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:799 Passed:746 Failed:53
1614403415153,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614403416181,548,selenium_edit_issue:save_edit_issue_form,Success,True
1614403416181,1564,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:800 Passed:747 Failed:53
1614403416645,462,selenium_save_comment:open_comment_form,Success,True
1614403417547,798,selenium_save_comment:submit_form,Success,True
1614403417547,1365,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:801 Passed:748 Failed:53
1614403418943,1394,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:802 Passed:749 Failed:53
1614403419738,793,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:803 Passed:750 Failed:53
1614403420554,814,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:804 Passed:751 Failed:53
1614403421319,763,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:805 Passed:752 Failed:53
1614403421593,272,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:806 Passed:753 Failed:53
1614403422264,670,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:807 Passed:754 Failed:53
1614403422697,431,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:808 Passed:755 Failed:53
1614403422699,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403422699,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209786', 'issue_key': 'AAFAIA-4278', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:809 Passed:755 Failed:54
1614403423479,408,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:810 Passed:756 Failed:54


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209786', 'issue_key': 'AAFAIA-4278', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.04s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403423693,110,selenium_login:open_login_page,Success,True
1614403424206,511,selenium_login:login_and_view_dashboard,Success,True
1614403424206,622,selenium_login,Success,True
.test_0_selenium_a_login,Total:811 Passed:757 Failed:54
1614403424504,286,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:812 Passed:758 Failed:54
1614403424787,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:813 Passed:759 Failed:54
1614403425591,795,selenium_create_issue:open_quick_create,Success,True
1614403426733,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403426733,1142,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403426734,1938,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:814 Passed:760 Failed:54
1614403427405,663,selenium_edit_issue:open_edit_issue_form,Success,True
1614403428470,572,selenium_edit_issue:save_edit_issue_form,Success,True
1614403428470,1728,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:815 Passed:761 Failed:54
1614403428846,373,selenium_save_comment:open_comment_form,Success,True
1614403429722,715,selenium_save_comment:submit_form,Success,True
1614403429722,1250,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:816 Passed:762 Failed:54
1614403431108,1384,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:817 Passed:763 Failed:54
1614403431903,793,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:818 Passed:764 Failed:54
1614403432699,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:819 Passed:765 Failed:54
1614403433419,719,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:820 Passed:766 Failed:54
1614403433816,395,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:821 Passed:767 Failed:54
1614403434425,606,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:822 Passed:768 Failed:54
1614403434839,412,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:823 Passed:769 Failed:54
1614403434840,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403434840,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206254', 'issue_key': 'AAFAIA-746', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:824 Passed:769 Failed:55
1614403435628,345,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:825 Passed:770 Failed:55


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206254', 'issue_key': 'AAFAIA-746', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.06s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403435805,110,selenium_login:open_login_page,Success,True
1614403436313,508,selenium_login:login_and_view_dashboard,Success,True
1614403436313,619,selenium_login,Success,True
.test_0_selenium_a_login,Total:826 Passed:771 Failed:55
1614403436601,277,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:827 Passed:772 Failed:55
1614403436873,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:828 Passed:773 Failed:55
1614403437565,683,selenium_create_issue:open_quick_create,Success,True
1614403438766,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403438766,1200,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403438766,1884,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:829 Passed:774 Failed:55
1614403439485,709,selenium_edit_issue:open_edit_issue_form,Success,True
1614403440500,731,selenium_edit_issue:save_edit_issue_form,Success,True
1614403440500,1725,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:830 Passed:775 Failed:55
1614403440859,357,selenium_save_comment:open_comment_form,Success,True
1614403441892,862,selenium_save_comment:submit_form,Success,True
1614403441892,1390,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:831 Passed:776 Failed:55
1614403443206,1312,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:832 Passed:777 Failed:55
1614403444567,1359,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:833 Passed:778 Failed:55
1614403445388,819,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:834 Passed:779 Failed:55
1614403446251,861,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:835 Passed:780 Failed:55
1614403446740,487,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:836 Passed:781 Failed:55
1614403447481,739,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:837 Passed:782 Failed:55
1614403447899,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:838 Passed:783 Failed:55
1614403447901,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403447901,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208938', 'issue_key': 'AAFAIA-3430', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:839 Passed:783 Failed:56
1614403448756,377,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:840 Passed:784 Failed:56


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208938', 'issue_key': 'AAFAIA-3430', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.08s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403448921,111,selenium_login:open_login_page,Success,True
1614403449469,547,selenium_login:login_and_view_dashboard,Success,True
1614403449469,659,selenium_login,Success,True
.test_0_selenium_a_login,Total:841 Passed:785 Failed:56
1614403449763,283,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:842 Passed:786 Failed:56
1614403450049,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:843 Passed:787 Failed:56
1614403450854,796,selenium_create_issue:open_quick_create,Success,True
1614403452012,632,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403452012,1158,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403452012,1954,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:844 Passed:788 Failed:56
1614403452649,624,selenium_edit_issue:open_edit_issue_form,Success,True
1614403453632,626,selenium_edit_issue:save_edit_issue_form,Success,True
1614403453632,1608,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:845 Passed:789 Failed:56
1614403454055,421,selenium_save_comment:open_comment_form,Success,True
1614403454922,708,selenium_save_comment:submit_form,Success,True
1614403454922,1288,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:846 Passed:790 Failed:56
1614403456239,1315,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:847 Passed:791 Failed:56
1614403457621,1380,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:848 Passed:792 Failed:56
1614403458453,829,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:849 Passed:793 Failed:56
1614403459058,603,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:850 Passed:794 Failed:56
1614403459377,317,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:851 Passed:795 Failed:56
1614403460013,634,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:852 Passed:796 Failed:56
1614403460508,493,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:853 Passed:797 Failed:56
1614403460509,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403460510,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210284', 'issue_key': 'AAFAIA-4776', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:854 Passed:797 Failed:57
1614403461298,429,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:855 Passed:798 Failed:57


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210284', 'issue_key': 'AAFAIA-4776', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.50s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403461463,111,selenium_login:open_login_page,Success,True
1614403461945,482,selenium_login:login_and_view_dashboard,Success,True
1614403461945,594,selenium_login,Success,True
.test_0_selenium_a_login,Total:856 Passed:799 Failed:57
1614403462235,279,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:857 Passed:800 Failed:57
1614403462510,273,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:858 Passed:801 Failed:57
1614403463346,827,selenium_create_issue:open_quick_create,Success,True
1614403464540,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403464540,1194,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403464540,2021,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:859 Passed:802 Failed:57
1614403465169,620,selenium_edit_issue:open_edit_issue_form,Success,True
1614403466139,598,selenium_edit_issue:save_edit_issue_form,Success,True
1614403466139,1589,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:860 Passed:803 Failed:57
1614403466493,352,selenium_save_comment:open_comment_form,Success,True
1614403467430,769,selenium_save_comment:submit_form,Success,True
1614403467430,1290,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:861 Passed:804 Failed:57
1614403468793,1361,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:862 Passed:805 Failed:57
1614403470164,1369,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:863 Passed:806 Failed:57
1614403470986,820,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:864 Passed:807 Failed:57
1614403472068,1080,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:865 Passed:808 Failed:57
1614403472681,611,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:866 Passed:809 Failed:57
1614403473342,659,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:867 Passed:810 Failed:57
1614403473779,435,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:868 Passed:811 Failed:57
1614403473781,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403473781,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207009', 'issue_key': 'AAFAIA-1501', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:869 Passed:811 Failed:58
1614403474532,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:870 Passed:812 Failed:58


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207009', 'issue_key': 'AAFAIA-1501', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.19s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403474697,110,selenium_login:open_login_page,Success,True
1614403475280,582,selenium_login:login_and_view_dashboard,Success,True
1614403475280,693,selenium_login,Success,True
.test_0_selenium_a_login,Total:871 Passed:813 Failed:58
1614403475585,293,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:872 Passed:814 Failed:58
1614403475863,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:873 Passed:815 Failed:58
1614403476638,766,selenium_create_issue:open_quick_create,Success,True
1614403477780,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403477780,1141,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403477780,1908,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:874 Passed:816 Failed:58
1614403478325,537,selenium_edit_issue:open_edit_issue_form,Success,True
1614403479340,531,selenium_edit_issue:save_edit_issue_form,Success,True
1614403479340,1552,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:875 Passed:817 Failed:58
1614403479743,400,selenium_save_comment:open_comment_form,Success,True
1614403480772,862,selenium_save_comment:submit_form,Success,True
1614403480772,1429,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:876 Passed:818 Failed:58
1614403482074,1300,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:877 Passed:819 Failed:58
1614403483472,1396,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:878 Passed:820 Failed:58
1614403484295,821,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:879 Passed:821 Failed:58
1614403485361,1064,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:880 Passed:822 Failed:58
1614403485981,619,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:881 Passed:823 Failed:58
1614403486720,736,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:882 Passed:824 Failed:58
1614403487179,457,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:883 Passed:825 Failed:58
1614403487180,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403487180,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206757', 'issue_key': 'AAFAIA-1249', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:884 Passed:825 Failed:59
1614403487990,308,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:885 Passed:826 Failed:59


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206757', 'issue_key': 'AAFAIA-1249', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.41s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403488167,113,selenium_login:open_login_page,Success,True
1614403488669,502,selenium_login:login_and_view_dashboard,Success,True
1614403488669,616,selenium_login,Success,True
.test_0_selenium_a_login,Total:886 Passed:827 Failed:59
1614403488950,269,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:887 Passed:828 Failed:59
1614403489238,286,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:888 Passed:829 Failed:59
1614403490043,796,selenium_create_issue:open_quick_create,Success,True
1614403491195,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403491195,1152,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403491195,1949,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:889 Passed:830 Failed:59
1614403491824,620,selenium_edit_issue:open_edit_issue_form,Success,True
1614403492754,537,selenium_edit_issue:save_edit_issue_form,Success,True
1614403492754,1551,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:890 Passed:831 Failed:59
1614403493151,394,selenium_save_comment:open_comment_form,Success,True
1614403494083,771,selenium_save_comment:submit_form,Success,True
1614403494083,1327,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:891 Passed:832 Failed:59
1614403495371,1286,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:892 Passed:833 Failed:59
1614403496197,825,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:893 Passed:834 Failed:59
1614403497090,890,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:894 Passed:835 Failed:59
1614403497832,740,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:895 Passed:836 Failed:59
1614403498073,239,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:896 Passed:837 Failed:59
1614403498744,669,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:897 Passed:838 Failed:59
1614403499247,502,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:898 Passed:839 Failed:59
1614403499248,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403499249,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210208', 'issue_key': 'AAFAIA-4700', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:899 Passed:839 Failed:60
1614403500083,321,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:900 Passed:840 Failed:60


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210208', 'issue_key': 'AAFAIA-4700', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.04s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403500269,129,selenium_login:open_login_page,Success,True
1614403500739,469,selenium_login:login_and_view_dashboard,Success,True
1614403500739,598,selenium_login,Success,True
.test_0_selenium_a_login,Total:901 Passed:841 Failed:60
1614403501092,337,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:902 Passed:842 Failed:60
1614403501376,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:903 Passed:843 Failed:60
1614403502183,798,selenium_create_issue:open_quick_create,Success,True
1614403503378,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403503378,1195,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403503378,1994,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:904 Passed:844 Failed:60
1614403503934,546,selenium_edit_issue:open_edit_issue_form,Success,True
1614403504992,576,selenium_edit_issue:save_edit_issue_form,Success,True
1614403504992,1604,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:905 Passed:845 Failed:60
1614403505378,384,selenium_save_comment:open_comment_form,Success,True
1614403506309,768,selenium_save_comment:submit_form,Success,True
1614403506309,1316,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:906 Passed:846 Failed:60
1614403507720,1409,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:907 Passed:847 Failed:60
1614403509069,1347,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:908 Passed:848 Failed:60
1614403509864,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:909 Passed:849 Failed:60
1614403510824,958,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:910 Passed:850 Failed:60
1614403511291,465,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:911 Passed:851 Failed:60
1614403511979,686,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:912 Passed:852 Failed:60
1614403512530,549,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:913 Passed:853 Failed:60
1614403512531,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403512531,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211676', 'issue_key': 'AAFAIA-6168', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:914 Passed:853 Failed:61
1614403513458,370,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:915 Passed:854 Failed:61


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211676', 'issue_key': 'AAFAIA-6168', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.33s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403513626,115,selenium_login:open_login_page,Success,True
1614403514899,1272,selenium_login:login_and_view_dashboard,Success,True
1614403514899,1388,selenium_login,Success,True
.test_0_selenium_a_login,Total:916 Passed:855 Failed:61
1614403515259,320,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:917 Passed:856 Failed:61
1614403515551,291,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:918 Passed:857 Failed:61
1614403516210,649,selenium_create_issue:open_quick_create,Success,True
1614403517377,611,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403517377,1167,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403517377,1816,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:919 Passed:858 Failed:61
1614403517937,551,selenium_edit_issue:open_edit_issue_form,Success,True
1614403518953,558,selenium_edit_issue:save_edit_issue_form,Success,True
1614403518953,1567,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:920 Passed:859 Failed:61
1614403519254,298,selenium_save_comment:open_comment_form,Success,True
1614403520196,776,selenium_save_comment:submit_form,Success,True
1614403520196,1241,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:921 Passed:860 Failed:61
1614403521613,1416,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:922 Passed:861 Failed:61
1614403522414,799,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:923 Passed:862 Failed:61
1614403523217,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:924 Passed:863 Failed:61
1614403523750,531,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:925 Passed:864 Failed:61
1614403524068,316,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:926 Passed:865 Failed:61
1614403524695,625,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:927 Passed:866 Failed:61
1614403525112,415,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:928 Passed:867 Failed:61
1614403525113,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403525113,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915348', 'issue_key': 'AABIS-784', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:929 Passed:867 Failed:62
1614403525901,425,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:930 Passed:868 Failed:62


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915348', 'issue_key': 'AABIS-784', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.40s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403526073,117,selenium_login:open_login_page,Success,True
1614403526616,543,selenium_login:login_and_view_dashboard,Success,True
1614403526616,660,selenium_login,Success,True
.test_0_selenium_a_login,Total:931 Passed:869 Failed:62
1614403526917,289,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:932 Passed:870 Failed:62
1614403527204,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:933 Passed:871 Failed:62
1614403528017,802,selenium_create_issue:open_quick_create,Success,True
1614403529162,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403529163,1144,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403529163,1948,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:934 Passed:872 Failed:62
1614403529702,529,selenium_edit_issue:open_edit_issue_form,Success,True
1614403530734,561,selenium_edit_issue:save_edit_issue_form,Success,True
1614403530734,1560,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:935 Passed:873 Failed:62
1614403531135,400,selenium_save_comment:open_comment_form,Success,True
1614403532062,762,selenium_save_comment:submit_form,Success,True
1614403532062,1326,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:936 Passed:874 Failed:62
1614403533358,1295,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:937 Passed:875 Failed:62
1614403534746,1386,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:938 Passed:876 Failed:62
1614403535538,790,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:939 Passed:877 Failed:62
1614403536289,749,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:940 Passed:878 Failed:62
1614403536533,241,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:941 Passed:879 Failed:62
1614403537225,691,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:942 Passed:880 Failed:62
1614403537665,437,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:943 Passed:881 Failed:62
1614403537666,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403537666,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208823', 'issue_key': 'AAFAIA-3315', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:944 Passed:881 Failed:63
1614403538473,359,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:945 Passed:882 Failed:63


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208823', 'issue_key': 'AAFAIA-3315', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.53s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403538646,116,selenium_login:open_login_page,Success,True
1614403539898,1252,selenium_login:login_and_view_dashboard,Success,True
1614403539898,1369,selenium_login,Success,True
.test_0_selenium_a_login,Total:946 Passed:883 Failed:63
1614403540261,240,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:947 Passed:884 Failed:63
1614403540532,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:948 Passed:885 Failed:63
1614403541317,775,selenium_create_issue:open_quick_create,Success,True
1614403542542,609,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403542542,1225,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403542543,2001,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:949 Passed:886 Failed:63
1614403543088,537,selenium_edit_issue:open_edit_issue_form,Success,True
1614403544134,553,selenium_edit_issue:save_edit_issue_form,Success,True
1614403544134,1583,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:950 Passed:887 Failed:63
1614403544501,364,selenium_save_comment:open_comment_form,Success,True
1614403545458,759,selenium_save_comment:submit_form,Success,True
1614403545458,1322,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:951 Passed:888 Failed:63
1614403546929,1468,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:952 Passed:889 Failed:63
1614403547744,813,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:953 Passed:890 Failed:63
1614403548536,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:954 Passed:891 Failed:63
1614403549301,763,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:955 Passed:892 Failed:63
1614403549568,265,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:956 Passed:893 Failed:63
1614403550221,651,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:957 Passed:894 Failed:63
1614403550685,461,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:958 Passed:895 Failed:63
1614403550686,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403550686,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209072', 'issue_key': 'AAFAIA-3564', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:959 Passed:895 Failed:64
1614403551412,341,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:960 Passed:896 Failed:64


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209072', 'issue_key': 'AAFAIA-3564', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403551631,165,selenium_login:open_login_page,Success,True
1614403552165,534,selenium_login:login_and_view_dashboard,Success,True
1614403552165,700,selenium_login,Success,True
.test_0_selenium_a_login,Total:961 Passed:897 Failed:64
1614403552542,358,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:962 Passed:898 Failed:64
1614403552824,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:963 Passed:899 Failed:64
1614403553630,796,selenium_create_issue:open_quick_create,Success,True
1614403554876,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403554876,1246,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403554876,2043,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:964 Passed:900 Failed:64
1614403555418,534,selenium_edit_issue:open_edit_issue_form,Success,True
1614403556477,577,selenium_edit_issue:save_edit_issue_form,Success,True
1614403556477,1592,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:965 Passed:901 Failed:64
1614403556876,398,selenium_save_comment:open_comment_form,Success,True
1614403557805,768,selenium_save_comment:submit_form,Success,True
1614403557805,1326,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:966 Passed:902 Failed:64
1614403559094,1287,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:967 Passed:903 Failed:64
1614403560461,1365,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:968 Passed:904 Failed:64
1614403561291,827,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:969 Passed:905 Failed:64
1614403561665,373,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:970 Passed:906 Failed:64
1614403561947,279,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:971 Passed:907 Failed:64
1614403562578,629,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:972 Passed:908 Failed:64
1614403563128,548,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:973 Passed:909 Failed:64
1614403563129,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403563130,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206707', 'issue_key': 'AAFAIA-1199', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:974 Passed:909 Failed:65
1614403563889,352,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:975 Passed:910 Failed:65


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206707', 'issue_key': 'AAFAIA-1199', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.43s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403564046,105,selenium_login:open_login_page,Success,True
1614403564608,561,selenium_login:login_and_view_dashboard,Success,True
1614403564608,667,selenium_login,Success,True
.test_0_selenium_a_login,Total:976 Passed:911 Failed:65
1614403564952,331,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:977 Passed:912 Failed:65
1614403565724,771,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:978 Passed:913 Failed:65
1614403566411,677,selenium_create_issue:open_quick_create,Success,True
1614403567592,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403567592,1181,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403567592,1859,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:979 Passed:914 Failed:65
1614403568140,539,selenium_edit_issue:open_edit_issue_form,Success,True
1614403569235,584,selenium_edit_issue:save_edit_issue_form,Success,True
1614403569235,1634,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:980 Passed:915 Failed:65
1614403569633,396,selenium_save_comment:open_comment_form,Success,True
1614403570571,768,selenium_save_comment:submit_form,Success,True
1614403570571,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:981 Passed:916 Failed:65
1614403571923,1350,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:982 Passed:917 Failed:65
1614403573329,1404,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:983 Passed:918 Failed:65
1614403574169,837,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:984 Passed:919 Failed:65
1614403574718,548,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:985 Passed:920 Failed:65
1614403575034,313,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:986 Passed:921 Failed:65
1614403575669,633,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:987 Passed:922 Failed:65
1614403576174,504,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:988 Passed:923 Failed:65
1614403576176,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403576176,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209828', 'issue_key': 'AAFAIA-4320', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:989 Passed:923 Failed:66
1614403576936,340,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:990 Passed:924 Failed:66


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209828', 'issue_key': 'AAFAIA-4320', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.01s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403577103,114,selenium_login:open_login_page,Success,True
1614403577600,496,selenium_login:login_and_view_dashboard,Success,True
1614403577600,611,selenium_login,Success,True
.test_0_selenium_a_login,Total:991 Passed:925 Failed:66
1614403577879,267,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:992 Passed:926 Failed:66
1614403578696,815,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:993 Passed:927 Failed:66
1614403579493,788,selenium_create_issue:open_quick_create,Success,True
1614403580656,628,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403580657,1163,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403580657,1952,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:994 Passed:928 Failed:66
1614403581298,632,selenium_edit_issue:open_edit_issue_form,Success,True
1614403582265,564,selenium_edit_issue:save_edit_issue_form,Success,True
1614403582266,1599,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:995 Passed:929 Failed:66
1614403582657,389,selenium_save_comment:open_comment_form,Success,True
1614403583594,770,selenium_save_comment:submit_form,Success,True
1614403583594,1327,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:996 Passed:930 Failed:66
1614403584885,1289,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:997 Passed:931 Failed:66
1614403585706,819,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:998 Passed:932 Failed:66
1614403586637,928,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:999 Passed:933 Failed:66
1614403587280,641,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1000 Passed:934 Failed:66
1614403587657,376,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1001 Passed:935 Failed:66
1614403588334,674,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1002 Passed:936 Failed:66
1614403588767,431,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1003 Passed:937 Failed:66
1614403588769,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403588769,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210972', 'issue_key': 'AAFAIA-5464', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1004 Passed:937 Failed:67
1614403589615,423,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1005 Passed:938 Failed:67


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210972', 'issue_key': 'AAFAIA-5464', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.64s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403589782,112,selenium_login:open_login_page,Success,True
1614403591005,1222,selenium_login:login_and_view_dashboard,Success,True
1614403591005,1335,selenium_login,Success,True
.test_0_selenium_a_login,Total:1006 Passed:939 Failed:67
1614403591342,308,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1007 Passed:940 Failed:67
1614403591648,305,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1008 Passed:941 Failed:67
1614403592426,766,selenium_create_issue:open_quick_create,Success,True
1614403593637,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403593637,1210,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403593637,1977,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1009 Passed:942 Failed:67
1614403594196,547,selenium_edit_issue:open_edit_issue_form,Success,True
1614403595258,591,selenium_edit_issue:save_edit_issue_form,Success,True
1614403595258,1609,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1010 Passed:943 Failed:67
1614403595711,450,selenium_save_comment:open_comment_form,Success,True
1614403596495,671,selenium_save_comment:submit_form,Success,True
1614403596495,1235,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1011 Passed:944 Failed:67
1614403597779,1282,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1012 Passed:945 Failed:67
1614403598571,790,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1013 Passed:946 Failed:67
1614403599421,848,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1014 Passed:947 Failed:67
1614403600168,745,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1015 Passed:948 Failed:67
1614403600461,290,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1016 Passed:949 Failed:67
1614403601180,717,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1017 Passed:950 Failed:67
1614403601553,370,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1018 Passed:951 Failed:67
1614403601554,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403601554,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210481', 'issue_key': 'AAFAIA-4973', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1019 Passed:951 Failed:68
1614403602339,320,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1020 Passed:952 Failed:68


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210481', 'issue_key': 'AAFAIA-4973', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.68s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403602499,107,selenium_login:open_login_page,Success,True
1614403603688,1188,selenium_login:login_and_view_dashboard,Success,True
1614403603688,1296,selenium_login,Success,True
.test_0_selenium_a_login,Total:1021 Passed:953 Failed:68
1614403603945,232,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1022 Passed:954 Failed:68
1614403604216,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1023 Passed:955 Failed:68
1614403605031,805,selenium_create_issue:open_quick_create,Success,True
1614403606305,638,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403606305,1273,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403606305,2079,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1024 Passed:956 Failed:68
1614403606832,518,selenium_edit_issue:open_edit_issue_form,Success,True
1614403607885,590,selenium_edit_issue:save_edit_issue_form,Success,True
1614403607885,1571,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1025 Passed:957 Failed:68
1614403608254,367,selenium_save_comment:open_comment_form,Success,True
1614403609133,712,selenium_save_comment:submit_form,Success,True
1614403609133,1247,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1026 Passed:958 Failed:68
1614403610492,1357,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1027 Passed:959 Failed:68
1614403611881,1387,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1028 Passed:960 Failed:68
1614403612714,831,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1029 Passed:961 Failed:68
1614403613630,915,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1030 Passed:962 Failed:68
1614403614061,428,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1031 Passed:963 Failed:68
1614403614682,619,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1032 Passed:964 Failed:68
1614403615100,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1033 Passed:965 Failed:68
1614403615101,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403615101,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212464', 'issue_key': 'AAFAIA-6956', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1034 Passed:965 Failed:69
1614403615885,327,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1035 Passed:966 Failed:69


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212464', 'issue_key': 'AAFAIA-6956', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.50s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403616042,104,selenium_login:open_login_page,Success,True
1614403616567,524,selenium_login:login_and_view_dashboard,Success,True
1614403616567,629,selenium_login,Success,True
.test_0_selenium_a_login,Total:1036 Passed:967 Failed:69
1614403616868,290,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1037 Passed:968 Failed:69
1614403617142,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1038 Passed:969 Failed:69
1614403617913,762,selenium_create_issue:open_quick_create,Success,True
1614403619061,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403619061,1147,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403619061,1911,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1039 Passed:970 Failed:69
1614403619617,547,selenium_edit_issue:open_edit_issue_form,Success,True
1614403620724,624,selenium_edit_issue:save_edit_issue_form,Success,True
1614403620725,1655,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1040 Passed:971 Failed:69
1614403621136,409,selenium_save_comment:open_comment_form,Success,True
1614403622203,899,selenium_save_comment:submit_form,Success,True
1614403622203,1477,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1041 Passed:972 Failed:69
1614403623514,1309,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1042 Passed:973 Failed:69
1614403624320,804,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1043 Passed:974 Failed:69
1614403625226,904,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1044 Passed:975 Failed:69
1614403626062,834,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1045 Passed:976 Failed:69
1614403626602,538,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1046 Passed:977 Failed:69
1614403627270,667,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1047 Passed:978 Failed:69
1614403627678,406,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1048 Passed:979 Failed:69
1614403627680,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403627680,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206915', 'issue_key': 'AAFAIA-1407', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1049 Passed:979 Failed:70
1614403628543,339,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1050 Passed:980 Failed:70


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206915', 'issue_key': 'AAFAIA-1407', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.62s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403628703,107,selenium_login:open_login_page,Success,True
1614403629195,491,selenium_login:login_and_view_dashboard,Success,True
1614403629195,599,selenium_login,Success,True
.test_0_selenium_a_login,Total:1051 Passed:981 Failed:70
1614403629496,289,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1052 Passed:982 Failed:70
1614403629785,288,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1053 Passed:983 Failed:70
1614403630610,813,selenium_create_issue:open_quick_create,Success,True
1614403631823,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403631823,1213,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403631824,2027,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1054 Passed:984 Failed:70
1614403632475,642,selenium_edit_issue:open_edit_issue_form,Success,True
1614403633523,655,selenium_edit_issue:save_edit_issue_form,Success,True
1614403633523,1690,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1055 Passed:985 Failed:70
1614403633923,398,selenium_save_comment:open_comment_form,Success,True
1614403634859,772,selenium_save_comment:submit_form,Success,True
1614403634859,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1056 Passed:986 Failed:70
1614403636235,1374,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1057 Passed:987 Failed:70
1614403637043,807,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1058 Passed:988 Failed:70
1614403637896,851,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1059 Passed:989 Failed:70
1614403638550,652,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1060 Passed:990 Failed:70
1614403638895,344,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1061 Passed:991 Failed:70
1614403639562,665,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1062 Passed:992 Failed:70
1614403639982,418,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1063 Passed:993 Failed:70
1614403639983,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403639983,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914643', 'issue_key': 'AABIS-79', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1064 Passed:993 Failed:71
1614403640843,417,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1065 Passed:994 Failed:71


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914643', 'issue_key': 'AABIS-79', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.26s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403641008,110,selenium_login:open_login_page,Success,True
1614403641479,470,selenium_login:login_and_view_dashboard,Success,True
1614403641479,581,selenium_login,Success,True
.test_0_selenium_a_login,Total:1066 Passed:995 Failed:71
1614403641835,339,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1067 Passed:996 Failed:71
1614403642110,273,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1068 Passed:997 Failed:71
1614403642796,677,selenium_create_issue:open_quick_create,Success,True
1614403644019,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403644019,1222,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403644019,1900,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1069 Passed:998 Failed:71
1614403644738,711,selenium_edit_issue:open_edit_issue_form,Success,True
1614403645674,546,selenium_edit_issue:save_edit_issue_form,Success,True
1614403645674,1646,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1070 Passed:999 Failed:71
1614403646068,392,selenium_save_comment:open_comment_form,Success,True
1614403646987,764,selenium_save_comment:submit_form,Success,True
1614403646988,1312,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1071 Passed:1000 Failed:71
1614403648297,1307,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1072 Passed:1001 Failed:71
1614403649660,1361,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1073 Passed:1002 Failed:71
1614403650451,789,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1074 Passed:1003 Failed:71
1614403651334,882,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1075 Passed:1004 Failed:71
1614403651889,552,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1076 Passed:1005 Failed:71
1614403652584,693,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1077 Passed:1006 Failed:71
1614403653001,415,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1078 Passed:1007 Failed:71
1614403653002,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403653002,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208748', 'issue_key': 'AAFAIA-3240', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1079 Passed:1007 Failed:72
1614403654027,347,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1080 Passed:1008 Failed:72


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208748', 'issue_key': 'AAFAIA-3240', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.14s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403654191,111,selenium_login:open_login_page,Success,True
1614403654634,442,selenium_login:login_and_view_dashboard,Success,True
1614403654634,554,selenium_login,Success,True
.test_0_selenium_a_login,Total:1081 Passed:1009 Failed:72
1614403655010,360,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1082 Passed:1010 Failed:72
1614403655286,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1083 Passed:1011 Failed:72
1614403656092,797,selenium_create_issue:open_quick_create,Success,True
1614403657272,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403657272,1180,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403657272,1977,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1084 Passed:1012 Failed:72
1614403658029,748,selenium_edit_issue:open_edit_issue_form,Success,True
1614403658953,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614403658954,1673,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1085 Passed:1013 Failed:72
1614403659314,359,selenium_save_comment:open_comment_form,Success,True
1614403660355,846,selenium_save_comment:submit_form,Success,True
1614403660355,1400,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1086 Passed:1014 Failed:72
1614403661701,1345,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1087 Passed:1015 Failed:72
1614403662538,835,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1088 Passed:1016 Failed:72
1614403663340,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1089 Passed:1017 Failed:72
1614403664370,1028,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1090 Passed:1018 Failed:72
1614403665174,802,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1091 Passed:1019 Failed:72
1614403665823,647,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1092 Passed:1020 Failed:72
1614403666144,319,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1093 Passed:1021 Failed:72
1614403666146,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403666146,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206427', 'issue_key': 'AAFAIA-919', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1094 Passed:1021 Failed:73
1614403667006,313,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1095 Passed:1022 Failed:73


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206427', 'issue_key': 'AAFAIA-919', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.94s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403667163,104,selenium_login:open_login_page,Success,True
1614403667641,477,selenium_login:login_and_view_dashboard,Success,True
1614403667641,583,selenium_login,Success,True
.test_0_selenium_a_login,Total:1096 Passed:1023 Failed:73
1614403667944,292,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1097 Passed:1024 Failed:73
1614403668235,288,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1098 Passed:1025 Failed:73
1614403669029,786,selenium_create_issue:open_quick_create,Success,True
1614403670168,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403670168,1138,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403670168,1924,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1099 Passed:1026 Failed:73
1614403670722,545,selenium_edit_issue:open_edit_issue_form,Success,True
1614403671809,612,selenium_edit_issue:save_edit_issue_form,Success,True
1614403671809,1632,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1100 Passed:1027 Failed:73
1614403672177,366,selenium_save_comment:open_comment_form,Success,True
1614403673159,819,selenium_save_comment:submit_form,Success,True
1614403673159,1349,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1101 Passed:1028 Failed:73
1614403674472,1311,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1102 Passed:1029 Failed:73
1614403675487,1013,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1103 Passed:1030 Failed:73
1614403676383,894,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1104 Passed:1031 Failed:73
1614403677605,1220,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1105 Passed:1032 Failed:73
1614403677903,297,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1106 Passed:1033 Failed:73
1614403678569,664,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1107 Passed:1034 Failed:73
1614403678971,399,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1108 Passed:1035 Failed:73
1614403678972,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403678973,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210694', 'issue_key': 'AAFAIA-5186', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1109 Passed:1035 Failed:74
1614403679839,319,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1110 Passed:1036 Failed:74


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210694', 'issue_key': 'AAFAIA-5186', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.79s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403679998,106,selenium_login:open_login_page,Success,True
1614403680540,542,selenium_login:login_and_view_dashboard,Success,True
1614403680540,649,selenium_login,Success,True
.test_0_selenium_a_login,Total:1111 Passed:1037 Failed:74
1614403680848,297,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1112 Passed:1038 Failed:74
1614403681134,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1113 Passed:1039 Failed:74
1614403681971,828,selenium_create_issue:open_quick_create,Success,True
1614403683190,630,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403683190,1218,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403683190,2047,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1114 Passed:1040 Failed:74
1614403683727,528,selenium_edit_issue:open_edit_issue_form,Success,True
1614403684788,573,selenium_edit_issue:save_edit_issue_form,Success,True
1614403684789,1589,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1115 Passed:1041 Failed:74
1614403685210,419,selenium_save_comment:open_comment_form,Success,True
1614403686062,692,selenium_save_comment:submit_form,Success,True
1614403686062,1272,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1116 Passed:1042 Failed:74
1614403687400,1336,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1117 Passed:1043 Failed:74
1614403688200,798,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1118 Passed:1044 Failed:74
1614403688993,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1119 Passed:1045 Failed:74
1614403689776,781,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1120 Passed:1046 Failed:74
1614403690023,246,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1121 Passed:1047 Failed:74
1614403690708,682,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1122 Passed:1048 Failed:74
1614403691153,443,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1123 Passed:1049 Failed:74
1614403691155,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403691155,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206532', 'issue_key': 'AAFAIA-1024', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1124 Passed:1049 Failed:75
1614403691906,356,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1125 Passed:1050 Failed:75


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206532', 'issue_key': 'AAFAIA-1024', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.02s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403692074,116,selenium_login:open_login_page,Success,True
1614403692558,484,selenium_login:login_and_view_dashboard,Success,True
1614403692559,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:1126 Passed:1051 Failed:75
1614403692907,333,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1127 Passed:1052 Failed:75
1614403693192,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1128 Passed:1053 Failed:75
1614403693969,769,selenium_create_issue:open_quick_create,Success,True
1614403695189,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403695189,1219,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403695189,1989,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1129 Passed:1054 Failed:75
1614403695826,628,selenium_edit_issue:open_edit_issue_form,Success,True
1614403696715,522,selenium_edit_issue:save_edit_issue_form,Success,True
1614403696715,1517,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1130 Passed:1055 Failed:75
1614403697139,423,selenium_save_comment:open_comment_form,Success,True
1614403698078,775,selenium_save_comment:submit_form,Success,True
1614403698078,1361,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1131 Passed:1056 Failed:75
1614403699487,1407,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1132 Passed:1057 Failed:75
1614403700289,800,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1133 Passed:1058 Failed:75
1614403701096,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1134 Passed:1059 Failed:75
1614403701849,751,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1135 Passed:1060 Failed:75
1614403702167,317,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1136 Passed:1061 Failed:75
1614403702858,689,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1137 Passed:1062 Failed:75
1614403703299,439,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1138 Passed:1063 Failed:75
1614403703301,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403703301,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210000', 'issue_key': 'AAFAIA-4492', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1139 Passed:1063 Failed:76
1614403704190,340,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1140 Passed:1064 Failed:76


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210000', 'issue_key': 'AAFAIA-4492', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.24s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403704373,129,selenium_login:open_login_page,Success,True
1614403705564,1190,selenium_login:login_and_view_dashboard,Success,True
1614403705564,1320,selenium_login,Success,True
.test_0_selenium_a_login,Total:1141 Passed:1065 Failed:76
1614403705930,310,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1142 Passed:1066 Failed:76
1614403706208,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1143 Passed:1067 Failed:76
1614403706973,755,selenium_create_issue:open_quick_create,Success,True
1614403708237,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403708237,1263,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403708237,2019,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1144 Passed:1068 Failed:76
1614403708874,628,selenium_edit_issue:open_edit_issue_form,Success,True
1614403709826,546,selenium_edit_issue:save_edit_issue_form,Success,True
1614403709827,1580,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1145 Passed:1069 Failed:76
1614403710225,396,selenium_save_comment:open_comment_form,Success,True
1614403711323,928,selenium_save_comment:submit_form,Success,True
1614403711323,1494,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1146 Passed:1070 Failed:76
1614403712652,1328,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1147 Passed:1071 Failed:76
1614403714021,1367,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1148 Passed:1072 Failed:76
1614403714848,825,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1149 Passed:1073 Failed:76
1614403715606,756,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1150 Passed:1074 Failed:76
1614403715997,390,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1151 Passed:1075 Failed:76
1614403716657,658,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1152 Passed:1076 Failed:76
1614403717125,466,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1153 Passed:1077 Failed:76
1614403717126,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403717126,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206415', 'issue_key': 'AAFAIA-907', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1154 Passed:1077 Failed:77
1614403718009,369,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1155 Passed:1078 Failed:77


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206415', 'issue_key': 'AAFAIA-907', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.78s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403718174,110,selenium_login:open_login_page,Success,True
1614403718727,552,selenium_login:login_and_view_dashboard,Success,True
1614403718727,663,selenium_login,Success,True
.test_0_selenium_a_login,Total:1156 Passed:1079 Failed:77
1614403719003,264,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1157 Passed:1080 Failed:77
1614403719280,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1158 Passed:1081 Failed:77
1614403720097,807,selenium_create_issue:open_quick_create,Success,True
1614403721246,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403721246,1149,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403721246,1957,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1159 Passed:1082 Failed:77
1614403721887,631,selenium_edit_issue:open_edit_issue_form,Success,True
1614403722758,516,selenium_edit_issue:save_edit_issue_form,Success,True
1614403722758,1502,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1160 Passed:1083 Failed:77
1614403723139,379,selenium_save_comment:open_comment_form,Success,True
1614403724198,898,selenium_save_comment:submit_form,Success,True
1614403724198,1438,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1161 Passed:1084 Failed:77
1614403725591,1391,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1162 Passed:1085 Failed:77
1614403726959,1366,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1163 Passed:1086 Failed:77
1614403727790,830,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1164 Passed:1087 Failed:77
1614403728693,900,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1165 Passed:1088 Failed:77
1614403729168,473,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1166 Passed:1089 Failed:77
1614403729871,701,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1167 Passed:1090 Failed:77
1614403730278,405,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1168 Passed:1091 Failed:77
1614403730279,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403730279,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209288', 'issue_key': 'AAFAIA-3780', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1169 Passed:1091 Failed:78
1614403731080,375,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1170 Passed:1092 Failed:78


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209288', 'issue_key': 'AAFAIA-3780', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.03s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403731242,108,selenium_login:open_login_page,Success,True
1614403732441,1198,selenium_login:login_and_view_dashboard,Success,True
1614403732441,1307,selenium_login,Success,True
.test_0_selenium_a_login,Total:1171 Passed:1093 Failed:78
1614403732830,341,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1172 Passed:1094 Failed:78
1614403733102,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1173 Passed:1095 Failed:78
1614403733904,792,selenium_create_issue:open_quick_create,Success,True
1614403735117,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403735117,1213,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403735117,2006,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1174 Passed:1096 Failed:78
1614403735743,616,selenium_edit_issue:open_edit_issue_form,Success,True
1614403736689,579,selenium_edit_issue:save_edit_issue_form,Success,True
1614403736689,1563,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1175 Passed:1097 Failed:78
1614403737151,460,selenium_save_comment:open_comment_form,Success,True
1614403738090,771,selenium_save_comment:submit_form,Success,True
1614403738090,1399,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1176 Passed:1098 Failed:78
1614403739404,1312,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1177 Passed:1099 Failed:78
1614403740199,794,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1178 Passed:1100 Failed:78
1614403740995,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1179 Passed:1101 Failed:78
1614403741616,619,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1180 Passed:1102 Failed:78
1614403742000,382,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1181 Passed:1103 Failed:78
1614403742638,635,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1182 Passed:1104 Failed:78
1614403743132,492,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1183 Passed:1105 Failed:78
1614403743134,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403743134,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207151', 'issue_key': 'AAFAIA-1643', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1184 Passed:1105 Failed:79
1614403743942,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1185 Passed:1106 Failed:79


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207151', 'issue_key': 'AAFAIA-1643', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.82s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403744136,138,selenium_login:open_login_page,Success,True
1614403744596,459,selenium_login:login_and_view_dashboard,Success,True
1614403744596,598,selenium_login,Success,True
.test_0_selenium_a_login,Total:1186 Passed:1107 Failed:79
1614403744960,349,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1187 Passed:1108 Failed:79
1614403745242,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1188 Passed:1109 Failed:79
1614403746050,799,selenium_create_issue:open_quick_create,Success,True
1614403747185,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403747185,1134,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403747185,1934,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1189 Passed:1110 Failed:79
1614403747856,662,selenium_edit_issue:open_edit_issue_form,Success,True
1614403748761,535,selenium_edit_issue:save_edit_issue_form,Success,True
1614403748762,1567,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1190 Passed:1111 Failed:79
1614403749154,390,selenium_save_comment:open_comment_form,Success,True
1614403750114,799,selenium_save_comment:submit_form,Success,True
1614403750114,1350,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1191 Passed:1112 Failed:79
1614403751584,1468,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1192 Passed:1113 Failed:79
1614403752415,829,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1193 Passed:1114 Failed:79
1614403753310,894,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1194 Passed:1115 Failed:79
1614403754043,731,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1195 Passed:1116 Failed:79
1614403754520,474,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1196 Passed:1117 Failed:79
1614403755245,723,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1197 Passed:1118 Failed:79
1614403755645,398,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1198 Passed:1119 Failed:79
1614403755646,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403755646,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207754', 'issue_key': 'AAFAIA-2246', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1199 Passed:1119 Failed:80
1614403756511,372,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1200 Passed:1120 Failed:80


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207754', 'issue_key': 'AAFAIA-2246', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.52s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403756672,107,selenium_login:open_login_page,Success,True
1614403757903,1231,selenium_login:login_and_view_dashboard,Success,True
1614403757904,1339,selenium_login,Success,True
.test_0_selenium_a_login,Total:1201 Passed:1121 Failed:80
1614403758181,256,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1202 Passed:1122 Failed:80
1614403758462,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1203 Passed:1123 Failed:80
1614403759248,777,selenium_create_issue:open_quick_create,Success,True
1614403760480,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403760481,1232,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403760481,2009,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1204 Passed:1124 Failed:80
1614403761026,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614403762042,548,selenium_edit_issue:save_edit_issue_form,Success,True
1614403762042,1552,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1205 Passed:1125 Failed:80
1614403762431,388,selenium_save_comment:open_comment_form,Success,True
1614403763533,934,selenium_save_comment:submit_form,Success,True
1614403763534,1490,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1206 Passed:1126 Failed:80
1614403764956,1420,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1207 Passed:1127 Failed:80
1614403765763,805,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1208 Passed:1128 Failed:80
1614403766563,798,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1209 Passed:1129 Failed:80
1614403767587,1022,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1210 Passed:1130 Failed:80
1614403768178,589,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1211 Passed:1131 Failed:80
1614403768926,745,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1212 Passed:1132 Failed:80
1614403769327,400,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1213 Passed:1133 Failed:80
1614403769328,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403769329,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206033', 'issue_key': 'AAFAIA-525', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1214 Passed:1133 Failed:81
1614403770202,307,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1215 Passed:1134 Failed:81


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206033', 'issue_key': 'AAFAIA-525', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.65s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403770400,143,selenium_login:open_login_page,Success,True
1614403770955,555,selenium_login:login_and_view_dashboard,Success,True
1614403770955,698,selenium_login,Success,True
.test_0_selenium_a_login,Total:1216 Passed:1135 Failed:81
1614403771247,280,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1217 Passed:1136 Failed:81
1614403771526,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1218 Passed:1137 Failed:81
1614403772301,762,selenium_create_issue:open_quick_create,Success,True
1614403773450,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403773451,1149,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403773451,1912,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1219 Passed:1138 Failed:81
1614403774111,650,selenium_edit_issue:open_edit_issue_form,Success,True
1614403775050,564,selenium_edit_issue:save_edit_issue_form,Success,True
1614403775050,1590,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1220 Passed:1139 Failed:81
1614403775446,394,selenium_save_comment:open_comment_form,Success,True
1614403776417,806,selenium_save_comment:submit_form,Success,True
1614403776417,1366,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1221 Passed:1140 Failed:81
1614403777905,1486,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1222 Passed:1141 Failed:81
1614403779281,1374,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1223 Passed:1142 Failed:81
1614403780085,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1224 Passed:1143 Failed:81
1614403780781,695,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1225 Passed:1144 Failed:81
1614403781181,398,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1226 Passed:1145 Failed:81
1614403781809,626,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1227 Passed:1146 Failed:81
1614403782325,513,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1228 Passed:1147 Failed:81
1614403782326,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403782326,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206003', 'issue_key': 'AAFAIA-495', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1229 Passed:1147 Failed:82
1614403783072,399,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1230 Passed:1148 Failed:82


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206003', 'issue_key': 'AAFAIA-495', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.83s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403783235,110,selenium_login:open_login_page,Success,True
1614403783855,619,selenium_login:login_and_view_dashboard,Success,True
1614403783855,730,selenium_login,Success,True
.test_0_selenium_a_login,Total:1231 Passed:1149 Failed:82
1614403784152,285,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1232 Passed:1150 Failed:82
1614403784432,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1233 Passed:1151 Failed:82
1614403785257,816,selenium_create_issue:open_quick_create,Success,True
1614403786446,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403786446,1189,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403786446,2005,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1234 Passed:1152 Failed:82
1614403787092,636,selenium_edit_issue:open_edit_issue_form,Success,True
1614403788071,591,selenium_edit_issue:save_edit_issue_form,Success,True
1614403788071,1615,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1235 Passed:1153 Failed:82
1614403788377,304,selenium_save_comment:open_comment_form,Success,True
1614403789297,758,selenium_save_comment:submit_form,Success,True
1614403789297,1224,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1236 Passed:1154 Failed:82
1614403790908,1609,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1237 Passed:1155 Failed:82
1614403792292,1382,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1238 Passed:1156 Failed:82
1614403793089,795,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1239 Passed:1157 Failed:82
1614403793516,425,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1240 Passed:1158 Failed:82
1614403793822,304,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1241 Passed:1159 Failed:82
1614403794400,575,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1242 Passed:1160 Failed:82
1614403794952,551,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1243 Passed:1161 Failed:82
1614403794954,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403794954,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207915', 'issue_key': 'AAFAIA-2407', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1244 Passed:1161 Failed:83
1614403795633,350,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1245 Passed:1162 Failed:83


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207915', 'issue_key': 'AAFAIA-2407', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.52s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403795797,109,selenium_login:open_login_page,Success,True
1614403796280,482,selenium_login:login_and_view_dashboard,Success,True
1614403796280,592,selenium_login,Success,True
.test_0_selenium_a_login,Total:1246 Passed:1163 Failed:83
1614403796561,271,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1247 Passed:1164 Failed:83
1614403797316,752,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1248 Passed:1165 Failed:83
1614403797992,667,selenium_create_issue:open_quick_create,Success,True
1614403799242,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403799242,1250,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403799242,1917,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1249 Passed:1166 Failed:83
1614403799997,746,selenium_edit_issue:open_edit_issue_form,Success,True
1614403800856,570,selenium_edit_issue:save_edit_issue_form,Success,True
1614403800856,1605,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1250 Passed:1167 Failed:83
1614403801260,401,selenium_save_comment:open_comment_form,Success,True
1614403802278,855,selenium_save_comment:submit_form,Success,True
1614403802278,1419,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1251 Passed:1168 Failed:83
1614403803782,1502,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1252 Passed:1169 Failed:83
1614403805163,1380,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1253 Passed:1170 Failed:83
1614403805961,795,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1254 Passed:1171 Failed:83
1614403806855,892,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1255 Passed:1172 Failed:83
1614403807253,396,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1256 Passed:1173 Failed:83
1614403807951,695,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1257 Passed:1174 Failed:83
1614403808372,419,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1258 Passed:1175 Failed:83
1614403808373,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403808373,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206471', 'issue_key': 'AAFAIA-963', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1259 Passed:1175 Failed:84
1614403809281,321,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1260 Passed:1176 Failed:84


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206471', 'issue_key': 'AAFAIA-963', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.60s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403809449,106,selenium_login:open_login_page,Success,True
1614403809978,528,selenium_login:login_and_view_dashboard,Success,True
1614403809978,635,selenium_login,Success,True
.test_0_selenium_a_login,Total:1261 Passed:1177 Failed:84
1614403810304,315,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1262 Passed:1178 Failed:84
1614403810593,287,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1263 Passed:1179 Failed:84
1614403811412,809,selenium_create_issue:open_quick_create,Success,True
1614403812565,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403812565,1152,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403812565,1962,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1264 Passed:1180 Failed:84
1614403813219,646,selenium_edit_issue:open_edit_issue_form,Success,True
1614403814219,623,selenium_edit_issue:save_edit_issue_form,Success,True
1614403814219,1645,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1265 Passed:1181 Failed:84
1614403814632,411,selenium_save_comment:open_comment_form,Success,True
1614403815527,734,selenium_save_comment:submit_form,Success,True
1614403815527,1307,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1266 Passed:1182 Failed:84
1614403817270,1741,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1267 Passed:1183 Failed:84
1614403818264,993,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1268 Passed:1184 Failed:84
1614403819065,799,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1269 Passed:1185 Failed:84
1614403820140,1072,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1270 Passed:1186 Failed:84
1614403820750,609,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1271 Passed:1187 Failed:84
1614403821410,657,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1272 Passed:1188 Failed:84
1614403821809,397,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1273 Passed:1189 Failed:84
1614403821810,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403821810,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914964', 'issue_key': 'AABIS-400', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1274 Passed:1189 Failed:85
1614403822568,350,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1275 Passed:1190 Failed:85


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914964', 'issue_key': 'AABIS-400', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.24s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403822723,103,selenium_login:open_login_page,Success,True
1614403823294,570,selenium_login:login_and_view_dashboard,Success,True
1614403823294,674,selenium_login,Success,True
.test_0_selenium_a_login,Total:1276 Passed:1191 Failed:85
1614403823600,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1277 Passed:1192 Failed:85
1614403823879,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1278 Passed:1193 Failed:85
1614403824695,807,selenium_create_issue:open_quick_create,Success,True
1614403825932,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403825932,1236,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403825932,2044,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1279 Passed:1194 Failed:85
1614403826596,655,selenium_edit_issue:open_edit_issue_form,Success,True
1614403827543,560,selenium_edit_issue:save_edit_issue_form,Success,True
1614403827543,1602,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1280 Passed:1195 Failed:85
1614403827949,404,selenium_save_comment:open_comment_form,Success,True
1614403828877,758,selenium_save_comment:submit_form,Success,True
1614403828877,1333,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1281 Passed:1196 Failed:85
1614403830485,1605,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1282 Passed:1197 Failed:85
1614403831296,810,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1283 Passed:1198 Failed:85
1614403832093,795,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1284 Passed:1199 Failed:85
1614403832984,889,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1285 Passed:1200 Failed:85
1614403833467,481,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1286 Passed:1201 Failed:85
1614403834167,698,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1287 Passed:1202 Failed:85
1614403834627,458,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1288 Passed:1203 Failed:85
1614403834629,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403834629,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211952', 'issue_key': 'AAFAIA-6444', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1289 Passed:1203 Failed:86
1614403835419,340,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1290 Passed:1204 Failed:86


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211952', 'issue_key': 'AAFAIA-6444', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.81s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403835577,106,selenium_login:open_login_page,Success,True
1614403836788,1211,selenium_login:login_and_view_dashboard,Success,True
1614403836789,1318,selenium_login,Success,True
.test_0_selenium_a_login,Total:1291 Passed:1205 Failed:86
1614403837161,238,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1292 Passed:1206 Failed:86
1614403837434,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1293 Passed:1207 Failed:86
1614403838198,755,selenium_create_issue:open_quick_create,Success,True
1614403839432,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403839432,1233,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403839432,1989,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1294 Passed:1208 Failed:86
1614403839947,506,selenium_edit_issue:open_edit_issue_form,Success,True
1614403841028,575,selenium_edit_issue:save_edit_issue_form,Success,True
1614403841028,1587,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1295 Passed:1209 Failed:86
1614403841418,389,selenium_save_comment:open_comment_form,Success,True
1614403842357,776,selenium_save_comment:submit_form,Success,True
1614403842357,1327,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1296 Passed:1210 Failed:86
1614403843863,1504,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1297 Passed:1211 Failed:86
1614403844667,802,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1298 Passed:1212 Failed:86
1614403845576,907,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1299 Passed:1213 Failed:86
1614403846550,972,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1300 Passed:1214 Failed:86
1614403847043,492,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1301 Passed:1215 Failed:86
1614403847758,713,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1302 Passed:1216 Failed:86
1614403848177,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1303 Passed:1217 Failed:86
1614403848178,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403848178,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914568', 'issue_key': 'AABIS-4', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABIS...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1304 Passed:1217 Failed:87
1614403849030,333,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1305 Passed:1218 Failed:87


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914568', 'issue_key': 'AABIS-4', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABIS...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.57s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403849188,106,selenium_login:open_login_page,Success,True
1614403849734,546,selenium_login:login_and_view_dashboard,Success,True
1614403849735,653,selenium_login,Success,True
.test_0_selenium_a_login,Total:1306 Passed:1219 Failed:87
1614403850047,302,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1307 Passed:1220 Failed:87
1614403850330,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1308 Passed:1221 Failed:87
1614403851138,798,selenium_create_issue:open_quick_create,Success,True
1614403852385,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403852385,1246,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403852385,2045,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1309 Passed:1222 Failed:87
1614403853031,638,selenium_edit_issue:open_edit_issue_form,Success,True
1614403853962,556,selenium_edit_issue:save_edit_issue_form,Success,True
1614403853962,1569,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1310 Passed:1223 Failed:87
1614403854355,391,selenium_save_comment:open_comment_form,Success,True
1614403855277,756,selenium_save_comment:submit_form,Success,True
1614403855277,1312,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1311 Passed:1224 Failed:87
1614403857004,1725,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1312 Passed:1225 Failed:87
1614403857808,802,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1313 Passed:1226 Failed:87
1614403858616,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1314 Passed:1227 Failed:87
1614403859541,923,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1315 Passed:1228 Failed:87
1614403860029,486,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1316 Passed:1229 Failed:87
1614403860754,723,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1317 Passed:1230 Failed:87
1614403861188,432,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1318 Passed:1231 Failed:87
1614403861190,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403861190,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211257', 'issue_key': 'AAFAIA-5749', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1319 Passed:1231 Failed:88
1614403862041,412,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1320 Passed:1232 Failed:88


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211257', 'issue_key': 'AAFAIA-5749', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.97s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403862207,112,selenium_login:open_login_page,Success,True
1614403862722,514,selenium_login:login_and_view_dashboard,Success,True
1614403862722,627,selenium_login,Success,True
.test_0_selenium_a_login,Total:1321 Passed:1233 Failed:88
1614403863030,296,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1322 Passed:1234 Failed:88
1614403863323,291,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1323 Passed:1235 Failed:88
1614403864126,794,selenium_create_issue:open_quick_create,Success,True
1614403865264,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403865264,1138,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403865264,1932,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1324 Passed:1236 Failed:88
1614403865824,551,selenium_edit_issue:open_edit_issue_form,Success,True
1614403866909,588,selenium_edit_issue:save_edit_issue_form,Success,True
1614403866909,1636,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1325 Passed:1237 Failed:88
1614403867321,411,selenium_save_comment:open_comment_form,Success,True
1614403868252,768,selenium_save_comment:submit_form,Success,True
1614403868252,1341,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1326 Passed:1238 Failed:88
1614403869698,1444,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1327 Passed:1239 Failed:88
1614403871102,1402,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1328 Passed:1240 Failed:88
1614403871938,834,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1329 Passed:1241 Failed:88
1614403872644,704,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1330 Passed:1242 Failed:88
1614403873062,416,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1331 Passed:1243 Failed:88
1614403873666,602,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1332 Passed:1244 Failed:88
1614403874210,542,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1333 Passed:1245 Failed:88
1614403874212,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403874212,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209454', 'issue_key': 'AAFAIA-3946', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1334 Passed:1245 Failed:89
1614403875074,468,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1335 Passed:1246 Failed:89


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209454', 'issue_key': 'AAFAIA-3946', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.99s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403875233,105,selenium_login:open_login_page,Success,True
1614403875733,499,selenium_login:login_and_view_dashboard,Success,True
1614403875733,604,selenium_login,Success,True
.test_0_selenium_a_login,Total:1336 Passed:1247 Failed:89
1614403876026,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1337 Passed:1248 Failed:89
1614403876390,362,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1338 Passed:1249 Failed:89
1614403877205,805,selenium_create_issue:open_quick_create,Success,True
1614403878400,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403878400,1195,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403878400,2000,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1339 Passed:1250 Failed:89
1614403878956,547,selenium_edit_issue:open_edit_issue_form,Success,True
1614403880050,612,selenium_edit_issue:save_edit_issue_form,Success,True
1614403880051,1642,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1340 Passed:1251 Failed:89
1614403880420,368,selenium_save_comment:open_comment_form,Success,True
1614403881397,818,selenium_save_comment:submit_form,Success,True
1614403881397,1345,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1341 Passed:1252 Failed:89
1614403882770,1371,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1342 Passed:1253 Failed:89
1614403883616,844,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1343 Passed:1254 Failed:89
1614403884508,891,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1344 Passed:1255 Failed:89
1614403885457,947,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1345 Passed:1256 Failed:89
1614403886083,624,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1346 Passed:1257 Failed:89
1614403886774,688,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1347 Passed:1258 Failed:89
1614403887190,414,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1348 Passed:1259 Failed:89
1614403887191,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403887191,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205568', 'issue_key': 'AAFAIA-60', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1349 Passed:1259 Failed:90
1614403888030,327,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1350 Passed:1260 Failed:90


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205568', 'issue_key': 'AAFAIA-60', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.91s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403888200,105,selenium_login:open_login_page,Success,True
1614403888711,511,selenium_login:login_and_view_dashboard,Success,True
1614403888712,616,selenium_login,Success,True
.test_0_selenium_a_login,Total:1351 Passed:1261 Failed:90
1614403889007,285,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1352 Passed:1262 Failed:90
1614403889752,743,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1353 Passed:1263 Failed:90
1614403890521,760,selenium_create_issue:open_quick_create,Success,True
1614403891766,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403891766,1244,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403891766,2005,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1354 Passed:1264 Failed:90
1614403892387,612,selenium_edit_issue:open_edit_issue_form,Success,True
1614403893294,546,selenium_edit_issue:save_edit_issue_form,Success,True
1614403893295,1520,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1355 Passed:1265 Failed:90
1614403893742,445,selenium_save_comment:open_comment_form,Success,True
1614403894596,743,selenium_save_comment:submit_form,Success,True
1614403894596,1299,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1356 Passed:1266 Failed:90
1614403895998,1401,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1357 Passed:1267 Failed:90
1614403897368,1368,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1358 Passed:1268 Failed:90
1614403898195,825,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1359 Passed:1269 Failed:90
1614403898996,799,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1360 Passed:1270 Failed:90
1614403899402,403,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1361 Passed:1271 Failed:90
1614403900066,662,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1362 Passed:1272 Failed:90
1614403900606,538,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1363 Passed:1273 Failed:90
1614403900607,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403900608,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210520', 'issue_key': 'AAFAIA-5012', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1364 Passed:1273 Failed:91
1614403901428,424,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1365 Passed:1274 Failed:91


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210520', 'issue_key': 'AAFAIA-5012', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.34s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403901595,113,selenium_login:open_login_page,Success,True
1614403902077,481,selenium_login:login_and_view_dashboard,Success,True
1614403902077,596,selenium_login,Success,True
.test_0_selenium_a_login,Total:1366 Passed:1275 Failed:91
1614403902359,271,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1367 Passed:1276 Failed:91
1614403902682,321,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1368 Passed:1277 Failed:91
1614403903496,804,selenium_create_issue:open_quick_create,Success,True
1614403904726,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403904726,1230,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403904726,2034,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1369 Passed:1278 Failed:91
1614403905251,515,selenium_edit_issue:open_edit_issue_form,Success,True
1614403906263,542,selenium_edit_issue:save_edit_issue_form,Success,True
1614403906263,1528,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1370 Passed:1279 Failed:91
1614403906674,409,selenium_save_comment:open_comment_form,Success,True
1614403907530,714,selenium_save_comment:submit_form,Success,True
1614403907530,1266,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1371 Passed:1280 Failed:91
1614403908821,1289,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1372 Passed:1281 Failed:91
1614403909662,839,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1373 Passed:1282 Failed:91
1614403910465,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1374 Passed:1283 Failed:91
1614403910828,361,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1375 Passed:1284 Failed:91
1614403911078,248,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1376 Passed:1285 Failed:91
1614403911696,616,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1377 Passed:1286 Failed:91
1614403912140,442,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1378 Passed:1287 Failed:91
1614403912141,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403912141,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210384', 'issue_key': 'AAFAIA-4876', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1379 Passed:1287 Failed:92
1614403912944,420,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1380 Passed:1288 Failed:92


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210384', 'issue_key': 'AAFAIA-4876', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.47s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403913112,104,selenium_login:open_login_page,Success,True
1614403914374,1261,selenium_login:login_and_view_dashboard,Success,True
1614403914375,1367,selenium_login,Success,True
.test_0_selenium_a_login,Total:1381 Passed:1289 Failed:92
1614403914762,245,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1382 Passed:1290 Failed:92
1614403915046,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1383 Passed:1291 Failed:92
1614403915813,758,selenium_create_issue:open_quick_create,Success,True
1614403917009,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403917010,1196,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403917010,1955,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1384 Passed:1292 Failed:92
1614403917646,627,selenium_edit_issue:open_edit_issue_form,Success,True
1614403918566,541,selenium_edit_issue:save_edit_issue_form,Success,True
1614403918566,1547,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1385 Passed:1293 Failed:92
1614403918989,421,selenium_save_comment:open_comment_form,Success,True
1614403919947,794,selenium_save_comment:submit_form,Success,True
1614403919947,1379,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1386 Passed:1294 Failed:92
1614403921297,1348,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1387 Passed:1295 Failed:92
1614403922727,1429,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1388 Passed:1296 Failed:92
1614403923569,841,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1389 Passed:1297 Failed:92
1614403924248,677,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1390 Passed:1298 Failed:92
1614403924662,413,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1391 Passed:1299 Failed:92
1614403925259,595,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1392 Passed:1300 Failed:92
1614403925764,503,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1393 Passed:1301 Failed:92
1614403925765,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403925765,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209324', 'issue_key': 'AAFAIA-3816', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1394 Passed:1301 Failed:93
1614403927295,428,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1395 Passed:1302 Failed:93


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209324', 'issue_key': 'AAFAIA-3816', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 14.30s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403927458,107,selenium_login:open_login_page,Success,True
1614403928013,555,selenium_login:login_and_view_dashboard,Success,True
1614403928013,663,selenium_login,Success,True
.test_0_selenium_a_login,Total:1396 Passed:1303 Failed:93
1614403928286,262,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1397 Passed:1304 Failed:93
1614403928555,267,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1398 Passed:1305 Failed:93
1614403929390,826,selenium_create_issue:open_quick_create,Success,True
1614403930558,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403930558,1167,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403930558,1994,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1399 Passed:1306 Failed:93
1614403931105,539,selenium_edit_issue:open_edit_issue_form,Success,True
1614403932211,641,selenium_edit_issue:save_edit_issue_form,Success,True
1614403932211,1645,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1400 Passed:1307 Failed:93
1614403932649,435,selenium_save_comment:open_comment_form,Success,True
1614403933554,741,selenium_save_comment:submit_form,Success,True
1614403933554,1340,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1401 Passed:1308 Failed:93
1614403934879,1323,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1402 Passed:1309 Failed:93
1614403936285,1404,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1403 Passed:1310 Failed:93
1614403937081,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1404 Passed:1311 Failed:93
1614403937495,412,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1405 Passed:1312 Failed:93
1614403937721,224,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1406 Passed:1313 Failed:93
1614403938366,643,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1407 Passed:1314 Failed:93
1614403938917,550,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1408 Passed:1315 Failed:93
1614403938919,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403938919,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208171', 'issue_key': 'AAFAIA-2663', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1409 Passed:1315 Failed:94
1614403939648,355,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1410 Passed:1316 Failed:94


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208171', 'issue_key': 'AAFAIA-2663', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.31s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403939813,112,selenium_login:open_login_page,Success,True
1614403940411,598,selenium_login:login_and_view_dashboard,Success,True
1614403940411,710,selenium_login,Success,True
.test_0_selenium_a_login,Total:1411 Passed:1317 Failed:94
1614403940709,286,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1412 Passed:1318 Failed:94
1614403940992,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1413 Passed:1319 Failed:94
1614403941767,766,selenium_create_issue:open_quick_create,Success,True
1614403942992,645,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403942992,1224,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403942992,1991,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1414 Passed:1320 Failed:94
1614403943532,530,selenium_edit_issue:open_edit_issue_form,Success,True
1614403944570,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614403944570,1568,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1415 Passed:1321 Failed:94
1614403944963,391,selenium_save_comment:open_comment_form,Success,True
1614403945863,738,selenium_save_comment:submit_form,Success,True
1614403945863,1292,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1416 Passed:1322 Failed:94
1614403947224,1359,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1417 Passed:1323 Failed:94
1614403948196,970,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1418 Passed:1324 Failed:94
1614403949048,851,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1419 Passed:1325 Failed:94
1614403950136,1086,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1420 Passed:1326 Failed:94
1614403950823,686,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1421 Passed:1327 Failed:94
1614403951463,638,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1422 Passed:1328 Failed:94
1614403951883,418,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1423 Passed:1329 Failed:94
1614403951885,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403951885,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210188', 'issue_key': 'AAFAIA-4680', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1424 Passed:1329 Failed:95
1614403952853,326,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1425 Passed:1330 Failed:95


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210188', 'issue_key': 'AAFAIA-4680', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.16s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403953025,111,selenium_login:open_login_page,Success,True
1614403953528,503,selenium_login:login_and_view_dashboard,Success,True
1614403953529,615,selenium_login,Success,True
.test_0_selenium_a_login,Total:1426 Passed:1331 Failed:95
1614403953807,267,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1427 Passed:1332 Failed:95
1614403954090,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1428 Passed:1333 Failed:95
1614403954883,784,selenium_create_issue:open_quick_create,Success,True
1614403956095,631,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403956095,1211,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403956095,1996,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1429 Passed:1334 Failed:95
1614403956640,535,selenium_edit_issue:open_edit_issue_form,Success,True
1614403957714,581,selenium_edit_issue:save_edit_issue_form,Success,True
1614403957714,1610,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1430 Passed:1335 Failed:95
1614403958085,369,selenium_save_comment:open_comment_form,Success,True
1614403959036,789,selenium_save_comment:submit_form,Success,True
1614403959036,1320,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1431 Passed:1336 Failed:95
1614403960423,1385,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1432 Passed:1337 Failed:95
1614403961451,1026,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1433 Passed:1338 Failed:95
1614403962372,919,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1434 Passed:1339 Failed:95
1614403963578,1205,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1435 Passed:1340 Failed:95
1614403963823,243,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1436 Passed:1341 Failed:95
1614403964544,719,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1437 Passed:1342 Failed:95
1614403965002,456,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1438 Passed:1343 Failed:95
1614403965004,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403965004,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206369', 'issue_key': 'AAFAIA-861', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1439 Passed:1343 Failed:96
1614403965841,289,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1440 Passed:1344 Failed:96


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206369', 'issue_key': 'AAFAIA-861', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.94s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403966006,111,selenium_login:open_login_page,Success,True
1614403966520,514,selenium_login:login_and_view_dashboard,Success,True
1614403966521,626,selenium_login,Success,True
.test_0_selenium_a_login,Total:1441 Passed:1345 Failed:96
1614403966807,276,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1442 Passed:1346 Failed:96
1614403967088,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1443 Passed:1347 Failed:96
1614403967873,775,selenium_create_issue:open_quick_create,Success,True
1614403969129,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403969130,1256,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403969130,2032,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1444 Passed:1348 Failed:96
1614403969776,638,selenium_edit_issue:open_edit_issue_form,Success,True
1614403970718,584,selenium_edit_issue:save_edit_issue_form,Success,True
1614403970719,1580,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1445 Passed:1349 Failed:96
1614403971096,376,selenium_save_comment:open_comment_form,Success,True
1614403972039,795,selenium_save_comment:submit_form,Success,True
1614403972039,1319,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1446 Passed:1350 Failed:96
1614403973366,1325,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1447 Passed:1351 Failed:96
1614403974725,1357,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1448 Passed:1352 Failed:96
1614403975552,825,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1449 Passed:1353 Failed:96
1614403976182,628,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1450 Passed:1354 Failed:96
1614403976577,393,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1451 Passed:1355 Failed:96
1614403977306,727,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1452 Passed:1356 Failed:96
1614403977725,418,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1453 Passed:1357 Failed:96
1614403977727,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403977727,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206063', 'issue_key': 'AAFAIA-555', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1454 Passed:1357 Failed:97
1614403978569,357,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1455 Passed:1358 Failed:97


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206063', 'issue_key': 'AAFAIA-555', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.69s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403978726,104,selenium_login:open_login_page,Success,True
1614403979935,1208,selenium_login:login_and_view_dashboard,Success,True
1614403979936,1313,selenium_login,Success,True
.test_0_selenium_a_login,Total:1456 Passed:1359 Failed:97
1614403980265,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1457 Passed:1360 Failed:97
1614403980548,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1458 Passed:1361 Failed:97
1614403981344,786,selenium_create_issue:open_quick_create,Success,True
1614403982561,629,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403982561,1217,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403982561,2004,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1459 Passed:1362 Failed:97
1614403983213,643,selenium_edit_issue:open_edit_issue_form,Success,True
1614403984224,622,selenium_edit_issue:save_edit_issue_form,Success,True
1614403984225,1654,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1460 Passed:1363 Failed:97
1614403984572,345,selenium_save_comment:open_comment_form,Success,True
1614403985548,817,selenium_save_comment:submit_form,Success,True
1614403985548,1321,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1461 Passed:1364 Failed:97
1614403986868,1319,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1462 Passed:1365 Failed:97
1614403987672,802,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1463 Passed:1366 Failed:97
1614403988563,890,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1464 Passed:1367 Failed:97
1614403989601,1036,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1465 Passed:1368 Failed:97
1614403990363,759,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1466 Passed:1369 Failed:97
1614403990900,535,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1467 Passed:1370 Failed:97
1614403991218,316,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1468 Passed:1371 Failed:97
1614403991220,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614403991220,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206287', 'issue_key': 'AAFAIA-779', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1469 Passed:1371 Failed:98
1614403992068,369,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1470 Passed:1372 Failed:98


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206287', 'issue_key': 'AAFAIA-779', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.46s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614403992234,113,selenium_login:open_login_page,Success,True
1614403993458,1224,selenium_login:login_and_view_dashboard,Success,True
1614403993458,1338,selenium_login,Success,True
.test_0_selenium_a_login,Total:1471 Passed:1373 Failed:98
1614403993720,238,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1472 Passed:1374 Failed:98
1614403993999,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1473 Passed:1375 Failed:98
1614403994814,805,selenium_create_issue:open_quick_create,Success,True
1614403996041,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614403996041,1227,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614403996041,2033,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1474 Passed:1376 Failed:98
1614403996688,638,selenium_edit_issue:open_edit_issue_form,Success,True
1614403997645,600,selenium_edit_issue:save_edit_issue_form,Success,True
1614403997645,1595,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1475 Passed:1377 Failed:98
1614403998060,413,selenium_save_comment:open_comment_form,Success,True
1614403998958,737,selenium_save_comment:submit_form,Success,True
1614403998958,1311,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1476 Passed:1378 Failed:98
1614404000252,1292,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1477 Passed:1379 Failed:98
1614404001051,797,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1478 Passed:1380 Failed:98
1614404001886,833,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1479 Passed:1381 Failed:98
1614404002790,902,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1480 Passed:1382 Failed:98
1614404003235,444,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1481 Passed:1383 Failed:98
1614404003968,730,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1482 Passed:1384 Failed:98
1614404004286,316,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1483 Passed:1385 Failed:98
1614404004288,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404004288,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211530', 'issue_key': 'AAFAIA-6022', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1484 Passed:1385 Failed:99
1614404005111,326,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1485 Passed:1386 Failed:99


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211530', 'issue_key': 'AAFAIA-6022', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.00s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404005280,110,selenium_login:open_login_page,Success,True
1614404005739,459,selenium_login:login_and_view_dashboard,Success,True
1614404005739,570,selenium_login,Success,True
.test_0_selenium_a_login,Total:1486 Passed:1387 Failed:99
1614404006119,365,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1487 Passed:1388 Failed:99
1614404006397,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1488 Passed:1389 Failed:99
1614404007175,769,selenium_create_issue:open_quick_create,Success,True
1614404008410,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404008410,1234,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404008410,2004,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1489 Passed:1390 Failed:99
1614404008967,548,selenium_edit_issue:open_edit_issue_form,Success,True
1614404010000,540,selenium_edit_issue:save_edit_issue_form,Success,True
1614404010000,1582,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1490 Passed:1391 Failed:99
1614404010405,403,selenium_save_comment:open_comment_form,Success,True
1614404011351,783,selenium_save_comment:submit_form,Success,True
1614404011351,1349,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1491 Passed:1392 Failed:99
1614404012664,1312,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1492 Passed:1393 Failed:99
1614404013460,794,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1493 Passed:1394 Failed:99
1614404014252,790,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1494 Passed:1395 Failed:99
1614404015124,870,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1495 Passed:1396 Failed:99
1614404015531,405,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1496 Passed:1397 Failed:99
1614404016219,686,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1497 Passed:1398 Failed:99
1614404016632,411,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1498 Passed:1399 Failed:99
1614404016633,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404016633,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211566', 'issue_key': 'AAFAIA-6058', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1499 Passed:1399 Failed:100
1614404017518,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1500 Passed:1400 Failed:100


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211566', 'issue_key': 'AAFAIA-6058', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.36s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404017678,107,selenium_login:open_login_page,Success,True
1614404018185,507,selenium_login:login_and_view_dashboard,Success,True
1614404018185,614,selenium_login,Success,True
.test_0_selenium_a_login,Total:1501 Passed:1401 Failed:100
1614404018491,293,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1502 Passed:1402 Failed:100
1614404018773,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1503 Passed:1403 Failed:100
1614404019494,712,selenium_create_issue:open_quick_create,Success,True
1614404020695,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404020695,1200,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404020695,1913,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1504 Passed:1404 Failed:100
1614404021229,526,selenium_edit_issue:open_edit_issue_form,Success,True
1614404022254,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614404022254,1551,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1505 Passed:1405 Failed:100
1614404022654,398,selenium_save_comment:open_comment_form,Success,True
1614404023518,702,selenium_save_comment:submit_form,Success,True
1614404023518,1262,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1506 Passed:1406 Failed:100
1614404024791,1271,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1507 Passed:1407 Failed:100
1614404025588,795,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1508 Passed:1408 Failed:100
1614404026433,843,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1509 Passed:1409 Failed:100
1614404027158,723,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1510 Passed:1410 Failed:100
1614404027630,470,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1511 Passed:1411 Failed:100
1614404028302,670,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1512 Passed:1412 Failed:100
1614404028737,433,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1513 Passed:1413 Failed:100
1614404028738,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404028738,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212305', 'issue_key': 'AAFAIA-6797', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1514 Passed:1413 Failed:101
1614404029611,333,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1515 Passed:1414 Failed:101


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212305', 'issue_key': 'AAFAIA-6797', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.05s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404029771,108,selenium_login:open_login_page,Success,True
1614404030258,486,selenium_login:login_and_view_dashboard,Success,True
1614404030258,595,selenium_login,Success,True
.test_0_selenium_a_login,Total:1516 Passed:1415 Failed:101
1614404030565,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1517 Passed:1416 Failed:101
1614404030850,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1518 Passed:1417 Failed:101
1614404031639,780,selenium_create_issue:open_quick_create,Success,True
1614404034027,643,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404034027,2388,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404034027,3168,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1519 Passed:1418 Failed:101
1614404034591,556,selenium_edit_issue:open_edit_issue_form,Success,True
1614404035628,554,selenium_edit_issue:save_edit_issue_form,Success,True
1614404035628,1593,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1520 Passed:1419 Failed:101
1614404036009,379,selenium_save_comment:open_comment_form,Success,True
1614404036992,821,selenium_save_comment:submit_form,Success,True
1614404036992,1362,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1521 Passed:1420 Failed:101
1614404038320,1326,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1522 Passed:1421 Failed:101
1614404039696,1374,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1523 Passed:1422 Failed:101
1614404040517,819,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1524 Passed:1423 Failed:101
1614404041201,683,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1525 Passed:1424 Failed:101
1614404041512,308,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1526 Passed:1425 Failed:101
1614404042084,570,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1527 Passed:1426 Failed:101
1614404042502,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1528 Passed:1427 Failed:101
1614404042503,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404042503,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915260', 'issue_key': 'AABIS-696', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1529 Passed:1427 Failed:102
1614404043297,352,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1530 Passed:1428 Failed:102


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915260', 'issue_key': 'AABIS-696', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.64s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404043452,103,selenium_login:open_login_page,Success,True
1614404043969,516,selenium_login:login_and_view_dashboard,Success,True
1614404043969,620,selenium_login,Success,True
.test_0_selenium_a_login,Total:1531 Passed:1429 Failed:102
1614404044245,264,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1532 Passed:1430 Failed:102
1614404044523,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1533 Passed:1431 Failed:102
1614404045325,793,selenium_create_issue:open_quick_create,Success,True
1614404046506,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404046506,1180,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404046506,1974,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1534 Passed:1432 Failed:102
1614404047139,624,selenium_edit_issue:open_edit_issue_form,Success,True
1614404048133,630,selenium_edit_issue:save_edit_issue_form,Success,True
1614404048133,1618,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1535 Passed:1433 Failed:102
1614404048525,391,selenium_save_comment:open_comment_form,Success,True
1614404049534,847,selenium_save_comment:submit_form,Success,True
1614404049534,1399,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1536 Passed:1434 Failed:102
1614404050884,1348,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1537 Passed:1435 Failed:102
1614404052273,1387,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1538 Passed:1436 Failed:102
1614404053104,829,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1539 Passed:1437 Failed:102
1614404053519,413,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1540 Passed:1438 Failed:102
1614404053834,312,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1541 Passed:1439 Failed:102
1614404054652,817,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1542 Passed:1440 Failed:102
1614404055174,519,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1543 Passed:1441 Failed:102
1614404055175,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404055175,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206155', 'issue_key': 'AAFAIA-647', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1544 Passed:1441 Failed:103
1614404055939,345,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1545 Passed:1442 Failed:103


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206155', 'issue_key': 'AAFAIA-647', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.60s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404056104,111,selenium_login:open_login_page,Success,True
1614404057396,1292,selenium_login:login_and_view_dashboard,Success,True
1614404057396,1403,selenium_login,Success,True
.test_0_selenium_a_login,Total:1546 Passed:1443 Failed:103
1614404057779,321,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1547 Passed:1444 Failed:103
1614404058508,728,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1548 Passed:1445 Failed:103
1614404059283,765,selenium_create_issue:open_quick_create,Success,True
1614404060516,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404060516,1232,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404060516,1998,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1549 Passed:1446 Failed:103
1614404061063,537,selenium_edit_issue:open_edit_issue_form,Success,True
1614404062114,568,selenium_edit_issue:save_edit_issue_form,Success,True
1614404062114,1587,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1550 Passed:1447 Failed:103
1614404062522,407,selenium_save_comment:open_comment_form,Success,True
1614404063463,771,selenium_save_comment:submit_form,Success,True
1614404063463,1347,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1551 Passed:1448 Failed:103
1614404064811,1347,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1552 Passed:1449 Failed:103
1614404065649,836,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1553 Passed:1450 Failed:103
1614404066442,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1554 Passed:1451 Failed:103
1614404067190,746,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1555 Passed:1452 Failed:103
1614404067419,227,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1556 Passed:1453 Failed:103
1614404068134,713,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1557 Passed:1454 Failed:103
1614404068549,413,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1558 Passed:1455 Failed:103
1614404068550,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404068550,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207512', 'issue_key': 'AAFAIA-2004', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1559 Passed:1455 Failed:104
1614404069267,353,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1560 Passed:1456 Failed:104


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207512', 'issue_key': 'AAFAIA-2004', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.29s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404069430,110,selenium_login:open_login_page,Success,True
1614404070018,587,selenium_login:login_and_view_dashboard,Success,True
1614404070018,698,selenium_login,Success,True
.test_0_selenium_a_login,Total:1561 Passed:1457 Failed:104
1614404070314,284,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1562 Passed:1458 Failed:104
1614404070604,287,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1563 Passed:1459 Failed:104
1614404071437,824,selenium_create_issue:open_quick_create,Success,True
1614404072625,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404072625,1187,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404072625,2012,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1564 Passed:1460 Failed:104
1614404073184,550,selenium_edit_issue:open_edit_issue_form,Success,True
1614404074161,531,selenium_edit_issue:save_edit_issue_form,Success,True
1614404074161,1528,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1565 Passed:1461 Failed:104
1614404074525,362,selenium_save_comment:open_comment_form,Success,True
1614404075529,798,selenium_save_comment:submit_form,Success,True
1614404075529,1366,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1566 Passed:1462 Failed:104
1614404076884,1353,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1567 Passed:1463 Failed:104
1614404077689,804,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1568 Passed:1464 Failed:104
1614404078484,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1569 Passed:1465 Failed:104
1614404079321,836,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1570 Passed:1466 Failed:104
1614404079765,442,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1571 Passed:1467 Failed:104
1614404080439,672,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1572 Passed:1468 Failed:104
1614404080926,485,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1573 Passed:1469 Failed:104
1614404080928,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404080928,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208741', 'issue_key': 'AAFAIA-3233', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1574 Passed:1469 Failed:105
1614404081774,341,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1575 Passed:1470 Failed:105


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208741', 'issue_key': 'AAFAIA-3233', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.46s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404081944,117,selenium_login:open_login_page,Success,True
1614404082447,501,selenium_login:login_and_view_dashboard,Success,True
1614404082447,619,selenium_login,Success,True
.test_0_selenium_a_login,Total:1576 Passed:1471 Failed:105
1614404082732,273,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1577 Passed:1472 Failed:105
1614404083005,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1578 Passed:1473 Failed:105
1614404083809,794,selenium_create_issue:open_quick_create,Success,True
1614404084988,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404084988,1179,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404084989,1975,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1579 Passed:1474 Failed:105
1614404085628,630,selenium_edit_issue:open_edit_issue_form,Success,True
1614404086511,516,selenium_edit_issue:save_edit_issue_form,Success,True
1614404086511,1513,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1580 Passed:1475 Failed:105
1614404086887,374,selenium_save_comment:open_comment_form,Success,True
1614404087756,704,selenium_save_comment:submit_form,Success,True
1614404087756,1243,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1581 Passed:1476 Failed:105
1614404089107,1349,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1582 Passed:1477 Failed:105
1614404090509,1399,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1583 Passed:1478 Failed:105
1614404091310,799,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1584 Passed:1479 Failed:105
1614404092168,856,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1585 Passed:1480 Failed:105
1614404092711,541,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1586 Passed:1481 Failed:105
1614404093371,658,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1587 Passed:1482 Failed:105
1614404093800,428,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1588 Passed:1483 Failed:105
1614404093801,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404093801,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208135', 'issue_key': 'AAFAIA-2627', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1589 Passed:1483 Failed:106
1614404094780,346,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1590 Passed:1484 Failed:106


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208135', 'issue_key': 'AAFAIA-2627', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.96s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404094943,111,selenium_login:open_login_page,Success,True
1614404095418,474,selenium_login:login_and_view_dashboard,Success,True
1614404095418,585,selenium_login,Success,True
.test_0_selenium_a_login,Total:1591 Passed:1485 Failed:106
1614404095795,358,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1592 Passed:1486 Failed:106
1614404096085,289,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1593 Passed:1487 Failed:106
1614404096770,675,selenium_create_issue:open_quick_create,Success,True
1614404098005,625,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404098005,1235,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404098005,1911,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1594 Passed:1488 Failed:106
1614404098542,526,selenium_edit_issue:open_edit_issue_form,Success,True
1614404099603,579,selenium_edit_issue:save_edit_issue_form,Success,True
1614404099603,1586,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1595 Passed:1489 Failed:106
1614404099989,384,selenium_save_comment:open_comment_form,Success,True
1614404100874,719,selenium_save_comment:submit_form,Success,True
1614404100874,1269,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1596 Passed:1490 Failed:106
1614404102230,1354,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1597 Passed:1491 Failed:106
1614404103624,1392,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1598 Passed:1492 Failed:106
1614404104429,803,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1599 Passed:1493 Failed:106
1614404105265,834,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1600 Passed:1494 Failed:106
1614404105668,402,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1601 Passed:1495 Failed:106
1614404106276,606,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1602 Passed:1496 Failed:106
1614404106780,502,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1603 Passed:1497 Failed:106
1614404106781,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404106781,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206935', 'issue_key': 'AAFAIA-1427', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1604 Passed:1497 Failed:107
1614404107558,401,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1605 Passed:1498 Failed:107


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206935', 'issue_key': 'AAFAIA-1427', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.74s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404107725,110,selenium_login:open_login_page,Success,True
1614404108297,572,selenium_login:login_and_view_dashboard,Success,True
1614404108297,683,selenium_login,Success,True
.test_0_selenium_a_login,Total:1606 Passed:1499 Failed:107
1614404108585,277,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1607 Passed:1500 Failed:107
1614404108869,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1608 Passed:1501 Failed:107
1614404109569,691,selenium_create_issue:open_quick_create,Success,True
1614404110729,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404110729,1159,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404110729,1851,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1609 Passed:1502 Failed:107
1614404111385,647,selenium_edit_issue:open_edit_issue_form,Success,True
1614404112367,590,selenium_edit_issue:save_edit_issue_form,Success,True
1614404112367,1629,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1610 Passed:1503 Failed:107
1614404112756,387,selenium_save_comment:open_comment_form,Success,True
1614404113688,773,selenium_save_comment:submit_form,Success,True
1614404113688,1319,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1611 Passed:1504 Failed:107
1614404115174,1484,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1612 Passed:1505 Failed:107
1614404116511,1335,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1613 Passed:1506 Failed:107
1614404117333,820,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1614 Passed:1507 Failed:107
1614404118256,921,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1615 Passed:1508 Failed:107
1614404118774,517,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1616 Passed:1509 Failed:107
1614404119458,682,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1617 Passed:1510 Failed:107
1614404119965,505,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1618 Passed:1511 Failed:107
1614404119966,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404119966,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207680', 'issue_key': 'AAFAIA-2172', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1619 Passed:1511 Failed:108
1614404120740,359,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1620 Passed:1512 Failed:108


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207680', 'issue_key': 'AAFAIA-2172', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.14s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404120899,107,selenium_login:open_login_page,Success,True
1614404121531,631,selenium_login:login_and_view_dashboard,Success,True
1614404121531,739,selenium_login,Success,True
.test_0_selenium_a_login,Total:1621 Passed:1513 Failed:108
1614404121828,285,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1622 Passed:1514 Failed:108
1614404122104,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1623 Passed:1515 Failed:108
1614404122898,785,selenium_create_issue:open_quick_create,Success,True
1614404124034,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404124034,1135,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404124034,1921,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1624 Passed:1516 Failed:108
1614404124596,552,selenium_edit_issue:open_edit_issue_form,Success,True
1614404125615,540,selenium_edit_issue:save_edit_issue_form,Success,True
1614404125615,1571,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1625 Passed:1517 Failed:108
1614404126013,396,selenium_save_comment:open_comment_form,Success,True
1614404126970,794,selenium_save_comment:submit_form,Success,True
1614404126970,1354,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1626 Passed:1518 Failed:108
1614404128454,1482,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1627 Passed:1519 Failed:108
1614404129251,795,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1628 Passed:1520 Failed:108
1614404130048,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1629 Passed:1521 Failed:108
1614404130828,778,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1630 Passed:1522 Failed:108
1614404131263,433,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1631 Passed:1523 Failed:108
1614404131930,665,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1632 Passed:1524 Failed:108
1614404132413,481,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1633 Passed:1525 Failed:108
1614404132415,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404132415,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210683', 'issue_key': 'AAFAIA-5175', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1634 Passed:1525 Failed:109
1614404133273,361,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1635 Passed:1526 Failed:109


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210683', 'issue_key': 'AAFAIA-5175', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.49s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404133442,115,selenium_login:open_login_page,Success,True
1614404133962,520,selenium_login:login_and_view_dashboard,Success,True
1614404133962,635,selenium_login,Success,True
.test_0_selenium_a_login,Total:1636 Passed:1527 Failed:109
1614404134268,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1637 Passed:1528 Failed:109
1614404134550,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1638 Passed:1529 Failed:109
1614404135360,800,selenium_create_issue:open_quick_create,Success,True
1614404136513,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404136513,1152,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404136513,1953,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1639 Passed:1530 Failed:109
1614404137043,520,selenium_edit_issue:open_edit_issue_form,Success,True
1614404138141,616,selenium_edit_issue:save_edit_issue_form,Success,True
1614404138141,1618,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1640 Passed:1531 Failed:109
1614404138557,414,selenium_save_comment:open_comment_form,Success,True
1614404139456,742,selenium_save_comment:submit_form,Success,True
1614404139456,1313,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1641 Passed:1532 Failed:109
1614404140722,1264,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1642 Passed:1533 Failed:109
1614404142088,1365,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1643 Passed:1534 Failed:109
1614404142903,812,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1644 Passed:1535 Failed:109
1614404143598,693,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1645 Passed:1536 Failed:109
1614404144010,410,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1646 Passed:1537 Failed:109
1614404144677,665,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1647 Passed:1538 Failed:109
1614404145157,478,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1648 Passed:1539 Failed:109
1614404145159,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404145159,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208016', 'issue_key': 'AAFAIA-2508', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1649 Passed:1539 Failed:110
1614404145842,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1650 Passed:1540 Failed:110


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208016', 'issue_key': 'AAFAIA-2508', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.53s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404146015,120,selenium_login:open_login_page,Success,True
1614404146603,588,selenium_login:login_and_view_dashboard,Success,True
1614404146603,708,selenium_login,Success,True
.test_0_selenium_a_login,Total:1651 Passed:1541 Failed:110
1614404146918,303,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1652 Passed:1542 Failed:110
1614404147190,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1653 Passed:1543 Failed:110
1614404147977,777,selenium_create_issue:open_quick_create,Success,True
1614404149237,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404149237,1260,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404149237,2038,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1654 Passed:1544 Failed:110
1614404149894,647,selenium_edit_issue:open_edit_issue_form,Success,True
1614404150836,572,selenium_edit_issue:save_edit_issue_form,Success,True
1614404150836,1589,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1655 Passed:1545 Failed:110
1614404151250,412,selenium_save_comment:open_comment_form,Success,True
1614404152137,747,selenium_save_comment:submit_form,Success,True
1614404152137,1299,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1656 Passed:1546 Failed:110
1614404153478,1340,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1657 Passed:1547 Failed:110
1614404154559,1078,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1658 Passed:1548 Failed:110
1614404155461,900,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1659 Passed:1549 Failed:110
1614404156207,744,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1660 Passed:1550 Failed:110
1614404156711,502,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1661 Passed:1551 Failed:110
1614404157471,757,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1662 Passed:1552 Failed:110
1614404157906,434,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1663 Passed:1553 Failed:110
1614404157907,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404157907,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915507', 'issue_key': 'AABIS-943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1664 Passed:1553 Failed:111
1614404158785,372,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1665 Passed:1554 Failed:111


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915507', 'issue_key': 'AABIS-943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404158941,104,selenium_login:open_login_page,Success,True
1614404160258,1316,selenium_login:login_and_view_dashboard,Success,True
1614404160258,1421,selenium_login,Success,True
.test_0_selenium_a_login,Total:1666 Passed:1555 Failed:111
1614404160584,298,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1667 Passed:1556 Failed:111
1614404160863,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1668 Passed:1557 Failed:111
1614404161672,796,selenium_create_issue:open_quick_create,Success,True
1614404162835,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404162835,1163,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404162835,1960,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1669 Passed:1558 Failed:111
1614404163362,518,selenium_edit_issue:open_edit_issue_form,Success,True
1614404164385,528,selenium_edit_issue:save_edit_issue_form,Success,True
1614404164385,1541,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1670 Passed:1559 Failed:111
1614404164679,291,selenium_save_comment:open_comment_form,Success,True
1614404165622,775,selenium_save_comment:submit_form,Success,True
1614404165622,1235,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1671 Passed:1560 Failed:111
1614404166909,1285,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1672 Passed:1561 Failed:111
1614404167749,839,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1673 Passed:1562 Failed:111
1614404168561,810,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1674 Passed:1563 Failed:111
1614404169296,734,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1675 Passed:1564 Failed:111
1614404169530,232,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1676 Passed:1565 Failed:111
1614404170225,693,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1677 Passed:1566 Failed:111
1614404170635,408,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1678 Passed:1567 Failed:111
1614404170637,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404170637,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212446', 'issue_key': 'AAFAIA-6938', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1679 Passed:1567 Failed:112
1614404171487,366,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1680 Passed:1568 Failed:112


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212446', 'issue_key': 'AAFAIA-6938', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.66s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404171649,110,selenium_login:open_login_page,Success,True
1614404172213,563,selenium_login:login_and_view_dashboard,Success,True
1614404172213,673,selenium_login,Success,True
.test_0_selenium_a_login,Total:1681 Passed:1569 Failed:112
1614404172500,276,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1682 Passed:1570 Failed:112
1614404172810,309,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1683 Passed:1571 Failed:112
1614404173643,825,selenium_create_issue:open_quick_create,Success,True
1614404174877,625,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404174877,1233,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404174877,2058,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1684 Passed:1572 Failed:112
1614404175410,524,selenium_edit_issue:open_edit_issue_form,Success,True
1614404176464,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614404176464,1578,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1685 Passed:1573 Failed:112
1614404176851,386,selenium_save_comment:open_comment_form,Success,True
1614404178053,1040,selenium_save_comment:submit_form,Success,True
1614404178053,1587,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1686 Passed:1574 Failed:112
1614404179365,1311,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1687 Passed:1575 Failed:112
1614404180181,813,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1688 Passed:1576 Failed:112
1614404181077,895,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1689 Passed:1577 Failed:112
1614404181624,545,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1690 Passed:1578 Failed:112
1614404181962,336,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1691 Passed:1579 Failed:112
1614404182760,795,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1692 Passed:1580 Failed:112
1614404183110,349,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1693 Passed:1581 Failed:112
1614404183112,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404183112,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212451', 'issue_key': 'AAFAIA-6943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1694 Passed:1581 Failed:113
1614404183978,379,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1695 Passed:1582 Failed:113


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212451', 'issue_key': 'AAFAIA-6943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.45s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404184152,121,selenium_login:open_login_page,Success,True
1614404184626,473,selenium_login:login_and_view_dashboard,Success,True
1614404184626,595,selenium_login,Success,True
.test_0_selenium_a_login,Total:1696 Passed:1583 Failed:113
1614404184921,283,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1697 Passed:1584 Failed:113
1614404185190,267,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1698 Passed:1585 Failed:113
1614404186021,823,selenium_create_issue:open_quick_create,Success,True
1614404187234,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404187234,1213,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404187234,2036,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1699 Passed:1586 Failed:113
1614404187744,500,selenium_edit_issue:open_edit_issue_form,Success,True
1614404188849,571,selenium_edit_issue:save_edit_issue_form,Success,True
1614404188849,1605,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1700 Passed:1587 Failed:113
1614404189294,443,selenium_save_comment:open_comment_form,Success,True
1614404190150,749,selenium_save_comment:submit_form,Success,True
1614404190150,1299,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1701 Passed:1588 Failed:113
1614404191449,1296,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1702 Passed:1589 Failed:113
1614404192799,1348,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1703 Passed:1590 Failed:113
1614404193597,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1704 Passed:1591 Failed:113
1614404194419,821,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1705 Passed:1592 Failed:113
1614404194677,256,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1706 Passed:1593 Failed:113
1614404195388,709,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1707 Passed:1594 Failed:113
1614404195816,426,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1708 Passed:1595 Failed:113
1614404195817,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404195818,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207737', 'issue_key': 'AAFAIA-2229', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1709 Passed:1595 Failed:114
1614404196637,408,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1710 Passed:1596 Failed:114


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207737', 'issue_key': 'AAFAIA-2229', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.62s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404196797,104,selenium_login:open_login_page,Success,True
1614404197264,466,selenium_login:login_and_view_dashboard,Success,True
1614404197264,571,selenium_login,Success,True
.test_0_selenium_a_login,Total:1711 Passed:1597 Failed:114
1614404197580,300,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1712 Passed:1598 Failed:114
1614404197864,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1713 Passed:1599 Failed:114
1614404198532,658,selenium_create_issue:open_quick_create,Success,True
1614404199734,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404199734,1201,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404199734,1860,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1714 Passed:1600 Failed:114
1614404200387,645,selenium_edit_issue:open_edit_issue_form,Success,True
1614404201386,624,selenium_edit_issue:save_edit_issue_form,Success,True
1614404201386,1644,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1715 Passed:1601 Failed:114
1614404201776,388,selenium_save_comment:open_comment_form,Success,True
1614404202709,774,selenium_save_comment:submit_form,Success,True
1614404202709,1321,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1716 Passed:1602 Failed:114
1614404204033,1322,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1717 Passed:1603 Failed:114
1614404205394,1359,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1718 Passed:1604 Failed:114
1614404206183,787,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1719 Passed:1605 Failed:114
1614404206928,743,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1720 Passed:1606 Failed:114
1614404207336,407,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1721 Passed:1607 Failed:114
1614404208068,730,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1722 Passed:1608 Failed:114
1614404208506,436,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1723 Passed:1609 Failed:114
1614404208507,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404208507,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207031', 'issue_key': 'AAFAIA-1523', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1724 Passed:1609 Failed:115
1614404209360,371,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1725 Passed:1610 Failed:115


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207031', 'issue_key': 'AAFAIA-1523', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.68s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404209531,116,selenium_login:open_login_page,Success,True
1614404210853,1322,selenium_login:login_and_view_dashboard,Success,True
1614404210853,1438,selenium_login,Success,True
.test_0_selenium_a_login,Total:1726 Passed:1611 Failed:115
1614404211122,247,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1727 Passed:1612 Failed:115
1614404211392,268,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1728 Passed:1613 Failed:115
1614404212191,788,selenium_create_issue:open_quick_create,Success,True
1614404213434,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404213434,1242,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404213434,2030,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1729 Passed:1614 Failed:115
1614404213980,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614404215059,608,selenium_edit_issue:save_edit_issue_form,Success,True
1614404215059,1615,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1730 Passed:1615 Failed:115
1614404215480,419,selenium_save_comment:open_comment_form,Success,True
1614404216248,666,selenium_save_comment:submit_form,Success,True
1614404216248,1187,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1731 Passed:1616 Failed:115
1614404217531,1281,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1732 Passed:1617 Failed:115
1614404218324,792,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1733 Passed:1618 Failed:115
1614404219228,902,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1734 Passed:1619 Failed:115
1614404219937,708,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1735 Passed:1620 Failed:115
1614404220322,383,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1736 Passed:1621 Failed:115
1614404220920,596,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1737 Passed:1622 Failed:115
1614404221345,423,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1738 Passed:1623 Failed:115
1614404221346,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404221346,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211674', 'issue_key': 'AAFAIA-6166', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1739 Passed:1623 Failed:116
1614404222169,313,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1740 Passed:1624 Failed:116


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211674', 'issue_key': 'AAFAIA-6166', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.77s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404222334,111,selenium_login:open_login_page,Success,True
1614404222801,467,selenium_login:login_and_view_dashboard,Success,True
1614404222802,579,selenium_login,Success,True
.test_0_selenium_a_login,Total:1741 Passed:1625 Failed:116
1614404223136,318,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1742 Passed:1626 Failed:116
1614404223417,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1743 Passed:1627 Failed:116
1614404224215,790,selenium_create_issue:open_quick_create,Success,True
1614404225399,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404225399,1183,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404225400,1974,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1744 Passed:1628 Failed:116
1614404226093,684,selenium_edit_issue:open_edit_issue_form,Success,True
1614404227024,554,selenium_edit_issue:save_edit_issue_form,Success,True
1614404227024,1616,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1745 Passed:1629 Failed:116
1614404227425,398,selenium_save_comment:open_comment_form,Success,True
1614404228359,768,selenium_save_comment:submit_form,Success,True
1614404228359,1332,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1746 Passed:1630 Failed:116
1614404229795,1434,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1747 Passed:1631 Failed:116
1614404230596,800,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1748 Passed:1632 Failed:116
1614404231489,891,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1749 Passed:1633 Failed:116
1614404232092,601,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1750 Passed:1634 Failed:116
1614404232403,309,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1751 Passed:1635 Failed:116
1614404233005,599,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1752 Passed:1636 Failed:116
1614404233454,447,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1753 Passed:1637 Failed:116
1614404233455,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404233455,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915395', 'issue_key': 'AABIS-831', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1754 Passed:1637 Failed:117
1614404234232,367,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1755 Passed:1638 Failed:117


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915395', 'issue_key': 'AABIS-831', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.02s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404234390,105,selenium_login:open_login_page,Success,True
1614404234966,575,selenium_login:login_and_view_dashboard,Success,True
1614404234966,681,selenium_login,Success,True
.test_0_selenium_a_login,Total:1756 Passed:1639 Failed:117
1614404235259,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1757 Passed:1640 Failed:117
1614404235546,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1758 Passed:1641 Failed:117
1614404236299,743,selenium_create_issue:open_quick_create,Success,True
1614404237487,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404237488,1188,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404237488,1932,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1759 Passed:1642 Failed:117
1614404238007,509,selenium_edit_issue:open_edit_issue_form,Success,True
1614404239036,560,selenium_edit_issue:save_edit_issue_form,Success,True
1614404239036,1537,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1760 Passed:1643 Failed:117
1614404239361,323,selenium_save_comment:open_comment_form,Success,True
1614404240202,676,selenium_save_comment:submit_form,Success,True
1614404240202,1164,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1761 Passed:1644 Failed:117
1614404241479,1276,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1762 Passed:1645 Failed:117
1614404242274,792,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1763 Passed:1646 Failed:117
1614404243069,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1764 Passed:1647 Failed:117
1614404243938,867,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1765 Passed:1648 Failed:117
1614404244354,414,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1766 Passed:1649 Failed:117
1614404244941,585,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1767 Passed:1650 Failed:117
1614404245359,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1768 Passed:1651 Failed:117
1614404245360,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404245360,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '2010934', 'issue_key': 'AABIS-994', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1769 Passed:1651 Failed:118
1614404246198,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1770 Passed:1652 Failed:118


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '2010934', 'issue_key': 'AABIS-994', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.92s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404246381,126,selenium_login:open_login_page,Success,True
1614404246875,493,selenium_login:login_and_view_dashboard,Success,True
1614404246875,620,selenium_login,Success,True
.test_0_selenium_a_login,Total:1771 Passed:1653 Failed:118
1614404247169,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1772 Passed:1654 Failed:118
1614404247445,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1773 Passed:1655 Failed:118
1614404248225,770,selenium_create_issue:open_quick_create,Success,True
1614404249432,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404249432,1207,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404249432,1978,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1774 Passed:1656 Failed:118
1614404250062,621,selenium_edit_issue:open_edit_issue_form,Success,True
1614404250981,540,selenium_edit_issue:save_edit_issue_form,Success,True
1614404250981,1540,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1775 Passed:1657 Failed:118
1614404251371,389,selenium_save_comment:open_comment_form,Success,True
1614404252375,847,selenium_save_comment:submit_form,Success,True
1614404252375,1392,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1776 Passed:1658 Failed:118
1614404253809,1432,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1777 Passed:1659 Failed:118
1614404255167,1356,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1778 Passed:1660 Failed:118
1614404255999,830,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1779 Passed:1661 Failed:118
1614404256536,536,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1780 Passed:1662 Failed:118
1614404256853,314,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1781 Passed:1663 Failed:118
1614404257487,632,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1782 Passed:1664 Failed:118
1614404257908,419,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1783 Passed:1665 Failed:118
1614404257910,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404257910,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210451', 'issue_key': 'AAFAIA-4943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1784 Passed:1665 Failed:119
1614404258782,337,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1785 Passed:1666 Failed:119


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210451', 'issue_key': 'AAFAIA-4943', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.54s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404258940,106,selenium_login:open_login_page,Success,True
1614404260254,1313,selenium_login:login_and_view_dashboard,Success,True
1614404260254,1420,selenium_login,Success,True
.test_0_selenium_a_login,Total:1786 Passed:1667 Failed:119
1614404260585,303,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1787 Passed:1668 Failed:119
1614404260863,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1788 Passed:1669 Failed:119
1614404261650,777,selenium_create_issue:open_quick_create,Success,True
1614404262843,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404262843,1192,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404262843,1970,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1789 Passed:1670 Failed:119
1614404263369,517,selenium_edit_issue:open_edit_issue_form,Success,True
1614404264379,539,selenium_edit_issue:save_edit_issue_form,Success,True
1614404264379,1527,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1790 Passed:1671 Failed:119
1614404264760,379,selenium_save_comment:open_comment_form,Success,True
1614404265771,839,selenium_save_comment:submit_form,Success,True
1614404265771,1390,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1791 Passed:1672 Failed:119
1614404267127,1355,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1792 Passed:1673 Failed:119
1614404267940,811,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1793 Passed:1674 Failed:119
1614404268742,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1794 Passed:1675 Failed:119
1614404269542,798,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1795 Passed:1676 Failed:119
1614404269976,432,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1796 Passed:1677 Failed:119
1614404270620,641,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1797 Passed:1678 Failed:119
1614404271053,432,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1798 Passed:1679 Failed:119
1614404271055,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404271055,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914619', 'issue_key': 'AABIS-55', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1799 Passed:1679 Failed:120
1614404271881,414,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1800 Passed:1680 Failed:120


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914619', 'issue_key': 'AABIS-55', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.06s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404272039,106,selenium_login:open_login_page,Success,True
1614404273293,1253,selenium_login:login_and_view_dashboard,Success,True
1614404273293,1361,selenium_login,Success,True
.test_0_selenium_a_login,Total:1801 Passed:1681 Failed:120
1614404273626,305,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1802 Passed:1682 Failed:120
1614404273905,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1803 Passed:1683 Failed:120
1614404274709,793,selenium_create_issue:open_quick_create,Success,True
1614404275900,635,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404275901,1191,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404275901,1985,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1804 Passed:1684 Failed:120
1614404276442,532,selenium_edit_issue:open_edit_issue_form,Success,True
1614404277494,571,selenium_edit_issue:save_edit_issue_form,Success,True
1614404277494,1585,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1805 Passed:1685 Failed:120
1614404277877,381,selenium_save_comment:open_comment_form,Success,True
1614404278982,945,selenium_save_comment:submit_form,Success,True
1614404278983,1487,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1806 Passed:1686 Failed:120
1614404280358,1374,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1807 Passed:1687 Failed:120
1614404281183,823,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1808 Passed:1688 Failed:120
1614404282075,890,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1809 Passed:1689 Failed:120
1614404282554,476,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1810 Passed:1690 Failed:120
1614404282828,272,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1811 Passed:1691 Failed:120
1614404283462,632,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1812 Passed:1692 Failed:120
1614404283967,503,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1813 Passed:1693 Failed:120
1614404283969,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404283969,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207547', 'issue_key': 'AAFAIA-2039', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1814 Passed:1693 Failed:121
1614404284800,327,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1815 Passed:1694 Failed:121


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207547', 'issue_key': 'AAFAIA-2039', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.88s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404284962,110,selenium_login:open_login_page,Success,True
1614404285442,479,selenium_login:login_and_view_dashboard,Success,True
1614404285442,590,selenium_login,Success,True
.test_0_selenium_a_login,Total:1816 Passed:1695 Failed:121
1614404285785,331,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1817 Passed:1696 Failed:121
1614404286066,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1818 Passed:1697 Failed:121
1614404286793,718,selenium_create_issue:open_quick_create,Success,True
1614404288041,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404288041,1247,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404288041,1966,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1819 Passed:1698 Failed:121
1614404288760,708,selenium_edit_issue:open_edit_issue_form,Success,True
1614404289631,560,selenium_edit_issue:save_edit_issue_form,Success,True
1614404289631,1579,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1820 Passed:1699 Failed:121
1614404290037,404,selenium_save_comment:open_comment_form,Success,True
1614404290949,753,selenium_save_comment:submit_form,Success,True
1614404290949,1315,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1821 Passed:1700 Failed:121
1614404292276,1325,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1822 Passed:1701 Failed:121
1614404293671,1393,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1823 Passed:1702 Failed:121
1614404294496,823,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1824 Passed:1703 Failed:121
1614404295387,889,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1825 Passed:1704 Failed:121
1614404295866,477,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1826 Passed:1705 Failed:121
1614404296553,684,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1827 Passed:1706 Failed:121
1614404296989,434,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1828 Passed:1707 Failed:121
1614404296990,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404296990,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205621', 'issue_key': 'AAFAIA-113', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1829 Passed:1707 Failed:122
1614404297851,303,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1830 Passed:1708 Failed:122


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205621', 'issue_key': 'AAFAIA-113', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.01s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404298010,107,selenium_login:open_login_page,Success,True
1614404299203,1192,selenium_login:login_and_view_dashboard,Success,True
1614404299203,1300,selenium_login,Success,True
.test_0_selenium_a_login,Total:1831 Passed:1709 Failed:122
1614404299580,322,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1832 Passed:1710 Failed:122
1614404299861,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1833 Passed:1711 Failed:122
1614404300671,800,selenium_create_issue:open_quick_create,Success,True
1614404301864,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404301864,1193,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404301864,1994,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1834 Passed:1712 Failed:122
1614404302436,563,selenium_edit_issue:open_edit_issue_form,Success,True
1614404303477,553,selenium_edit_issue:save_edit_issue_form,Success,True
1614404303477,1604,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1835 Passed:1713 Failed:122
1614404303873,394,selenium_save_comment:open_comment_form,Success,True
1614404304743,715,selenium_save_comment:submit_form,Success,True
1614404304743,1264,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1836 Passed:1714 Failed:122
1614404306243,1497,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1837 Passed:1715 Failed:122
1614404307650,1405,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1838 Passed:1716 Failed:122
1614404308451,799,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1839 Passed:1717 Failed:122
1614404309144,692,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1840 Passed:1718 Failed:122
1614404309493,347,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1841 Passed:1719 Failed:122
1614404310131,635,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1842 Passed:1720 Failed:122
1614404310540,407,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1843 Passed:1721 Failed:122
1614404310541,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404310541,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207125', 'issue_key': 'AAFAIA-1617', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1844 Passed:1721 Failed:123
1614404311308,418,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1845 Passed:1722 Failed:123


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207125', 'issue_key': 'AAFAIA-1617', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.42s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404311468,108,selenium_login:open_login_page,Success,True
1614404312681,1213,selenium_login:login_and_view_dashboard,Success,True
1614404312681,1321,selenium_login,Success,True
.test_0_selenium_a_login,Total:1846 Passed:1723 Failed:123
1614404313014,304,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1847 Passed:1724 Failed:123
1614404313296,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1848 Passed:1725 Failed:123
1614404313949,644,selenium_create_issue:open_quick_create,Success,True
1614404315927,1977,selenium_create_issue:fill_and_submit_issue_form,Failed measure: selenium_create_issue:fill_and_submit_issue_form - JavascriptException,False
1614404315927,2622,selenium_create_issue,Failed measure: selenium_create_issue - Exception,False
FAction: test_1_selenium_create_issue, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205968', 'issue_key': 'AAFAIA-460', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_create_issue(jira_webdriver, jira_datasets, jira_screen_shots):
>       modules.create_issue(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
selenium_ui/jira/modules.py:115: in create_issue
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_create_issue - Exception', Exception('Failed measure: selenium_create_issue:fill_and_submit_issue_form - JavascriptException', JavascriptException("javascript error: Failed to execute 'elementsFromPoint' on 'Document': The provided double value is non-finite.\n  (Session info: headless chrome=88.0.4324.96)", None, None)))

selenium_ui/conftest.py:137: Exception

test_1_selenium_create_issue,Total:1849 Passed:1725 Failed:124
1614404317052,661,selenium_edit_issue:open_edit_issue_form,Success,True
1614404318002,579,selenium_edit_issue:save_edit_issue_form,Success,True
1614404318003,1612,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1850 Passed:1726 Failed:124
1614404318427,423,selenium_save_comment:open_comment_form,Success,True
1614404319382,781,selenium_save_comment:submit_form,Success,True
1614404319382,1378,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1851 Passed:1727 Failed:124
1614404320696,1312,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1852 Passed:1728 Failed:124
1614404322075,1378,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1853 Passed:1729 Failed:124
1614404322884,807,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1854 Passed:1730 Failed:124
1614404323706,820,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1855 Passed:1731 Failed:124
1614404324203,494,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1856 Passed:1732 Failed:124
1614404324792,587,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1857 Passed:1733 Failed:124
1614404325290,496,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1858 Passed:1734 Failed:124
1614404325292,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404325292,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205968', 'issue_key': 'AAFAIA-460', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1859 Passed:1734 Failed:125
1614404326089,441,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1860 Passed:1735 Failed:125


=================================== FAILURES ===================================
_________________________ test_1_selenium_create_issue _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205968', 'issue_key': 'AAFAIA-460', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_create_issue(jira_webdriver, jira_datasets, jira_screen_shots):
>       modules.create_issue(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
selenium_ui/jira/modules.py:115: in create_issue
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_create_issue - Exception', Exception('Failed measure: selenium_create_issue:fill_and_submit_issue_form - JavascriptException', JavascriptException("javascript error: Failed to execute 'elementsFromPoint' on 'Document': The provided double value is non-finite.\n  (Session info: headless chrome=88.0.4324.96)", None, None)))

selenium_ui/conftest.py:137: Exception
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205968', 'issue_key': 'AAFAIA-460', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_create_issue - Exception: ('Fa...
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 2 failed, 13 passed, 1 warning in 14.74s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404326276,123,selenium_login:open_login_page,Success,True
1614404326793,516,selenium_login:login_and_view_dashboard,Success,True
1614404326793,640,selenium_login,Success,True
.test_0_selenium_a_login,Total:1861 Passed:1736 Failed:125
1614404327067,263,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1862 Passed:1737 Failed:125
1614404327340,271,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1863 Passed:1738 Failed:125
1614404328135,786,selenium_create_issue:open_quick_create,Success,True
1614404329346,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404329346,1210,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404329346,1997,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1864 Passed:1739 Failed:125
1614404329992,638,selenium_edit_issue:open_edit_issue_form,Success,True
1614404330985,616,selenium_edit_issue:save_edit_issue_form,Success,True
1614404330985,1631,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1865 Passed:1740 Failed:125
1614404331453,465,selenium_save_comment:open_comment_form,Success,True
1614404332319,765,selenium_save_comment:submit_form,Success,True
1614404332320,1332,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1866 Passed:1741 Failed:125
1614404333626,1304,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1867 Passed:1742 Failed:125
1614404334979,1351,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1868 Passed:1743 Failed:125
1614404335804,823,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1869 Passed:1744 Failed:125
1614404336362,556,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1870 Passed:1745 Failed:125
1614404336687,324,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1871 Passed:1746 Failed:125
1614404337286,597,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1872 Passed:1747 Failed:125
1614404337834,546,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1873 Passed:1748 Failed:125
1614404337836,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404337836,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208981', 'issue_key': 'AAFAIA-3473', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1874 Passed:1748 Failed:126
1614404338619,351,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1875 Passed:1749 Failed:126


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208981', 'issue_key': 'AAFAIA-3473', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.48s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404338806,128,selenium_login:open_login_page,Success,True
1614404339338,532,selenium_login:login_and_view_dashboard,Success,True
1614404339338,661,selenium_login,Success,True
.test_0_selenium_a_login,Total:1876 Passed:1750 Failed:126
1614404339622,272,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1877 Passed:1751 Failed:126
1614404339907,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1878 Passed:1752 Failed:126
1614404340717,801,selenium_create_issue:open_quick_create,Success,True
1614404341948,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404341948,1231,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404341949,2033,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1879 Passed:1753 Failed:126
1614404342588,630,selenium_edit_issue:open_edit_issue_form,Success,True
1614404343568,612,selenium_edit_issue:save_edit_issue_form,Success,True
1614404343568,1610,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1880 Passed:1754 Failed:126
1614404343936,366,selenium_save_comment:open_comment_form,Success,True
1614404344963,861,selenium_save_comment:submit_form,Success,True
1614404344963,1393,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1881 Passed:1755 Failed:126
1614404346377,1412,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1882 Passed:1756 Failed:126
1614404347738,1359,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1883 Passed:1757 Failed:126
1614404348543,803,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1884 Passed:1758 Failed:126
1614404349237,692,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1885 Passed:1759 Failed:126
1614404349670,431,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1886 Passed:1760 Failed:126
1614404350373,701,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1887 Passed:1761 Failed:126
1614404350888,513,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1888 Passed:1762 Failed:126
1614404350889,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404350889,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211223', 'issue_key': 'AAFAIA-5715', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1889 Passed:1762 Failed:127
1614404351915,397,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1890 Passed:1763 Failed:127


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211223', 'issue_key': 'AAFAIA-5715', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.25s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404352084,114,selenium_login:open_login_page,Success,True
1614404352551,466,selenium_login:login_and_view_dashboard,Success,True
1614404352551,581,selenium_login,Success,True
.test_0_selenium_a_login,Total:1891 Passed:1764 Failed:127
1614404352905,337,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1892 Passed:1765 Failed:127
1614404353192,286,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1893 Passed:1766 Failed:127
1614404353978,777,selenium_create_issue:open_quick_create,Success,True
1614404355195,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404355195,1216,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404355195,1994,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1894 Passed:1767 Failed:127
1614404355737,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614404356770,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614404356770,1566,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1895 Passed:1768 Failed:127
1614404357150,378,selenium_save_comment:open_comment_form,Success,True
1614404358210,899,selenium_save_comment:submit_form,Success,True
1614404358210,1438,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1896 Passed:1769 Failed:127
1614404359580,1368,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1897 Passed:1770 Failed:127
1614404360375,793,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1898 Passed:1771 Failed:127
1614404361183,806,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1899 Passed:1772 Failed:127
1614404361640,456,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1900 Passed:1773 Failed:127
1614404361899,256,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1901 Passed:1774 Failed:127
1614404362549,647,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1902 Passed:1775 Failed:127
1614404363015,465,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1903 Passed:1776 Failed:127
1614404363016,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404363016,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205517', 'issue_key': 'AAFAIA-9', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1904 Passed:1776 Failed:128
1614404363777,365,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1905 Passed:1777 Failed:128


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205517', 'issue_key': 'AAFAIA-9', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.82s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404363934,104,selenium_login:open_login_page,Success,True
1614404365169,1234,selenium_login:login_and_view_dashboard,Success,True
1614404365170,1339,selenium_login,Success,True
.test_0_selenium_a_login,Total:1906 Passed:1778 Failed:128
1614404365540,330,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1907 Passed:1779 Failed:128
1614404365811,269,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1908 Passed:1780 Failed:128
1614404366585,764,selenium_create_issue:open_quick_create,Success,True
1614404367830,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404367830,1245,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404367830,2010,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1909 Passed:1781 Failed:128
1614404368367,527,selenium_edit_issue:open_edit_issue_form,Success,True
1614404369443,589,selenium_edit_issue:save_edit_issue_form,Success,True
1614404369443,1603,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1910 Passed:1782 Failed:128
1614404369821,376,selenium_save_comment:open_comment_form,Success,True
1614404370712,730,selenium_save_comment:submit_form,Success,True
1614404370712,1267,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1911 Passed:1783 Failed:128
1614404372331,1617,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1912 Passed:1784 Failed:128
1614404373128,795,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1913 Passed:1785 Failed:128
1614404373922,792,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1914 Passed:1786 Failed:128
1614404374726,802,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1915 Passed:1787 Failed:128
1614404374974,247,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1916 Passed:1788 Failed:128
1614404375637,661,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1917 Passed:1789 Failed:128
1614404376031,391,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1918 Passed:1790 Failed:128
1614404376032,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404376032,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209610', 'issue_key': 'AAFAIA-4102', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1919 Passed:1790 Failed:129
1614404376797,418,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1920 Passed:1791 Failed:129


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209610', 'issue_key': 'AAFAIA-4102', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.98s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404376960,111,selenium_login:open_login_page,Success,True
1614404377408,448,selenium_login:login_and_view_dashboard,Success,True
1614404377408,560,selenium_login,Success,True
.test_0_selenium_a_login,Total:1921 Passed:1792 Failed:129
1614404377731,306,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1922 Passed:1793 Failed:129
1614404378007,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1923 Passed:1794 Failed:129
1614404378834,818,selenium_create_issue:open_quick_create,Success,True
1614404380027,625,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404380027,1193,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404380027,2011,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1924 Passed:1795 Failed:129
1614404380657,621,selenium_edit_issue:open_edit_issue_form,Success,True
1614404381584,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614404381585,1548,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1925 Passed:1796 Failed:129
1614404381991,405,selenium_save_comment:open_comment_form,Success,True
1614404382914,756,selenium_save_comment:submit_form,Success,True
1614404382914,1328,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1926 Passed:1797 Failed:129
1614404384195,1278,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1927 Passed:1798 Failed:129
1614404385558,1361,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1928 Passed:1799 Failed:129
1614404386347,787,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1929 Passed:1800 Failed:129
1614404387256,907,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1930 Passed:1801 Failed:129
1614404387730,472,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1931 Passed:1802 Failed:129
1614404388428,697,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1932 Passed:1803 Failed:129
1614404388858,427,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1933 Passed:1804 Failed:129
1614404388860,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404388860,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209395', 'issue_key': 'AAFAIA-3887', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1934 Passed:1804 Failed:130
1614404389597,352,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1935 Passed:1805 Failed:130


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209395', 'issue_key': 'AAFAIA-3887', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.76s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404389771,119,selenium_login:open_login_page,Success,True
1614404390956,1184,selenium_login:login_and_view_dashboard,Success,True
1614404390956,1304,selenium_login,Success,True
.test_0_selenium_a_login,Total:1936 Passed:1806 Failed:130
1614404391285,301,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1937 Passed:1807 Failed:130
1614404391597,309,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1938 Passed:1808 Failed:130
1614404392383,775,selenium_create_issue:open_quick_create,Success,True
1614404393542,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404393542,1158,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404393542,1934,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1939 Passed:1809 Failed:130
1614404394193,642,selenium_edit_issue:open_edit_issue_form,Success,True
1614404395189,619,selenium_edit_issue:save_edit_issue_form,Success,True
1614404395189,1638,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1940 Passed:1810 Failed:130
1614404395557,366,selenium_save_comment:open_comment_form,Success,True
1614404396477,762,selenium_save_comment:submit_form,Success,True
1614404396478,1287,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1941 Passed:1811 Failed:130
1614404397738,1259,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1942 Passed:1812 Failed:130
1614404399155,1415,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1943 Passed:1813 Failed:130
1614404399959,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1944 Passed:1814 Failed:130
1614404400347,387,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1945 Passed:1815 Failed:130
1614404400616,266,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1946 Passed:1816 Failed:130
1614404401258,640,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1947 Passed:1817 Failed:130
1614404401818,558,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1948 Passed:1818 Failed:130
1614404401820,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404401820,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915459', 'issue_key': 'AABIS-895', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1949 Passed:1818 Failed:131
1614404402623,409,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1950 Passed:1819 Failed:131


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915459', 'issue_key': 'AABIS-895', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.98s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404402782,107,selenium_login:open_login_page,Success,True
1614404404023,1240,selenium_login:login_and_view_dashboard,Success,True
1614404404023,1348,selenium_login,Success,True
.test_0_selenium_a_login,Total:1951 Passed:1820 Failed:131
1614404404329,278,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1952 Passed:1821 Failed:131
1614404404631,300,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1953 Passed:1822 Failed:131
1614404405444,804,selenium_create_issue:open_quick_create,Success,True
1614404406608,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404406608,1163,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404406608,1967,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1954 Passed:1823 Failed:131
1614404407150,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614404408193,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614404408193,1576,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1955 Passed:1824 Failed:131
1614404408552,357,selenium_save_comment:open_comment_form,Success,True
1614404409450,704,selenium_save_comment:submit_form,Success,True
1614404409450,1255,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1956 Passed:1825 Failed:131
1614404410723,1271,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1957 Passed:1826 Failed:131
1614404412129,1404,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1958 Passed:1827 Failed:131
1614404412930,799,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1959 Passed:1828 Failed:131
1614404413497,565,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1960 Passed:1829 Failed:131
1614404413801,303,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1961 Passed:1830 Failed:131
1614404414482,678,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1962 Passed:1831 Failed:131
1614404415069,586,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1963 Passed:1832 Failed:131
1614404415071,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404415071,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208204', 'issue_key': 'AAFAIA-2696', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1964 Passed:1832 Failed:132
1614404415879,319,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1965 Passed:1833 Failed:132


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208204', 'issue_key': 'AAFAIA-2696', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.21s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404416038,105,selenium_login:open_login_page,Success,True
1614404416513,475,selenium_login:login_and_view_dashboard,Success,True
1614404416513,580,selenium_login,Success,True
.test_0_selenium_a_login,Total:1966 Passed:1834 Failed:132
1614404416805,281,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1967 Passed:1835 Failed:132
1614404417073,266,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1968 Passed:1836 Failed:132
1614404417885,803,selenium_create_issue:open_quick_create,Success,True
1614404419051,629,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404419052,1166,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404419052,1970,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1969 Passed:1837 Failed:132
1614404419790,729,selenium_edit_issue:open_edit_issue_form,Success,True
1614404420637,558,selenium_edit_issue:save_edit_issue_form,Success,True
1614404420637,1575,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1970 Passed:1838 Failed:132
1614404421052,412,selenium_save_comment:open_comment_form,Success,True
1614404422008,789,selenium_save_comment:submit_form,Success,True
1614404422008,1368,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1971 Passed:1839 Failed:132
1614404423321,1312,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1972 Passed:1840 Failed:132
1614404424771,1448,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1973 Passed:1841 Failed:132
1614404425619,845,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1974 Passed:1842 Failed:132
1614404426483,862,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1975 Passed:1843 Failed:132
1614404426909,424,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1976 Passed:1844 Failed:132
1614404427569,659,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1977 Passed:1845 Failed:132
1614404428032,460,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1978 Passed:1846 Failed:132
1614404428034,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404428034,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915274', 'issue_key': 'AABIS-710', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1979 Passed:1846 Failed:133
1614404428817,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1980 Passed:1847 Failed:133


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915274', 'issue_key': 'AABIS-710', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404429002,120,selenium_login:open_login_page,Success,True
1614404429503,500,selenium_login:login_and_view_dashboard,Success,True
1614404429503,621,selenium_login,Success,True
.test_0_selenium_a_login,Total:1981 Passed:1848 Failed:133
1614404429806,292,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1982 Passed:1849 Failed:133
1614404430080,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1983 Passed:1850 Failed:133
1614404430872,784,selenium_create_issue:open_quick_create,Success,True
1614404432044,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404432044,1171,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404432044,1956,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1984 Passed:1851 Failed:133
1614404432677,624,selenium_edit_issue:open_edit_issue_form,Success,True
1614404433667,593,selenium_edit_issue:save_edit_issue_form,Success,True
1614404433668,1615,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:1985 Passed:1852 Failed:133
1614404434062,392,selenium_save_comment:open_comment_form,Success,True
1614404435045,822,selenium_save_comment:submit_form,Success,True
1614404435045,1375,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:1986 Passed:1853 Failed:133
1614404436423,1376,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:1987 Passed:1854 Failed:133
1614404437254,829,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:1988 Passed:1855 Failed:133
1614404437711,454,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:1989 Passed:1856 Failed:133
1614404438491,779,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:1990 Passed:1857 Failed:133
1614404438915,422,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:1991 Passed:1858 Failed:133
1614404439600,683,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:1992 Passed:1859 Failed:133
1614404440102,501,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:1993 Passed:1860 Failed:133
1614404440104,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404440104,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205759', 'issue_key': 'AAFAIA-251', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:1994 Passed:1860 Failed:134
1614404440909,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:1995 Passed:1861 Failed:134


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205759', 'issue_key': 'AAFAIA-251', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.04s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404441084,120,selenium_login:open_login_page,Success,True
1614404441575,490,selenium_login:login_and_view_dashboard,Success,True
1614404441575,611,selenium_login,Success,True
.test_0_selenium_a_login,Total:1996 Passed:1862 Failed:134
1614404441856,270,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:1997 Passed:1863 Failed:134
1614404442138,280,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:1998 Passed:1864 Failed:134
1614404442971,824,selenium_create_issue:open_quick_create,Success,True
1614404444156,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404444156,1184,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404444156,2010,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:1999 Passed:1865 Failed:134
1614404444816,650,selenium_edit_issue:open_edit_issue_form,Success,True
1614404445809,605,selenium_edit_issue:save_edit_issue_form,Success,True
1614404445809,1643,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2000 Passed:1866 Failed:134
1614404446174,363,selenium_save_comment:open_comment_form,Success,True
1614404447083,749,selenium_save_comment:submit_form,Success,True
1614404447083,1273,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2001 Passed:1867 Failed:134
1614404448446,1361,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2002 Passed:1868 Failed:134
1614404449435,987,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2003 Passed:1869 Failed:134
1614404450230,792,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2004 Passed:1870 Failed:134
1614404451019,788,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2005 Passed:1871 Failed:134
1614404451391,369,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2006 Passed:1872 Failed:134
1614404452058,665,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2007 Passed:1873 Failed:134
1614404452471,410,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2008 Passed:1874 Failed:134
1614404452472,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404452472,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206850', 'issue_key': 'AAFAIA-1342', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2009 Passed:1874 Failed:135
1614404453377,359,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2010 Passed:1875 Failed:135


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206850', 'issue_key': 'AAFAIA-1342', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.42s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404453590,104,selenium_login:open_login_page,Success,True
1614404454073,483,selenium_login:login_and_view_dashboard,Success,True
1614404454073,588,selenium_login,Success,True
.test_0_selenium_a_login,Total:2011 Passed:1876 Failed:135
1614404454372,283,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2012 Passed:1877 Failed:135
1614404454650,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2013 Passed:1878 Failed:135
1614404455446,788,selenium_create_issue:open_quick_create,Success,True
1614404456689,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404456690,1243,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404456690,2031,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2014 Passed:1879 Failed:135
1614404457367,668,selenium_edit_issue:open_edit_issue_form,Success,True
1614404458379,603,selenium_edit_issue:save_edit_issue_form,Success,True
1614404458379,1681,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2015 Passed:1880 Failed:135
1614404458710,329,selenium_save_comment:open_comment_form,Success,True
1614404459644,736,selenium_save_comment:submit_form,Success,True
1614404459644,1263,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2016 Passed:1881 Failed:135
1614404460898,1252,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2017 Passed:1882 Failed:135
1614404462308,1408,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2018 Passed:1883 Failed:135
1614404463096,787,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2019 Passed:1884 Failed:135
1614404463869,771,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2020 Passed:1885 Failed:135
1614404464301,430,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2021 Passed:1886 Failed:135
1614404464895,592,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2022 Passed:1887 Failed:135
1614404465335,438,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2023 Passed:1888 Failed:135
1614404465336,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404465336,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209313', 'issue_key': 'AAFAIA-3805', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2024 Passed:1888 Failed:136
1614404466215,445,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2025 Passed:1889 Failed:136


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209313', 'issue_key': 'AAFAIA-3805', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.74s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404466387,120,selenium_login:open_login_page,Success,True
1614404466867,479,selenium_login:login_and_view_dashboard,Success,True
1614404466867,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:2026 Passed:1890 Failed:136
1614404467227,345,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2027 Passed:1891 Failed:136
1614404467521,292,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2028 Passed:1892 Failed:136
1614404468336,805,selenium_create_issue:open_quick_create,Success,True
1614404469509,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404469509,1173,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404469509,1978,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2029 Passed:1893 Failed:136
1614404470238,720,selenium_edit_issue:open_edit_issue_form,Success,True
1614404471183,617,selenium_edit_issue:save_edit_issue_form,Success,True
1614404471183,1665,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2030 Passed:1894 Failed:136
1614404471574,389,selenium_save_comment:open_comment_form,Success,True
1614404472435,699,selenium_save_comment:submit_form,Success,True
1614404472435,1250,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2031 Passed:1895 Failed:136
1614404473717,1280,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2032 Passed:1896 Failed:136
1614404475105,1386,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2033 Passed:1897 Failed:136
1614404475911,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2034 Passed:1898 Failed:136
1614404477045,1131,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2035 Passed:1899 Failed:136
1614404477539,492,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2036 Passed:1900 Failed:136
1614404478199,657,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2037 Passed:1901 Failed:136
1614404478648,447,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2038 Passed:1902 Failed:136
1614404478649,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404478649,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211427', 'issue_key': 'AAFAIA-5919', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2039 Passed:1902 Failed:137
1614404479488,386,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2040 Passed:1903 Failed:137


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211427', 'issue_key': 'AAFAIA-5919', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.23s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404479651,108,selenium_login:open_login_page,Success,True
1614404480244,592,selenium_login:login_and_view_dashboard,Success,True
1614404480244,701,selenium_login,Success,True
.test_0_selenium_a_login,Total:2041 Passed:1904 Failed:137
1614404480535,279,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2042 Passed:1905 Failed:137
1614404480812,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2043 Passed:1906 Failed:137
1614404481488,667,selenium_create_issue:open_quick_create,Success,True
1614404482722,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404482722,1233,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404482722,1901,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2044 Passed:1907 Failed:137
1614404483246,516,selenium_edit_issue:open_edit_issue_form,Success,True
1614404484296,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614404484296,1566,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2045 Passed:1908 Failed:137
1614404484754,456,selenium_save_comment:open_comment_form,Success,True
1614404485627,764,selenium_save_comment:submit_form,Success,True
1614404485627,1329,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2046 Passed:1909 Failed:137
1614404486922,1294,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2047 Passed:1910 Failed:137
1614404488304,1380,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2048 Passed:1911 Failed:137
1614404489102,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2049 Passed:1912 Failed:137
1614404489476,372,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2050 Passed:1913 Failed:137
1614404489725,248,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2051 Passed:1914 Failed:137
1614404490418,691,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2052 Passed:1915 Failed:137
1614404490914,494,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2053 Passed:1916 Failed:137
1614404490915,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404490915,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207107', 'issue_key': 'AAFAIA-1599', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2054 Passed:1916 Failed:138
1614404491634,370,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2055 Passed:1917 Failed:138


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207107', 'issue_key': 'AAFAIA-1599', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.11s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404491797,104,selenium_login:open_login_page,Success,True
1614404492975,1177,selenium_login:login_and_view_dashboard,Success,True
1614404492975,1282,selenium_login,Success,True
.test_0_selenium_a_login,Total:2056 Passed:1918 Failed:138
1614404493331,320,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2057 Passed:1919 Failed:138
1614404493618,285,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2058 Passed:1920 Failed:138
1614404494292,664,selenium_create_issue:open_quick_create,Success,True
1614404495492,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404495492,1199,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404495492,1864,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2059 Passed:1921 Failed:138
1614404496015,514,selenium_edit_issue:open_edit_issue_form,Success,True
1614404497050,543,selenium_edit_issue:save_edit_issue_form,Success,True
1614404497051,1550,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2060 Passed:1922 Failed:138
1614404497362,309,selenium_save_comment:open_comment_form,Success,True
1614404498268,746,selenium_save_comment:submit_form,Success,True
1614404498268,1215,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2061 Passed:1923 Failed:138
1614404499579,1310,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2062 Passed:1924 Failed:138
1614404500393,812,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2063 Passed:1925 Failed:138
1614404501200,806,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2064 Passed:1926 Failed:138
1614404501656,453,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2065 Passed:1927 Failed:138
1614404501924,266,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2066 Passed:1928 Failed:138
1614404502586,660,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2067 Passed:1929 Failed:138
1614404503098,510,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2068 Passed:1930 Failed:138
1614404503099,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404503099,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205604', 'issue_key': 'AAFAIA-96', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2069 Passed:1930 Failed:139
1614404503938,366,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2070 Passed:1931 Failed:139


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205604', 'issue_key': 'AAFAIA-96', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.26s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404504100,108,selenium_login:open_login_page,Success,True
1614404505314,1213,selenium_login:login_and_view_dashboard,Success,True
1614404505314,1322,selenium_login,Success,True
.test_0_selenium_a_login,Total:2071 Passed:1932 Failed:139
1614404505649,308,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2072 Passed:1933 Failed:139
1614404505930,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2073 Passed:1934 Failed:139
1614404506739,799,selenium_create_issue:open_quick_create,Success,True
1614404507969,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404507970,1230,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404507970,2030,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2074 Passed:1935 Failed:139
1614404508640,661,selenium_edit_issue:open_edit_issue_form,Success,True
1614404509552,544,selenium_edit_issue:save_edit_issue_form,Success,True
1614404509552,1573,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2075 Passed:1936 Failed:139
1614404509935,381,selenium_save_comment:open_comment_form,Success,True
1614404511027,925,selenium_save_comment:submit_form,Success,True
1614404511027,1473,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2076 Passed:1937 Failed:139
1614404512425,1396,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2077 Passed:1938 Failed:139
1614404513408,981,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2078 Passed:1939 Failed:139
1614404513858,448,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2079 Passed:1940 Failed:139
1614404514622,762,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2080 Passed:1941 Failed:139
1614404515059,436,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2081 Passed:1942 Failed:139
1614404515743,682,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2082 Passed:1943 Failed:139
1614404516239,494,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2083 Passed:1944 Failed:139
1614404516240,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404516240,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207380', 'issue_key': 'AAFAIA-1872', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2084 Passed:1944 Failed:140
1614404517043,335,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2085 Passed:1945 Failed:140


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207380', 'issue_key': 'AAFAIA-1872', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.06s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404517206,108,selenium_login:open_login_page,Success,True
1614404517657,450,selenium_login:login_and_view_dashboard,Success,True
1614404517657,559,selenium_login,Success,True
.test_0_selenium_a_login,Total:2086 Passed:1946 Failed:140
1614404517989,317,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2087 Passed:1947 Failed:140
1614404518277,286,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2088 Passed:1948 Failed:140
1614404519085,799,selenium_create_issue:open_quick_create,Success,True
1614404520290,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404520290,1204,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404520290,2004,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2089 Passed:1949 Failed:140
1614404520923,624,selenium_edit_issue:open_edit_issue_form,Success,True
1614404521922,605,selenium_edit_issue:save_edit_issue_form,Success,True
1614404521922,1623,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2090 Passed:1950 Failed:140
1614404522319,395,selenium_save_comment:open_comment_form,Success,True
1614404523208,724,selenium_save_comment:submit_form,Success,True
1614404523209,1284,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2091 Passed:1951 Failed:140
1614404524725,1515,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2092 Passed:1952 Failed:140
1614404525525,798,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2093 Passed:1953 Failed:140
1614404526324,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2094 Passed:1954 Failed:140
1614404527064,738,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2095 Passed:1955 Failed:140
1614404527314,247,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2096 Passed:1956 Failed:140
1614404528008,692,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2097 Passed:1957 Failed:140
1614404528499,489,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2098 Passed:1958 Failed:140
1614404528500,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404528500,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915090', 'issue_key': 'AABIS-526', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2099 Passed:1958 Failed:141
1614404529320,448,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2100 Passed:1959 Failed:141


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915090', 'issue_key': 'AABIS-526', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.23s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404529536,161,selenium_login:open_login_page,Success,True
1614404530854,1317,selenium_login:login_and_view_dashboard,Success,True
1614404530854,1479,selenium_login,Success,True
.test_0_selenium_a_login,Total:2101 Passed:1960 Failed:141
1614404531195,311,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2102 Passed:1961 Failed:141
1614404531493,296,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2103 Passed:1962 Failed:141
1614404532291,788,selenium_create_issue:open_quick_create,Success,True
1614404533482,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404533482,1190,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404533482,1979,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2104 Passed:1963 Failed:141
1614404534228,736,selenium_edit_issue:open_edit_issue_form,Success,True
1614404535089,551,selenium_edit_issue:save_edit_issue_form,Success,True
1614404535089,1598,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2105 Passed:1964 Failed:141
1614404535482,391,selenium_save_comment:open_comment_form,Success,True
1614404536397,750,selenium_save_comment:submit_form,Success,True
1614404536397,1306,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2106 Passed:1965 Failed:141
1614404537920,1521,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2107 Passed:1966 Failed:141
1614404539295,1373,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2108 Passed:1967 Failed:141
1614404540107,810,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2109 Passed:1968 Failed:141
1614404540616,506,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2110 Passed:1969 Failed:141
1614404540934,316,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2111 Passed:1970 Failed:141
1614404541513,577,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2112 Passed:1971 Failed:141
1614404541990,476,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2113 Passed:1972 Failed:141
1614404541992,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404541992,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209601', 'issue_key': 'AAFAIA-4093', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2114 Passed:1972 Failed:142
1614404542833,449,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2115 Passed:1973 Failed:142


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209601', 'issue_key': 'AAFAIA-4093', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.47s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404543005,119,selenium_login:open_login_page,Success,True
1614404543501,495,selenium_login:login_and_view_dashboard,Success,True
1614404543501,615,selenium_login,Success,True
.test_0_selenium_a_login,Total:2116 Passed:1974 Failed:142
1614404543798,285,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2117 Passed:1975 Failed:142
1614404544072,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2118 Passed:1976 Failed:142
1614404544882,801,selenium_create_issue:open_quick_create,Success,True
1614404547307,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404547307,2425,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404547307,3226,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2119 Passed:1977 Failed:142
1614404547849,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614404548881,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614404548881,1565,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2120 Passed:1978 Failed:142
1614404549270,387,selenium_save_comment:open_comment_form,Success,True
1614404550216,779,selenium_save_comment:submit_form,Success,True
1614404550216,1332,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2121 Passed:1979 Failed:142
1614404551585,1367,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2122 Passed:1980 Failed:142
1614404552576,989,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2123 Passed:1981 Failed:142
1614404553386,808,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2124 Passed:1982 Failed:142
1614404554069,681,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2125 Passed:1983 Failed:142
1614404554436,365,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2126 Passed:1984 Failed:142
1614404555121,683,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2127 Passed:1985 Failed:142
1614404555545,422,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2128 Passed:1986 Failed:142
1614404555547,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404555547,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211847', 'issue_key': 'AAFAIA-6339', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2129 Passed:1986 Failed:143
1614404556456,393,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2130 Passed:1987 Failed:143


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211847', 'issue_key': 'AAFAIA-6339', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.58s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404556626,115,selenium_login:open_login_page,Success,True
1614404557963,1336,selenium_login:login_and_view_dashboard,Success,True
1614404557963,1452,selenium_login,Success,True
.test_0_selenium_a_login,Total:2131 Passed:1988 Failed:143
1614404558246,260,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2132 Passed:1989 Failed:143
1614404558515,267,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2133 Passed:1990 Failed:143
1614404559323,799,selenium_create_issue:open_quick_create,Success,True
1614404560485,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404560485,1162,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404560486,1961,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2134 Passed:1991 Failed:143
1614404561048,554,selenium_edit_issue:open_edit_issue_form,Success,True
1614404562109,567,selenium_edit_issue:save_edit_issue_form,Success,True
1614404562109,1614,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2135 Passed:1992 Failed:143
1614404562506,395,selenium_save_comment:open_comment_form,Success,True
1614404563427,749,selenium_save_comment:submit_form,Success,True
1614404563427,1317,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2136 Passed:1993 Failed:143
1614404564839,1410,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2137 Passed:1994 Failed:143
1614404566209,1368,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2138 Passed:1995 Failed:143
1614404567007,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2139 Passed:1996 Failed:143
1614404567704,694,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2140 Passed:1997 Failed:143
1614404568044,339,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2141 Passed:1998 Failed:143
1614404568682,635,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2142 Passed:1999 Failed:143
1614404569151,467,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2143 Passed:2000 Failed:143
1614404569153,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404569153,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212023', 'issue_key': 'AAFAIA-6515', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2144 Passed:2000 Failed:144
1614404569897,388,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2145 Passed:2001 Failed:144


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212023', 'issue_key': 'AAFAIA-6515', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.40s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404570063,112,selenium_login:open_login_page,Success,True
1614404570638,575,selenium_login:login_and_view_dashboard,Success,True
1614404570638,688,selenium_login,Success,True
.test_0_selenium_a_login,Total:2146 Passed:2002 Failed:144
1614404570932,281,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2147 Passed:2003 Failed:144
1614404571204,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2148 Passed:2004 Failed:144
1614404571989,776,selenium_create_issue:open_quick_create,Success,True
1614404573163,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404573163,1174,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404573163,1950,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2149 Passed:2005 Failed:144
1614404573862,689,selenium_edit_issue:open_edit_issue_form,Success,True
1614404574840,597,selenium_edit_issue:save_edit_issue_form,Success,True
1614404574840,1667,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2150 Passed:2006 Failed:144
1614404575289,448,selenium_save_comment:open_comment_form,Success,True
1614404576130,730,selenium_save_comment:submit_form,Success,True
1614404576130,1289,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2151 Passed:2007 Failed:144
1614404577682,1550,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2152 Passed:2008 Failed:144
1614404579054,1371,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2153 Passed:2009 Failed:144
1614404579861,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2154 Passed:2010 Failed:144
1614404580907,1044,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2155 Passed:2011 Failed:144
1614404581158,249,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2156 Passed:2012 Failed:144
1614404581810,650,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2157 Passed:2013 Failed:144
1614404582287,475,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2158 Passed:2014 Failed:144
1614404582289,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404582289,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210919', 'issue_key': 'AAFAIA-5411', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2159 Passed:2014 Failed:145
1614404583011,356,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2160 Passed:2015 Failed:145


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210919', 'issue_key': 'AAFAIA-5411', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.07s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404583181,117,selenium_login:open_login_page,Success,True
1614404584340,1159,selenium_login:login_and_view_dashboard,Success,True
1614404584340,1276,selenium_login,Success,True
.test_0_selenium_a_login,Total:2161 Passed:2016 Failed:145
1614404584608,239,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2162 Passed:2017 Failed:145
1614404584914,304,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2163 Passed:2018 Failed:145
1614404585684,761,selenium_create_issue:open_quick_create,Success,True
1614404586865,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404586865,1180,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404586865,1942,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2164 Passed:2019 Failed:145
1614404587424,549,selenium_edit_issue:open_edit_issue_form,Success,True
1614404588459,555,selenium_edit_issue:save_edit_issue_form,Success,True
1614404588459,1585,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2165 Passed:2020 Failed:145
1614404588861,400,selenium_save_comment:open_comment_form,Success,True
1614404589762,741,selenium_save_comment:submit_form,Success,True
1614404589762,1301,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2166 Passed:2021 Failed:145
1614404591129,1365,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2167 Passed:2022 Failed:145
1614404592501,1370,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2168 Passed:2023 Failed:145
1614404593321,818,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2169 Passed:2024 Failed:145
1614404594466,1143,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2170 Passed:2025 Failed:145
1614404594955,487,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2171 Passed:2026 Failed:145
1614404595664,707,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2172 Passed:2027 Failed:145
1614404596197,531,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2173 Passed:2028 Failed:145
1614404596198,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404596198,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210749', 'issue_key': 'AAFAIA-5241', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2174 Passed:2028 Failed:146
1614404596969,383,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2175 Passed:2029 Failed:146


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210749', 'issue_key': 'AAFAIA-5241', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.92s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404597126,104,selenium_login:open_login_page,Success,True
1614404597721,594,selenium_login:login_and_view_dashboard,Success,True
1614404597721,699,selenium_login,Success,True
.test_0_selenium_a_login,Total:2176 Passed:2030 Failed:146
1614404598018,286,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2177 Passed:2031 Failed:146
1614404598296,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2178 Passed:2032 Failed:146
1614404599120,814,selenium_create_issue:open_quick_create,Success,True
1614404600271,627,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404600271,1151,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404600271,1966,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2179 Passed:2033 Failed:146
1614404601019,739,selenium_edit_issue:open_edit_issue_form,Success,True
1614404601910,605,selenium_edit_issue:save_edit_issue_form,Success,True
1614404601910,1630,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2180 Passed:2034 Failed:146
1614404602326,414,selenium_save_comment:open_comment_form,Success,True
1614404603262,769,selenium_save_comment:submit_form,Success,True
1614404603262,1350,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2181 Passed:2035 Failed:146
1614404604629,1364,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2182 Passed:2036 Failed:146
1614404605609,979,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2183 Passed:2037 Failed:146
1614404606513,902,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2184 Passed:2038 Failed:146
1614404607574,1059,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2185 Passed:2039 Failed:146
1614404608447,871,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2186 Passed:2040 Failed:146
1614404609077,629,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2187 Passed:2041 Failed:146
1614404609401,322,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2188 Passed:2042 Failed:146
1614404609403,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404609403,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206073', 'issue_key': 'AAFAIA-565', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2189 Passed:2042 Failed:147
1614404610242,373,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2190 Passed:2043 Failed:147


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206073', 'issue_key': 'AAFAIA-565', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.23s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404610405,111,selenium_login:open_login_page,Success,True
1614404610985,579,selenium_login:login_and_view_dashboard,Success,True
1614404610985,691,selenium_login,Success,True
.test_0_selenium_a_login,Total:2191 Passed:2044 Failed:147
1614404611288,291,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2192 Passed:2045 Failed:147
1614404611566,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2193 Passed:2046 Failed:147
1614404612376,801,selenium_create_issue:open_quick_create,Success,True
1614404613601,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404613601,1224,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404613601,2026,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2194 Passed:2047 Failed:147
1614404614239,628,selenium_edit_issue:open_edit_issue_form,Success,True
1614404615169,549,selenium_edit_issue:save_edit_issue_form,Success,True
1614404615169,1558,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2195 Passed:2048 Failed:147
1614404615524,353,selenium_save_comment:open_comment_form,Success,True
1614404616524,801,selenium_save_comment:submit_form,Success,True
1614404616524,1354,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2196 Passed:2049 Failed:147
1614404617846,1320,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2197 Passed:2050 Failed:147
1614404619236,1388,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2198 Passed:2051 Failed:147
1614404620031,793,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2199 Passed:2052 Failed:147
1614404620591,557,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2200 Passed:2053 Failed:147
1614404620934,341,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2201 Passed:2054 Failed:147
1614404621514,578,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2202 Passed:2055 Failed:147
1614404622028,511,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2203 Passed:2056 Failed:147
1614404622030,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404622030,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914598', 'issue_key': 'AABIS-34', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2204 Passed:2056 Failed:148
1614404622781,386,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2205 Passed:2057 Failed:148


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914598', 'issue_key': 'AABIS-34', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.50s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404622954,109,selenium_login:open_login_page,Success,True
1614404623470,515,selenium_login:login_and_view_dashboard,Success,True
1614404623470,625,selenium_login,Success,True
.test_0_selenium_a_login,Total:2206 Passed:2058 Failed:148
1614404623776,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2207 Passed:2059 Failed:148
1614404624054,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2208 Passed:2060 Failed:148
1614404624861,798,selenium_create_issue:open_quick_create,Success,True
1614404626050,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404626050,1189,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404626050,1988,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2209 Passed:2061 Failed:148
1614404626693,633,selenium_edit_issue:open_edit_issue_form,Success,True
1614404627632,569,selenium_edit_issue:save_edit_issue_form,Success,True
1614404627632,1572,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2210 Passed:2062 Failed:148
1614404628033,398,selenium_save_comment:open_comment_form,Success,True
1614404629205,1012,selenium_save_comment:submit_form,Success,True
1614404629205,1571,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2211 Passed:2063 Failed:148
1614404630594,1386,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2212 Passed:2064 Failed:148
1614404631996,1400,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2213 Passed:2065 Failed:148
1614404632802,804,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2214 Passed:2066 Failed:148
1614404633375,571,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2215 Passed:2067 Failed:148
1614404633704,327,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2216 Passed:2068 Failed:148
1614404634390,684,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2217 Passed:2069 Failed:148
1614404634798,406,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2218 Passed:2070 Failed:148
1614404634799,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404634799,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914641', 'issue_key': 'AABIS-77', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2219 Passed:2070 Failed:149
1614404635628,430,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2220 Passed:2071 Failed:149


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914641', 'issue_key': 'AABIS-77', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.80s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404635798,117,selenium_login:open_login_page,Success,True
1614404636301,503,selenium_login:login_and_view_dashboard,Success,True
1614404636301,621,selenium_login,Success,True
.test_0_selenium_a_login,Total:2221 Passed:2072 Failed:149
1614404636602,289,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2222 Passed:2073 Failed:149
1614404636873,269,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2223 Passed:2074 Failed:149
1614404637671,789,selenium_create_issue:open_quick_create,Success,True
1614404638851,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404638852,1180,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404638852,1970,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2224 Passed:2075 Failed:149
1614404639365,504,selenium_edit_issue:open_edit_issue_form,Success,True
1614404640430,577,selenium_edit_issue:save_edit_issue_form,Success,True
1614404640430,1569,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2225 Passed:2076 Failed:149
1614404640817,385,selenium_save_comment:open_comment_form,Success,True
1614404641792,812,selenium_save_comment:submit_form,Success,True
1614404641792,1361,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2226 Passed:2077 Failed:149
1614404643087,1293,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2227 Passed:2078 Failed:149
1614404644079,990,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2228 Passed:2079 Failed:149
1614404644885,804,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2229 Passed:2080 Failed:149
1614404645928,1042,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2230 Passed:2081 Failed:149
1614404646624,693,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2231 Passed:2082 Failed:149
1614404647229,603,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2232 Passed:2083 Failed:149
1614404647703,473,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2233 Passed:2084 Failed:149
1614404647705,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404647705,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206157', 'issue_key': 'AAFAIA-649', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2234 Passed:2084 Failed:150
1614404648610,343,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2235 Passed:2085 Failed:150


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206157', 'issue_key': 'AAFAIA-649', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.94s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404648822,158,selenium_login:open_login_page,Success,True
1614404649392,569,selenium_login:login_and_view_dashboard,Success,True
1614404649392,728,selenium_login,Success,True
.test_0_selenium_a_login,Total:2236 Passed:2086 Failed:150
1614404649737,333,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2237 Passed:2087 Failed:150
1614404650015,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2238 Passed:2088 Failed:150
1614404650749,725,selenium_create_issue:open_quick_create,Success,True
1614404651960,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404651960,1211,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404651960,1936,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2239 Passed:2089 Failed:150
1614404652491,521,selenium_edit_issue:open_edit_issue_form,Success,True
1614404653516,555,selenium_edit_issue:save_edit_issue_form,Success,True
1614404653516,1546,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2240 Passed:2090 Failed:150
1614404653917,399,selenium_save_comment:open_comment_form,Success,True
1614404654873,791,selenium_save_comment:submit_form,Success,True
1614404654873,1355,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2241 Passed:2091 Failed:150
1614404656117,1242,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2242 Passed:2092 Failed:150
1614404657493,1374,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2243 Passed:2093 Failed:150
1614404658288,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2244 Passed:2094 Failed:150
1614404659091,800,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2245 Passed:2095 Failed:150
1614404659538,445,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2246 Passed:2096 Failed:150
1614404660256,716,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2247 Passed:2097 Failed:150
1614404660720,462,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2248 Passed:2098 Failed:150
1614404660721,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404660721,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208191', 'issue_key': 'AAFAIA-2683', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2249 Passed:2098 Failed:151
1614404661497,397,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2250 Passed:2099 Failed:151


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208191', 'issue_key': 'AAFAIA-2683', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.84s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404661685,130,selenium_login:open_login_page,Success,True
1614404662264,578,selenium_login:login_and_view_dashboard,Success,True
1614404662264,709,selenium_login,Success,True
.test_0_selenium_a_login,Total:2251 Passed:2100 Failed:151
1614404662553,278,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2252 Passed:2101 Failed:151
1614404662837,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2253 Passed:2102 Failed:151
1614404663634,788,selenium_create_issue:open_quick_create,Success,True
1614404664800,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404664800,1165,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404664800,1954,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2254 Passed:2103 Failed:151
1614404665311,503,selenium_edit_issue:open_edit_issue_form,Success,True
1614404666511,708,selenium_edit_issue:save_edit_issue_form,Success,True
1614404666511,1703,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2255 Passed:2104 Failed:151
1614404666854,340,selenium_save_comment:open_comment_form,Success,True
1614404667827,817,selenium_save_comment:submit_form,Success,True
1614404667827,1314,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2256 Passed:2105 Failed:151
1614404669086,1257,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2257 Passed:2106 Failed:151
1614404670475,1387,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2258 Passed:2107 Failed:151
1614404671299,822,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2259 Passed:2108 Failed:151
1614404672279,978,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2260 Passed:2109 Failed:151
1614404672711,430,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2261 Passed:2110 Failed:151
1614404673424,711,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2262 Passed:2111 Failed:151
1614404673906,480,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2263 Passed:2112 Failed:151
1614404673907,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404673908,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206813', 'issue_key': 'AAFAIA-1305', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2264 Passed:2112 Failed:152
1614404674781,440,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2265 Passed:2113 Failed:152


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206813', 'issue_key': 'AAFAIA-1305', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.24s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404674961,127,selenium_login:open_login_page,Success,True
1614404675556,594,selenium_login:login_and_view_dashboard,Success,True
1614404675556,722,selenium_login,Success,True
.test_0_selenium_a_login,Total:2266 Passed:2114 Failed:152
1614404675852,284,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2267 Passed:2115 Failed:152
1614404676129,276,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2268 Passed:2116 Failed:152
1614404676843,704,selenium_create_issue:open_quick_create,Success,True
1614404678065,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404678065,1222,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404678065,1927,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2269 Passed:2117 Failed:152
1614404678687,611,selenium_edit_issue:open_edit_issue_form,Success,True
1614404679673,601,selenium_edit_issue:save_edit_issue_form,Success,True
1614404679673,1597,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2270 Passed:2118 Failed:152
1614404680158,483,selenium_save_comment:open_comment_form,Success,True
1614404681014,751,selenium_save_comment:submit_form,Success,True
1614404681015,1340,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2271 Passed:2119 Failed:152
1614404682311,1294,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2272 Passed:2120 Failed:152
1614404683288,975,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2273 Passed:2121 Failed:152
1614404684216,927,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2274 Passed:2122 Failed:152
1614404685126,908,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2275 Passed:2123 Failed:152
1614404685640,512,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2276 Passed:2124 Failed:152
1614404686300,658,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2277 Passed:2125 Failed:152
1614404686757,455,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2278 Passed:2126 Failed:152
1614404686759,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404686759,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207480', 'issue_key': 'AAFAIA-1972', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2279 Passed:2126 Failed:153
1614404687579,351,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2280 Passed:2127 Failed:153


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207480', 'issue_key': 'AAFAIA-1972', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.75s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404687753,121,selenium_login:open_login_page,Success,True
1614404688233,480,selenium_login:login_and_view_dashboard,Success,True
1614404688233,601,selenium_login,Success,True
.test_0_selenium_a_login,Total:2281 Passed:2128 Failed:153
1614404688600,344,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2282 Passed:2129 Failed:153
1614404688893,291,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2283 Passed:2130 Failed:153
1614404689557,655,selenium_create_issue:open_quick_create,Success,True
1614404690656,611,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404690657,1099,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404690657,1754,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2284 Passed:2131 Failed:153
1614404691338,673,selenium_edit_issue:open_edit_issue_form,Success,True
1614404692332,622,selenium_edit_issue:save_edit_issue_form,Success,True
1614404692332,1667,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2285 Passed:2132 Failed:153
1614404692709,375,selenium_save_comment:open_comment_form,Success,True
1614404693597,723,selenium_save_comment:submit_form,Success,True
1614404693597,1263,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2286 Passed:2133 Failed:153
1614404694955,1356,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2287 Passed:2134 Failed:153
1614404695992,1036,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2288 Passed:2135 Failed:153
1614404696919,925,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2289 Passed:2136 Failed:153
1614404697626,705,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2290 Passed:2137 Failed:153
1614404697962,333,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2291 Passed:2138 Failed:153
1614404698632,668,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2292 Passed:2139 Failed:153
1614404699071,437,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2293 Passed:2140 Failed:153
1614404699072,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404699072,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206273', 'issue_key': 'AAFAIA-765', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2294 Passed:2140 Failed:154
1614404699963,370,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2295 Passed:2141 Failed:154


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206273', 'issue_key': 'AAFAIA-765', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.34s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404700137,120,selenium_login:open_login_page,Success,True
1614404700624,487,selenium_login:login_and_view_dashboard,Success,True
1614404700624,608,selenium_login,Success,True
.test_0_selenium_a_login,Total:2296 Passed:2142 Failed:154
1614404700912,275,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2297 Passed:2143 Failed:154
1614404701684,770,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2298 Passed:2144 Failed:154
1614404702431,736,selenium_create_issue:open_quick_create,Success,True
1614404703680,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404703680,1249,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404703680,1986,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2299 Passed:2145 Failed:154
1614404704420,731,selenium_edit_issue:open_edit_issue_form,Success,True
1614404705302,592,selenium_edit_issue:save_edit_issue_form,Success,True
1614404705302,1613,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2300 Passed:2146 Failed:154
1614404705692,388,selenium_save_comment:open_comment_form,Success,True
1614404706590,724,selenium_save_comment:submit_form,Success,True
1614404706590,1287,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2301 Passed:2147 Failed:154
1614404707890,1297,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2302 Passed:2148 Failed:154
1614404708697,805,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2303 Passed:2149 Failed:154
1614404709518,819,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2304 Passed:2150 Failed:154
1614404710515,995,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2305 Passed:2151 Failed:154
1614404710754,237,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2306 Passed:2152 Failed:154
1614404711368,611,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2307 Passed:2153 Failed:154
1614404711878,508,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2308 Passed:2154 Failed:154
1614404711880,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404711880,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209226', 'issue_key': 'AAFAIA-3718', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2309 Passed:2154 Failed:155
1614404712718,340,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2310 Passed:2155 Failed:155


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209226', 'issue_key': 'AAFAIA-3718', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.71s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404712900,110,selenium_login:open_login_page,Success,True
1614404714114,1214,selenium_login:login_and_view_dashboard,Success,True
1614404714114,1325,selenium_login,Success,True
.test_0_selenium_a_login,Total:2311 Passed:2156 Failed:155
1614404714521,366,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2312 Passed:2157 Failed:155
1614404715271,749,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2313 Passed:2158 Failed:155
1614404715931,650,selenium_create_issue:open_quick_create,Success,True
1614404717009,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404717009,1078,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404717010,1729,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2314 Passed:2159 Failed:155
1614404717659,640,selenium_edit_issue:open_edit_issue_form,Success,True
1614404718613,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614404718613,1595,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2315 Passed:2160 Failed:155
1614404719012,397,selenium_save_comment:open_comment_form,Success,True
1614404719935,760,selenium_save_comment:submit_form,Success,True
1614404719935,1320,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2316 Passed:2161 Failed:155
1614404721254,1317,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2317 Passed:2162 Failed:155
1614404722069,814,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2318 Passed:2163 Failed:155
1614404722512,441,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2319 Passed:2164 Failed:155
1614404723125,611,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2320 Passed:2165 Failed:155
1614404723456,329,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2321 Passed:2166 Failed:155
1614404724140,682,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2322 Passed:2167 Failed:155
1614404724606,464,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2323 Passed:2168 Failed:155
1614404724608,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404724608,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206233', 'issue_key': 'AAFAIA-725', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2324 Passed:2168 Failed:156
1614404725465,323,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2325 Passed:2169 Failed:156


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206233', 'issue_key': 'AAFAIA-725', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.69s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404725624,105,selenium_login:open_login_page,Success,True
1614404726119,495,selenium_login:login_and_view_dashboard,Success,True
1614404726119,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:2326 Passed:2170 Failed:156
1614404726446,315,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2327 Passed:2171 Failed:156
1614404726726,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2328 Passed:2172 Failed:156
1614404727517,782,selenium_create_issue:open_quick_create,Success,True
1614404728696,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404728696,1179,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404728696,1961,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2329 Passed:2173 Failed:156
1614404729349,644,selenium_edit_issue:open_edit_issue_form,Success,True
1614404730301,584,selenium_edit_issue:save_edit_issue_form,Success,True
1614404730301,1596,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2330 Passed:2174 Failed:156
1614404730676,373,selenium_save_comment:open_comment_form,Success,True
1614404731590,753,selenium_save_comment:submit_form,Success,True
1614404731590,1287,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2331 Passed:2175 Failed:156
1614404732951,1359,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2332 Passed:2176 Failed:156
1614404734321,1368,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2333 Passed:2177 Failed:156
1614404735111,788,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2334 Passed:2178 Failed:156
1614404735630,517,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2335 Passed:2179 Failed:156
1614404735927,294,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2336 Passed:2180 Failed:156
1614404736501,572,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2337 Passed:2181 Failed:156
1614404737033,530,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2338 Passed:2182 Failed:156
1614404737034,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404737034,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210752', 'issue_key': 'AAFAIA-5244', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2339 Passed:2182 Failed:157
1614404737862,411,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2340 Passed:2183 Failed:157


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210752', 'issue_key': 'AAFAIA-5244', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.35s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404738027,112,selenium_login:open_login_page,Success,True
1614404738518,490,selenium_login:login_and_view_dashboard,Success,True
1614404738518,603,selenium_login,Success,True
.test_0_selenium_a_login,Total:2341 Passed:2184 Failed:157
1614404738812,283,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2342 Passed:2185 Failed:157
1614404739095,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2343 Passed:2186 Failed:157
1614404739899,795,selenium_create_issue:open_quick_create,Success,True
1614404741095,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404741096,1196,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404741096,1992,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2344 Passed:2187 Failed:157
1614404741628,524,selenium_edit_issue:open_edit_issue_form,Success,True
1614404742729,599,selenium_edit_issue:save_edit_issue_form,Success,True
1614404742729,1624,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2345 Passed:2188 Failed:157
1614404743155,423,selenium_save_comment:open_comment_form,Success,True
1614404744064,750,selenium_save_comment:submit_form,Success,True
1614404744065,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2346 Passed:2189 Failed:157
1614404745445,1379,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2347 Passed:2190 Failed:157
1614404746246,799,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2348 Passed:2191 Failed:157
1614404747049,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2349 Passed:2192 Failed:157
1614404747732,681,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2350 Passed:2193 Failed:157
1614404748079,344,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2351 Passed:2194 Failed:157
1614404748716,635,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2352 Passed:2195 Failed:157
1614404749171,453,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2353 Passed:2196 Failed:157
1614404749172,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404749173,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209748', 'issue_key': 'AAFAIA-4240', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2354 Passed:2196 Failed:158
1614404750047,352,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2355 Passed:2197 Failed:158


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209748', 'issue_key': 'AAFAIA-4240', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.14s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404750208,108,selenium_login:open_login_page,Success,True
1614404750694,485,selenium_login:login_and_view_dashboard,Success,True
1614404750694,594,selenium_login,Success,True
.test_0_selenium_a_login,Total:2356 Passed:2198 Failed:158
1614404750997,291,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2357 Passed:2199 Failed:158
1614404751294,295,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2358 Passed:2200 Failed:158
1614404751957,654,selenium_create_issue:open_quick_create,Success,True
1614404753070,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404753070,1112,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404753070,1767,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2359 Passed:2201 Failed:158
1614404753589,509,selenium_edit_issue:open_edit_issue_form,Success,True
1614404754629,587,selenium_edit_issue:save_edit_issue_form,Success,True
1614404754629,1549,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2360 Passed:2202 Failed:158
1614404755041,410,selenium_save_comment:open_comment_form,Success,True
1614404756221,1005,selenium_save_comment:submit_form,Success,True
1614404756221,1591,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2361 Passed:2203 Failed:158
1614404757558,1335,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2362 Passed:2204 Failed:158
1614404758944,1384,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2363 Passed:2205 Failed:158
1614404759747,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2364 Passed:2206 Failed:158
1614404760535,786,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2365 Passed:2207 Failed:158
1614404760779,242,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2366 Passed:2208 Failed:158
1614404761504,723,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2367 Passed:2209 Failed:158
1614404761988,482,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2368 Passed:2210 Failed:158
1614404761990,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404761990,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210265', 'issue_key': 'AAFAIA-4757', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2369 Passed:2210 Failed:159
1614404762799,424,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2370 Passed:2211 Failed:159


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210265', 'issue_key': 'AAFAIA-4757', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.71s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404762967,114,selenium_login:open_login_page,Success,True
1614404763524,556,selenium_login:login_and_view_dashboard,Success,True
1614404763524,671,selenium_login,Success,True
.test_0_selenium_a_login,Total:2371 Passed:2212 Failed:159
1614404763797,262,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2372 Passed:2213 Failed:159
1614404764077,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2373 Passed:2214 Failed:159
1614404764912,826,selenium_create_issue:open_quick_create,Success,True
1614404766157,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404766157,1245,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404766157,2071,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2374 Passed:2215 Failed:159
1614404766778,612,selenium_edit_issue:open_edit_issue_form,Success,True
1614404767774,612,selenium_edit_issue:save_edit_issue_form,Success,True
1614404767774,1608,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2375 Passed:2216 Failed:159
1614404768164,388,selenium_save_comment:open_comment_form,Success,True
1614404769064,739,selenium_save_comment:submit_form,Success,True
1614404769064,1288,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2376 Passed:2217 Failed:159
1614404770516,1450,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2377 Passed:2218 Failed:159
1614404771888,1370,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2378 Passed:2219 Failed:159
1614404772722,832,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2379 Passed:2220 Failed:159
1614404773113,389,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2380 Passed:2221 Failed:159
1614404773373,258,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2381 Passed:2222 Failed:159
1614404773976,601,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2382 Passed:2223 Failed:159
1614404774483,505,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2383 Passed:2224 Failed:159
1614404774485,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404774485,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210221', 'issue_key': 'AAFAIA-4713', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2384 Passed:2224 Failed:160
1614404775213,355,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2385 Passed:2225 Failed:160


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210221', 'issue_key': 'AAFAIA-4713', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.37s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404775381,114,selenium_login:open_login_page,Success,True
1614404775921,539,selenium_login:login_and_view_dashboard,Success,True
1614404775921,654,selenium_login,Success,True
.test_0_selenium_a_login,Total:2386 Passed:2226 Failed:160
1614404776218,284,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2387 Passed:2227 Failed:160
1614404776497,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2388 Passed:2228 Failed:160
1614404777306,800,selenium_create_issue:open_quick_create,Success,True
1614404778505,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404778505,1199,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404778505,1999,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2389 Passed:2229 Failed:160
1614404779041,525,selenium_edit_issue:open_edit_issue_form,Success,True
1614404780084,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614404780085,1569,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2390 Passed:2230 Failed:160
1614404780484,397,selenium_save_comment:open_comment_form,Success,True
1614404781628,983,selenium_save_comment:submit_form,Success,True
1614404781628,1541,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2391 Passed:2231 Failed:160
1614404782906,1276,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2392 Passed:2232 Failed:160
1614404784313,1405,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2393 Passed:2233 Failed:160
1614404785146,831,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2394 Passed:2234 Failed:160
1614404785792,644,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2395 Passed:2235 Failed:160
1614404786183,389,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2396 Passed:2236 Failed:160
1614404786793,607,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2397 Passed:2237 Failed:160
1614404787299,505,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2398 Passed:2238 Failed:160
1614404787301,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404787301,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212301', 'issue_key': 'AAFAIA-6793', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2399 Passed:2238 Failed:161
1614404788152,448,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2400 Passed:2239 Failed:161


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212301', 'issue_key': 'AAFAIA-6793', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404788314,109,selenium_login:open_login_page,Success,True
1614404788913,598,selenium_login:login_and_view_dashboard,Success,True
1614404788913,708,selenium_login,Success,True
.test_0_selenium_a_login,Total:2401 Passed:2240 Failed:161
1614404789207,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2402 Passed:2241 Failed:161
1614404789484,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2403 Passed:2242 Failed:161
1614404790273,780,selenium_create_issue:open_quick_create,Success,True
1614404791436,628,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404791436,1163,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404791436,1943,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2404 Passed:2243 Failed:161
1614404791984,538,selenium_edit_issue:open_edit_issue_form,Success,True
1614404793062,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614404793062,1617,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2405 Passed:2244 Failed:161
1614404793395,331,selenium_save_comment:open_comment_form,Success,True
1614404794813,748,selenium_save_comment:submit_form,Success,True
1614404794813,1749,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2406 Passed:2245 Failed:161
1614404796143,1328,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2407 Passed:2246 Failed:161
1614404796946,800,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2408 Passed:2247 Failed:161
1614404797749,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2409 Passed:2248 Failed:161
1614404798212,461,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2410 Passed:2249 Failed:161
1614404798490,277,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2411 Passed:2250 Failed:161
1614404799214,722,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2412 Passed:2251 Failed:161
1614404799694,477,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2413 Passed:2252 Failed:161
1614404799695,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404799695,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915355', 'issue_key': 'AABIS-791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2414 Passed:2252 Failed:162
1614404800485,377,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2415 Passed:2253 Failed:162


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915355', 'issue_key': 'AABIS-791', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.29s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404800644,107,selenium_login:open_login_page,Success,True
1614404801978,1333,selenium_login:login_and_view_dashboard,Success,True
1614404801978,1441,selenium_login,Success,True
.test_0_selenium_a_login,Total:2416 Passed:2254 Failed:162
1614404802306,298,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2417 Passed:2255 Failed:162
1614404802584,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2418 Passed:2256 Failed:162
1614404803355,761,selenium_create_issue:open_quick_create,Success,True
1614404804581,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404804581,1225,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404804581,1988,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2419 Passed:2257 Failed:162
1614404805115,524,selenium_edit_issue:open_edit_issue_form,Success,True
1614404806133,545,selenium_edit_issue:save_edit_issue_form,Success,True
1614404806133,1543,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2420 Passed:2258 Failed:162
1614404806525,390,selenium_save_comment:open_comment_form,Success,True
1614404807429,734,selenium_save_comment:submit_form,Success,True
1614404807429,1294,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2421 Passed:2259 Failed:162
1614404808859,1428,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2422 Passed:2260 Failed:162
1614404810238,1378,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2423 Passed:2261 Failed:162
1614404811038,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2424 Passed:2262 Failed:162
1614404811851,811,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2425 Passed:2263 Failed:162
1614404812102,249,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2426 Passed:2264 Failed:162
1614404812726,621,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2427 Passed:2265 Failed:162
1614404813229,502,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2428 Passed:2266 Failed:162
1614404813231,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404813231,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208863', 'issue_key': 'AAFAIA-3355', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2429 Passed:2266 Failed:163
1614404814074,373,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2430 Passed:2267 Failed:163


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208863', 'issue_key': 'AAFAIA-3355', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.55s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404814255,127,selenium_login:open_login_page,Success,True
1614404815535,1278,selenium_login:login_and_view_dashboard,Success,True
1614404815535,1406,selenium_login,Success,True
.test_0_selenium_a_login,Total:2431 Passed:2268 Failed:163
1614404815880,316,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2432 Passed:2269 Failed:163
1614404816154,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2433 Passed:2270 Failed:163
1614404816936,772,selenium_create_issue:open_quick_create,Success,True
1614404818175,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404818176,1239,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404818176,2012,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2434 Passed:2271 Failed:163
1614404818814,630,selenium_edit_issue:open_edit_issue_form,Success,True
1614404819687,518,selenium_edit_issue:save_edit_issue_form,Success,True
1614404819687,1503,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2435 Passed:2272 Failed:163
1614404820233,544,selenium_save_comment:open_comment_form,Success,True
1614404821179,836,selenium_save_comment:submit_form,Success,True
1614404821179,1490,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2436 Passed:2273 Failed:163
1614404822490,1309,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2437 Passed:2274 Failed:163
1614404823868,1376,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2438 Passed:2275 Failed:163
1614404824683,812,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2439 Passed:2276 Failed:163
1614404825256,571,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2440 Passed:2277 Failed:163
1614404825593,336,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2441 Passed:2278 Failed:163
1614404826253,657,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2442 Passed:2279 Failed:163
1614404826707,453,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2443 Passed:2280 Failed:163
1614404826709,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404826709,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212029', 'issue_key': 'AAFAIA-6521', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2444 Passed:2280 Failed:164
1614404827521,431,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2445 Passed:2281 Failed:164


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212029', 'issue_key': 'AAFAIA-6521', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.40s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404827710,127,selenium_login:open_login_page,Success,True
1614404828168,457,selenium_login:login_and_view_dashboard,Success,True
1614404828168,584,selenium_login,Success,True
.test_0_selenium_a_login,Total:2446 Passed:2282 Failed:164
1614404828533,336,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2447 Passed:2283 Failed:164
1614404828818,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2448 Passed:2284 Failed:164
1614404829622,795,selenium_create_issue:open_quick_create,Success,True
1614404830806,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404830806,1183,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404830806,1979,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2449 Passed:2285 Failed:164
1614404831369,554,selenium_edit_issue:open_edit_issue_form,Success,True
1614404832397,530,selenium_edit_issue:save_edit_issue_form,Success,True
1614404832398,1582,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2450 Passed:2286 Failed:164
1614404832792,393,selenium_save_comment:open_comment_form,Success,True
1614404833848,880,selenium_save_comment:submit_form,Success,True
1614404833848,1449,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2451 Passed:2287 Failed:164
1614404835183,1333,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2452 Passed:2288 Failed:164
1614404836572,1387,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2453 Passed:2289 Failed:164
1614404837390,816,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2454 Passed:2290 Failed:164
1614404837754,362,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2455 Passed:2291 Failed:164
1614404837988,232,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2456 Passed:2292 Failed:164
1614404838625,635,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2457 Passed:2293 Failed:164
1614404839116,489,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2458 Passed:2294 Failed:164
1614404839117,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404839117,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209247', 'issue_key': 'AAFAIA-3739', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2459 Passed:2294 Failed:165
1614404839801,336,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2460 Passed:2295 Failed:165


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209247', 'issue_key': 'AAFAIA-3739', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.23s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404839960,107,selenium_login:open_login_page,Success,True
1614404840472,511,selenium_login:login_and_view_dashboard,Success,True
1614404840472,619,selenium_login,Success,True
.test_0_selenium_a_login,Total:2461 Passed:2296 Failed:165
1614404840779,295,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2462 Passed:2297 Failed:165
1614404841076,296,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2463 Passed:2298 Failed:165
1614404841881,795,selenium_create_issue:open_quick_create,Success,True
1614404843041,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404843041,1160,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404843041,1956,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2464 Passed:2299 Failed:165
1614404843585,536,selenium_edit_issue:open_edit_issue_form,Success,True
1614404844604,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614404844604,1554,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2465 Passed:2300 Failed:165
1614404845004,399,selenium_save_comment:open_comment_form,Success,True
1614404845830,658,selenium_save_comment:submit_form,Success,True
1614404845830,1225,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2466 Passed:2301 Failed:165
1614404847257,1425,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2467 Passed:2302 Failed:165
1614404848631,1373,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2468 Passed:2303 Failed:165
1614404849462,829,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2469 Passed:2304 Failed:165
1614404850033,569,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2470 Passed:2305 Failed:165
1614404850340,305,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2471 Passed:2306 Failed:165
1614404850936,594,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2472 Passed:2307 Failed:165
1614404851360,421,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2473 Passed:2308 Failed:165
1614404851361,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404851361,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209187', 'issue_key': 'AAFAIA-3679', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2474 Passed:2308 Failed:166
1614404852256,453,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2475 Passed:2309 Failed:166


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209187', 'issue_key': 'AAFAIA-3679', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.41s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404852420,111,selenium_login:open_login_page,Success,True
1614404852896,476,selenium_login:login_and_view_dashboard,Success,True
1614404852896,587,selenium_login,Success,True
.test_0_selenium_a_login,Total:2476 Passed:2310 Failed:166
1614404853183,276,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2477 Passed:2311 Failed:166
1614404853452,266,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2478 Passed:2312 Failed:166
1614404854248,788,selenium_create_issue:open_quick_create,Success,True
1614404855507,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404855507,1258,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404855507,2047,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2479 Passed:2313 Failed:166
1614404856064,548,selenium_edit_issue:open_edit_issue_form,Success,True
1614404857139,604,selenium_edit_issue:save_edit_issue_form,Success,True
1614404857139,1624,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2480 Passed:2314 Failed:166
1614404857533,392,selenium_save_comment:open_comment_form,Success,True
1614404858407,704,selenium_save_comment:submit_form,Success,True
1614404858407,1266,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2481 Passed:2315 Failed:166
1614404859676,1267,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2482 Passed:2316 Failed:166
1614404861152,1474,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2483 Passed:2317 Failed:166
1614404861975,822,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2484 Passed:2318 Failed:166
1614404862368,391,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2485 Passed:2319 Failed:166
1614404862663,293,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2486 Passed:2320 Failed:166
1614404863245,579,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2487 Passed:2321 Failed:166
1614404863734,487,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2488 Passed:2322 Failed:166
1614404863735,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404863735,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210212', 'issue_key': 'AAFAIA-4704', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2489 Passed:2322 Failed:167
1614404864536,408,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2490 Passed:2323 Failed:167


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210212', 'issue_key': 'AAFAIA-4704', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.24s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404864703,114,selenium_login:open_login_page,Success,True
1614404865201,497,selenium_login:login_and_view_dashboard,Success,True
1614404865201,612,selenium_login,Success,True
.test_0_selenium_a_login,Total:2491 Passed:2324 Failed:167
1614404865502,287,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2492 Passed:2325 Failed:167
1614404865803,299,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2493 Passed:2326 Failed:167
1614404866483,671,selenium_create_issue:open_quick_create,Success,True
1614404867719,628,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404867719,1235,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404867719,1907,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2494 Passed:2327 Failed:167
1614404868370,639,selenium_edit_issue:open_edit_issue_form,Success,True
1614404869365,625,selenium_edit_issue:save_edit_issue_form,Success,True
1614404869366,1635,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2495 Passed:2328 Failed:167
1614404869715,347,selenium_save_comment:open_comment_form,Success,True
1614404870675,795,selenium_save_comment:submit_form,Success,True
1614404870676,1308,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2496 Passed:2329 Failed:167
1614404872030,1352,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2497 Passed:2330 Failed:167
1614404872999,968,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2498 Passed:2331 Failed:167
1614404873863,861,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2499 Passed:2332 Failed:167
1614404874658,794,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2500 Passed:2333 Failed:167
1614404874915,254,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2501 Passed:2334 Failed:167
1614404875672,755,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2502 Passed:2335 Failed:167
1614404876109,434,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2503 Passed:2336 Failed:167
1614404876110,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404876110,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206586', 'issue_key': 'AAFAIA-1078', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2504 Passed:2336 Failed:168
1614404876911,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2505 Passed:2337 Failed:168


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206586', 'issue_key': 'AAFAIA-1078', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.33s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404877073,109,selenium_login:open_login_page,Success,True
1614404878360,1286,selenium_login:login_and_view_dashboard,Success,True
1614404878360,1396,selenium_login,Success,True
.test_0_selenium_a_login,Total:2506 Passed:2338 Failed:168
1614404878624,243,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2507 Passed:2339 Failed:168
1614404878895,269,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2508 Passed:2340 Failed:168
1614404879559,655,selenium_create_issue:open_quick_create,Success,True
1614404880657,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404880658,1098,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404880658,1753,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2509 Passed:2341 Failed:168
1614404881182,515,selenium_edit_issue:open_edit_issue_form,Success,True
1614404882200,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614404882200,1533,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2510 Passed:2342 Failed:168
1614404882514,312,selenium_save_comment:open_comment_form,Success,True
1614404883452,776,selenium_save_comment:submit_form,Success,True
1614404883452,1251,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2511 Passed:2343 Failed:168
1614404884821,1367,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2512 Passed:2344 Failed:168
1614404885634,811,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2513 Passed:2345 Failed:168
1614404886449,813,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2514 Passed:2346 Failed:168
1614404886834,384,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2515 Passed:2347 Failed:168
1614404887081,245,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2516 Passed:2348 Failed:168
1614404887797,714,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2517 Passed:2349 Failed:168
1614404888250,451,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2518 Passed:2350 Failed:168
1614404888252,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404888252,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206665', 'issue_key': 'AAFAIA-1157', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2519 Passed:2350 Failed:169
1614404889051,423,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2520 Passed:2351 Failed:169


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206665', 'issue_key': 'AAFAIA-1157', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.10s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404889223,110,selenium_login:open_login_page,Success,True
1614404889673,450,selenium_login:login_and_view_dashboard,Success,True
1614404889673,560,selenium_login,Success,True
.test_0_selenium_a_login,Total:2521 Passed:2352 Failed:169
1614404890036,346,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2522 Passed:2353 Failed:169
1614404890315,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2523 Passed:2354 Failed:169
1614404890978,655,selenium_create_issue:open_quick_create,Success,True
1614404892107,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404892107,1128,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404892107,1783,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2524 Passed:2355 Failed:169
1614404892752,636,selenium_edit_issue:open_edit_issue_form,Success,True
1614404893815,689,selenium_edit_issue:save_edit_issue_form,Success,True
1614404893815,1699,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2525 Passed:2356 Failed:169
1614404894186,369,selenium_save_comment:open_comment_form,Success,True
1614404895193,839,selenium_save_comment:submit_form,Success,True
1614404895194,1376,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2526 Passed:2357 Failed:169
1614404896469,1273,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2527 Passed:2358 Failed:169
1614404897346,875,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2528 Passed:2359 Failed:169
1614404898260,912,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2529 Passed:2360 Failed:169
1614404899028,767,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2530 Passed:2361 Failed:169
1614404899267,236,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2531 Passed:2362 Failed:169
1614404900032,763,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2532 Passed:2363 Failed:169
1614404900460,426,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2533 Passed:2364 Failed:169
1614404900461,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404900461,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914805', 'issue_key': 'AABIS-241', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2534 Passed:2364 Failed:170
1614404901336,452,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2535 Passed:2365 Failed:170


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914805', 'issue_key': 'AABIS-241', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.23s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404901501,111,selenium_login:open_login_page,Success,True
1614404901993,491,selenium_login:login_and_view_dashboard,Success,True
1614404901993,603,selenium_login,Success,True
.test_0_selenium_a_login,Total:2536 Passed:2366 Failed:170
1614404902303,298,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2537 Passed:2367 Failed:170
1614404902580,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2538 Passed:2368 Failed:170
1614404903391,802,selenium_create_issue:open_quick_create,Success,True
1614404904622,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404904622,1231,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404904622,2033,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2539 Passed:2369 Failed:170
1614404905274,643,selenium_edit_issue:open_edit_issue_form,Success,True
1614404906217,577,selenium_edit_issue:save_edit_issue_form,Success,True
1614404906217,1585,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2540 Passed:2370 Failed:170
1614404906574,355,selenium_save_comment:open_comment_form,Success,True
1614404907544,768,selenium_save_comment:submit_form,Success,True
1614404907544,1326,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2541 Passed:2371 Failed:170
1614404908863,1317,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2542 Passed:2372 Failed:170
1614404910232,1367,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2543 Passed:2373 Failed:170
1614404911047,813,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2544 Passed:2374 Failed:170
1614404911621,572,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2545 Passed:2375 Failed:170
1614404911941,317,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2546 Passed:2376 Failed:170
1614404912583,641,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2547 Passed:2377 Failed:170
1614404913174,588,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2548 Passed:2378 Failed:170
1614404913175,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404913175,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915254', 'issue_key': 'AABIS-690', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2549 Passed:2378 Failed:171
1614404913896,350,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2550 Passed:2379 Failed:171


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915254', 'issue_key': 'AABIS-690', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.52s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404914056,107,selenium_login:open_login_page,Success,True
1614404915278,1221,selenium_login:login_and_view_dashboard,Success,True
1614404915278,1329,selenium_login,Success,True
.test_0_selenium_a_login,Total:2551 Passed:2380 Failed:171
1614404915534,234,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2552 Passed:2381 Failed:171
1614404915827,290,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2553 Passed:2382 Failed:171
1614404916617,780,selenium_create_issue:open_quick_create,Success,True
1614404917771,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404917772,1154,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404917772,1935,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2554 Passed:2383 Failed:171
1614404918408,627,selenium_edit_issue:open_edit_issue_form,Success,True
1614404919358,552,selenium_edit_issue:save_edit_issue_form,Success,True
1614404919358,1577,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2555 Passed:2384 Failed:171
1614404919652,292,selenium_save_comment:open_comment_form,Success,True
1614404920484,670,selenium_save_comment:submit_form,Success,True
1614404920484,1124,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2556 Passed:2385 Failed:171
1614404921905,1418,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2557 Passed:2386 Failed:171
1614404923289,1382,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2558 Passed:2387 Failed:171
1614404924136,844,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2559 Passed:2388 Failed:171
1614404924682,545,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2560 Passed:2389 Failed:171
1614404925009,325,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2561 Passed:2390 Failed:171
1614404925638,627,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2562 Passed:2391 Failed:171
1614404926205,564,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2563 Passed:2392 Failed:171
1614404926206,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404926206,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209986', 'issue_key': 'AAFAIA-4478', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2564 Passed:2392 Failed:172
1614404927076,340,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2565 Passed:2393 Failed:172


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209986', 'issue_key': 'AAFAIA-4478', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.14s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404927234,104,selenium_login:open_login_page,Success,True
1614404927732,497,selenium_login:login_and_view_dashboard,Success,True
1614404927732,602,selenium_login,Success,True
.test_0_selenium_a_login,Total:2566 Passed:2394 Failed:172
1614404928035,291,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2567 Passed:2395 Failed:172
1614404928312,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2568 Passed:2396 Failed:172
1614404929109,788,selenium_create_issue:open_quick_create,Success,True
1614404930358,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404930358,1248,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404930358,2037,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2569 Passed:2397 Failed:172
1614404931001,635,selenium_edit_issue:open_edit_issue_form,Success,True
1614404931900,522,selenium_edit_issue:save_edit_issue_form,Success,True
1614404931900,1533,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2570 Passed:2398 Failed:172
1614404932285,383,selenium_save_comment:open_comment_form,Success,True
1614404933238,787,selenium_save_comment:submit_form,Success,True
1614404933239,1337,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2571 Passed:2399 Failed:172
1614404934597,1356,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2572 Passed:2400 Failed:172
1614404935969,1371,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2573 Passed:2401 Failed:172
1614404936778,806,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2574 Passed:2402 Failed:172
1614404937575,795,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2575 Passed:2403 Failed:172
1614404937843,266,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2576 Passed:2404 Failed:172
1614404938508,663,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2577 Passed:2405 Failed:172
1614404939078,568,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2578 Passed:2406 Failed:172
1614404939079,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404939079,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209679', 'issue_key': 'AAFAIA-4171', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2579 Passed:2406 Failed:173
1614404939910,431,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2580 Passed:2407 Failed:173


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209679', 'issue_key': 'AAFAIA-4171', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.79s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404940076,113,selenium_login:open_login_page,Success,True
1614404940562,486,selenium_login:login_and_view_dashboard,Success,True
1614404940563,599,selenium_login,Success,True
.test_0_selenium_a_login,Total:2581 Passed:2408 Failed:173
1614404940925,345,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2582 Passed:2409 Failed:173
1614404941212,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2583 Passed:2410 Failed:173
1614404942031,810,selenium_create_issue:open_quick_create,Success,True
1614404943257,624,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404943257,1225,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404943257,2036,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2584 Passed:2411 Failed:173
1614404943791,525,selenium_edit_issue:open_edit_issue_form,Success,True
1614404944894,583,selenium_edit_issue:save_edit_issue_form,Success,True
1614404944894,1627,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2585 Passed:2412 Failed:173
1614404945294,398,selenium_save_comment:open_comment_form,Success,True
1614404946178,718,selenium_save_comment:submit_form,Success,True
1614404946178,1283,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2586 Passed:2413 Failed:173
1614404947596,1416,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2587 Passed:2414 Failed:173
1614404948404,806,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2588 Passed:2415 Failed:173
1614404949199,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2589 Passed:2416 Failed:173
1614404949832,631,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2590 Passed:2417 Failed:173
1614404950237,403,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2591 Passed:2418 Failed:173
1614404950887,648,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2592 Passed:2419 Failed:173
1614404951362,473,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2593 Passed:2420 Failed:173
1614404951363,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404951363,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915079', 'issue_key': 'AABIS-515', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2594 Passed:2420 Failed:174
1614404952259,408,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2595 Passed:2421 Failed:174


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915079', 'issue_key': 'AABIS-515', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.31s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404952447,119,selenium_login:open_login_page,Success,True
1614404953834,1387,selenium_login:login_and_view_dashboard,Success,True
1614404953834,1507,selenium_login,Success,True
.test_0_selenium_a_login,Total:2596 Passed:2422 Failed:174
1614404954091,236,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2597 Passed:2423 Failed:174
1614404954374,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2598 Passed:2424 Failed:174
1614404955166,783,selenium_create_issue:open_quick_create,Success,True
1614404956372,626,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404956372,1205,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404956372,1988,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2599 Passed:2425 Failed:174
1614404956996,615,selenium_edit_issue:open_edit_issue_form,Success,True
1614404957938,580,selenium_edit_issue:save_edit_issue_form,Success,True
1614404957938,1557,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2600 Passed:2426 Failed:174
1614404958365,425,selenium_save_comment:open_comment_form,Success,True
1614404959150,680,selenium_save_comment:submit_form,Success,True
1614404959150,1210,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2601 Passed:2427 Failed:174
1614404960685,1532,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2602 Passed:2428 Failed:174
1614404962040,1353,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2603 Passed:2429 Failed:174
1614404962838,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2604 Passed:2430 Failed:174
1614404964232,1392,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2605 Passed:2431 Failed:174
1614404964576,342,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2606 Passed:2432 Failed:174
1614404965135,557,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2607 Passed:2433 Failed:174
1614404965703,565,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2608 Passed:2434 Failed:174
1614404965704,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404965704,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206326', 'issue_key': 'AAFAIA-818', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2609 Passed:2434 Failed:175
1614404966479,310,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2610 Passed:2435 Failed:175


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206326', 'issue_key': 'AAFAIA-818', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 14.16s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404966688,156,selenium_login:open_login_page,Success,True
1614404967241,552,selenium_login:login_and_view_dashboard,Success,True
1614404967241,709,selenium_login,Success,True
.test_0_selenium_a_login,Total:2611 Passed:2436 Failed:175
1614404967520,266,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2612 Passed:2437 Failed:175
1614404967800,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2613 Passed:2438 Failed:175
1614404968596,788,selenium_create_issue:open_quick_create,Success,True
1614404969801,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404969801,1204,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404969801,1993,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2614 Passed:2439 Failed:175
1614404970376,566,selenium_edit_issue:open_edit_issue_form,Success,True
1614404971425,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614404971425,1615,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2615 Passed:2440 Failed:175
1614404971808,381,selenium_save_comment:open_comment_form,Success,True
1614404972752,787,selenium_save_comment:submit_form,Success,True
1614404972752,1326,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2616 Passed:2441 Failed:175
1614404974197,1443,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2617 Passed:2442 Failed:175
1614404975573,1374,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2618 Passed:2443 Failed:175
1614404976375,801,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2619 Passed:2444 Failed:175
1614404977151,774,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2620 Passed:2445 Failed:175
1614404977573,420,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2621 Passed:2446 Failed:175
1614404978279,704,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2622 Passed:2447 Failed:175
1614404978765,485,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2623 Passed:2448 Failed:175
1614404978767,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404978767,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915422', 'issue_key': 'AABIS-858', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2624 Passed:2448 Failed:176
1614404979718,381,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2625 Passed:2449 Failed:176


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '915422', 'issue_key': 'AABIS-858', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.20s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404979881,110,selenium_login:open_login_page,Success,True
1614404981084,1201,selenium_login:login_and_view_dashboard,Success,True
1614404981084,1313,selenium_login,Success,True
.test_0_selenium_a_login,Total:2626 Passed:2450 Failed:176
1614404981420,305,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2627 Passed:2451 Failed:176
1614404981699,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2628 Passed:2452 Failed:176
1614404982477,766,selenium_create_issue:open_quick_create,Success,True
1614404983718,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404983718,1241,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404983718,2008,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2629 Passed:2453 Failed:176
1614404984359,632,selenium_edit_issue:open_edit_issue_form,Success,True
1614404985323,595,selenium_edit_issue:save_edit_issue_form,Success,True
1614404985323,1595,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2630 Passed:2454 Failed:176
1614404985738,413,selenium_save_comment:open_comment_form,Success,True
1614404986654,810,selenium_save_comment:submit_form,Success,True
1614404986654,1329,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2631 Passed:2455 Failed:176
1614404988056,1401,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2632 Passed:2456 Failed:176
1614404989455,1396,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2633 Passed:2457 Failed:176
1614404990271,814,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2634 Passed:2458 Failed:176
1614404990819,546,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2635 Passed:2459 Failed:176
1614404991112,291,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2636 Passed:2460 Failed:176
1614404991841,726,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2637 Passed:2461 Failed:176
1614404992297,454,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2638 Passed:2462 Failed:176
1614404992298,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614404992299,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914755', 'issue_key': 'AABIS-191', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2639 Passed:2462 Failed:177
1614404993050,361,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2640 Passed:2463 Failed:177


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914755', 'issue_key': 'AABIS-191', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.29s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614404993226,111,selenium_login:open_login_page,Success,True
1614404993685,458,selenium_login:login_and_view_dashboard,Success,True
1614404993685,571,selenium_login,Success,True
.test_0_selenium_a_login,Total:2641 Passed:2464 Failed:177
1614404994037,334,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2642 Passed:2465 Failed:177
1614404994309,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2643 Passed:2466 Failed:177
1614404995000,682,selenium_create_issue:open_quick_create,Success,True
1614404996220,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614404996220,1220,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614404996220,1902,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2644 Passed:2467 Failed:177
1614404996886,657,selenium_edit_issue:open_edit_issue_form,Success,True
1614404997852,597,selenium_edit_issue:save_edit_issue_form,Success,True
1614404997852,1624,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2645 Passed:2468 Failed:177
1614404998243,389,selenium_save_comment:open_comment_form,Success,True
1614404999207,801,selenium_save_comment:submit_form,Success,True
1614404999207,1353,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2646 Passed:2469 Failed:177
1614405000537,1328,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2647 Passed:2470 Failed:177
1614405001342,804,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2648 Passed:2471 Failed:177
1614405002138,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2649 Passed:2472 Failed:177
1614405002925,785,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2650 Passed:2473 Failed:177
1614405003190,263,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2651 Passed:2474 Failed:177
1614405003839,647,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2652 Passed:2475 Failed:177
1614405004327,487,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2653 Passed:2476 Failed:177
1614405004328,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405004329,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914961', 'issue_key': 'AABIS-397', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2654 Passed:2476 Failed:178
1614405005195,486,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2655 Passed:2477 Failed:178


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914961', 'issue_key': 'AABIS-397', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.09s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405005369,120,selenium_login:open_login_page,Success,True
1614405005841,471,selenium_login:login_and_view_dashboard,Success,True
1614405005841,592,selenium_login,Success,True
.test_0_selenium_a_login,Total:2656 Passed:2478 Failed:178
1614405006212,356,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2657 Passed:2479 Failed:178
1614405006507,292,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2658 Passed:2480 Failed:178
1614405007190,674,selenium_create_issue:open_quick_create,Success,True
1614405008420,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405008420,1230,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405008420,1904,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2659 Passed:2481 Failed:178
1614405009061,632,selenium_edit_issue:open_edit_issue_form,Success,True
1614405009994,567,selenium_edit_issue:save_edit_issue_form,Success,True
1614405009994,1565,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2660 Passed:2482 Failed:178
1614405010390,394,selenium_save_comment:open_comment_form,Success,True
1614405011297,743,selenium_save_comment:submit_form,Success,True
1614405011297,1302,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2661 Passed:2483 Failed:178
1614405012668,1369,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2662 Passed:2484 Failed:178
1614405014062,1392,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2663 Passed:2485 Failed:178
1614405014860,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2664 Passed:2486 Failed:178
1614405015867,1005,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2665 Passed:2487 Failed:178
1614405016380,511,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2666 Passed:2488 Failed:178
1614405017056,673,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2667 Passed:2489 Failed:178
1614405017537,479,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2668 Passed:2490 Failed:178
1614405017538,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405017538,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914951', 'issue_key': 'AABIS-387', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2669 Passed:2490 Failed:179
1614405018415,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2670 Passed:2491 Failed:179


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914951', 'issue_key': 'AABIS-387', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AAB...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.18s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405018592,124,selenium_login:open_login_page,Success,True
1614405019105,513,selenium_login:login_and_view_dashboard,Success,True
1614405019106,638,selenium_login,Success,True
.test_0_selenium_a_login,Total:2671 Passed:2492 Failed:179
1614405019418,300,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2672 Passed:2493 Failed:179
1614405019699,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2673 Passed:2494 Failed:179
1614405020427,719,selenium_create_issue:open_quick_create,Success,True
1614405021632,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405021632,1204,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405021632,1924,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2674 Passed:2495 Failed:179
1614405022162,521,selenium_edit_issue:open_edit_issue_form,Success,True
1614405023295,651,selenium_edit_issue:save_edit_issue_form,Success,True
1614405023295,1654,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2675 Passed:2496 Failed:179
1614405023703,406,selenium_save_comment:open_comment_form,Success,True
1614405024655,790,selenium_save_comment:submit_form,Success,True
1614405024655,1358,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2676 Passed:2497 Failed:179
1614405025950,1293,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2677 Passed:2498 Failed:179
1614405027310,1359,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2678 Passed:2499 Failed:179
1614405028126,814,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2679 Passed:2500 Failed:179
1614405029002,874,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2680 Passed:2501 Failed:179
1614405029399,394,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2681 Passed:2502 Failed:179
1614405030077,676,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2682 Passed:2503 Failed:179
1614405030488,410,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2683 Passed:2504 Failed:179
1614405030490,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405030490,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207179', 'issue_key': 'AAFAIA-1671', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2684 Passed:2504 Failed:180
1614405031354,434,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2685 Passed:2505 Failed:180


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207179', 'issue_key': 'AAFAIA-1671', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.90s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405031536,126,selenium_login:open_login_page,Success,True
1614405032156,619,selenium_login:login_and_view_dashboard,Success,True
1614405032156,746,selenium_login,Success,True
.test_0_selenium_a_login,Total:2686 Passed:2506 Failed:180
1614405032463,296,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2687 Passed:2507 Failed:180
1614405032742,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2688 Passed:2508 Failed:180
1614405033550,798,selenium_create_issue:open_quick_create,Success,True
1614405034721,648,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405034721,1170,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405034721,1969,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2689 Passed:2509 Failed:180
1614405035260,530,selenium_edit_issue:open_edit_issue_form,Success,True
1614405036286,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614405036287,1557,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2690 Passed:2510 Failed:180
1614405036706,418,selenium_save_comment:open_comment_form,Success,True
1614405037620,767,selenium_save_comment:submit_form,Success,True
1614405037620,1332,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2691 Passed:2511 Failed:180
1614405038895,1273,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2692 Passed:2512 Failed:180
1614405040269,1372,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2693 Passed:2513 Failed:180
1614405041098,827,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2694 Passed:2514 Failed:180
1614405041815,715,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2695 Passed:2515 Failed:180
1614405042208,391,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2696 Passed:2516 Failed:180
1614405042855,645,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2697 Passed:2517 Failed:180
1614405043283,426,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2698 Passed:2518 Failed:180
1614405043284,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405043284,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211936', 'issue_key': 'AAFAIA-6428', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2699 Passed:2518 Failed:181
1614405044102,331,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2700 Passed:2519 Failed:181


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211936', 'issue_key': 'AAFAIA-6428', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.70s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405044265,111,selenium_login:open_login_page,Success,True
1614405044852,586,selenium_login:login_and_view_dashboard,Success,True
1614405044852,698,selenium_login,Success,True
.test_0_selenium_a_login,Total:2701 Passed:2520 Failed:181
1614405045202,338,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2702 Passed:2521 Failed:181
1614405045494,290,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2703 Passed:2522 Failed:181
1614405046306,803,selenium_create_issue:open_quick_create,Success,True
1614405047516,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405047516,1210,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405047516,2013,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2704 Passed:2523 Failed:181
1614405048060,535,selenium_edit_issue:open_edit_issue_form,Success,True
1614405049167,613,selenium_edit_issue:save_edit_issue_form,Success,True
1614405049167,1642,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2705 Passed:2524 Failed:181
1614405049587,418,selenium_save_comment:open_comment_form,Success,True
1614405050463,718,selenium_save_comment:submit_form,Success,True
1614405050463,1294,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2706 Passed:2525 Failed:181
1614405051843,1379,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2707 Passed:2526 Failed:181
1614405052701,856,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2708 Passed:2527 Failed:181
1614405053501,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2709 Passed:2528 Failed:181
1614405054264,762,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2710 Passed:2529 Failed:181
1614405054527,261,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2711 Passed:2530 Failed:181
1614405055176,648,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2712 Passed:2531 Failed:181
1614405055675,497,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2713 Passed:2532 Failed:181
1614405055677,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405055677,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208374', 'issue_key': 'AAFAIA-2866', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2714 Passed:2532 Failed:182
1614405056552,345,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2715 Passed:2533 Failed:182


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208374', 'issue_key': 'AAFAIA-2866', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.41s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405056709,103,selenium_login:open_login_page,Success,True
1614405058131,1422,selenium_login:login_and_view_dashboard,Success,True
1614405058131,1526,selenium_login,Success,True
.test_0_selenium_a_login,Total:2716 Passed:2534 Failed:182
1614405058403,246,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2717 Passed:2535 Failed:182
1614405058748,344,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2718 Passed:2536 Failed:182
1614405059523,765,selenium_create_issue:open_quick_create,Success,True
1614405060716,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405060716,1192,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405060716,1957,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2719 Passed:2537 Failed:182
1614405061270,544,selenium_edit_issue:open_edit_issue_form,Success,True
1614405062319,561,selenium_edit_issue:save_edit_issue_form,Success,True
1614405062319,1594,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2720 Passed:2538 Failed:182
1614405062733,412,selenium_save_comment:open_comment_form,Success,True
1614405063597,701,selenium_save_comment:submit_form,Success,True
1614405063597,1277,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2721 Passed:2539 Failed:182
1614405064945,1346,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2722 Passed:2540 Failed:182
1614405066390,1442,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2723 Passed:2541 Failed:182
1614405067196,804,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2724 Passed:2542 Failed:182
1614405067831,634,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2725 Passed:2543 Failed:182
1614405068223,390,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2726 Passed:2544 Failed:182
1614405068877,652,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2727 Passed:2545 Failed:182
1614405069356,477,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2728 Passed:2546 Failed:182
1614405069357,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405069358,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205763', 'issue_key': 'AAFAIA-255', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2729 Passed:2546 Failed:183
1614405070161,337,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2730 Passed:2547 Failed:183


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '205763', 'issue_key': 'AAFAIA-255', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.57s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405070319,105,selenium_login:open_login_page,Success,True
1614405070775,454,selenium_login:login_and_view_dashboard,Success,True
1614405070775,561,selenium_login,Success,True
.test_0_selenium_a_login,Total:2731 Passed:2548 Failed:183
1614405071179,385,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2732 Passed:2549 Failed:183
1614405071499,318,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2733 Passed:2550 Failed:183
1614405072338,830,selenium_create_issue:open_quick_create,Success,True
1614405073482,617,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405073482,1143,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405073482,1974,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2734 Passed:2551 Failed:183
1614405074019,529,selenium_edit_issue:open_edit_issue_form,Success,True
1614405075087,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614405075087,1597,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2735 Passed:2552 Failed:183
1614405075502,414,selenium_save_comment:open_comment_form,Success,True
1614405076464,795,selenium_save_comment:submit_form,Success,True
1614405076464,1375,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2736 Passed:2553 Failed:183
1614405077786,1320,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2737 Passed:2554 Failed:183
1614405079155,1367,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2738 Passed:2555 Failed:183
1614405079964,807,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2739 Passed:2556 Failed:183
1614405080872,906,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2740 Passed:2557 Failed:183
1614405081319,446,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2741 Passed:2558 Failed:183
1614405082039,717,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2742 Passed:2559 Failed:183
1614405082507,466,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2743 Passed:2560 Failed:183
1614405082509,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405082509,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211526', 'issue_key': 'AAFAIA-6018', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2744 Passed:2560 Failed:184
1614405083375,297,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2745 Passed:2561 Failed:184


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211526', 'issue_key': 'AAFAIA-6018', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.17s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405083531,103,selenium_login:open_login_page,Success,True
1614405084053,521,selenium_login:login_and_view_dashboard,Success,True
1614405084053,625,selenium_login,Success,True
.test_0_selenium_a_login,Total:2746 Passed:2562 Failed:184
1614405084386,322,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2747 Passed:2563 Failed:184
1614405084687,299,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2748 Passed:2564 Failed:184
1614405085502,807,selenium_create_issue:open_quick_create,Success,True
1614405086764,635,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405086764,1261,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405086764,2069,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2749 Passed:2565 Failed:184
1614405087281,507,selenium_edit_issue:open_edit_issue_form,Success,True
1614405088308,535,selenium_edit_issue:save_edit_issue_form,Success,True
1614405088308,1534,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2750 Passed:2566 Failed:184
1614405088667,357,selenium_save_comment:open_comment_form,Success,True
1614405089584,723,selenium_save_comment:submit_form,Success,True
1614405089584,1274,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2751 Passed:2567 Failed:184
1614405090939,1353,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2752 Passed:2568 Failed:184
1614405092312,1371,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2753 Passed:2569 Failed:184
1614405093108,794,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2754 Passed:2570 Failed:184
1614405093639,529,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2755 Passed:2571 Failed:184
1614405093938,297,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2756 Passed:2572 Failed:184
1614405094580,640,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2757 Passed:2573 Failed:184
1614405095013,431,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2758 Passed:2574 Failed:184
1614405095015,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405095015,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208159', 'issue_key': 'AAFAIA-2651', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2759 Passed:2574 Failed:185
1614405095889,342,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2760 Passed:2575 Failed:185


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208159', 'issue_key': 'AAFAIA-2651', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.47s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405096051,109,selenium_login:open_login_page,Success,True
1614405096553,502,selenium_login:login_and_view_dashboard,Success,True
1614405096553,611,selenium_login,Success,True
.test_0_selenium_a_login,Total:2761 Passed:2576 Failed:185
1614405096833,268,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2762 Passed:2577 Failed:185
1614405097117,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2763 Passed:2578 Failed:185
1614405097923,796,selenium_create_issue:open_quick_create,Success,True
1614405099212,642,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405099212,1289,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405099212,2086,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2764 Passed:2579 Failed:185
1614405099755,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614405100797,562,selenium_edit_issue:save_edit_issue_form,Success,True
1614405100797,1575,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2765 Passed:2580 Failed:185
1614405101199,400,selenium_save_comment:open_comment_form,Success,True
1614405102122,761,selenium_save_comment:submit_form,Success,True
1614405102122,1324,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2766 Passed:2581 Failed:185
1614405103508,1384,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2767 Passed:2582 Failed:185
1614405104914,1404,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2768 Passed:2583 Failed:185
1614405105751,835,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2769 Passed:2584 Failed:185
1614405106394,641,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2770 Passed:2585 Failed:185
1614405106748,351,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2771 Passed:2586 Failed:185
1614405107363,613,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2772 Passed:2587 Failed:185
1614405107797,432,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2773 Passed:2588 Failed:185
1614405107799,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405107799,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212286', 'issue_key': 'AAFAIA-6778', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2774 Passed:2588 Failed:186
1614405108615,433,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2775 Passed:2589 Failed:186


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212286', 'issue_key': 'AAFAIA-6778', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.68s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405108777,109,selenium_login:open_login_page,Success,True
1614405109251,474,selenium_login:login_and_view_dashboard,Success,True
1614405109252,584,selenium_login,Success,True
.test_0_selenium_a_login,Total:2776 Passed:2590 Failed:186
1614405109560,290,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2777 Passed:2591 Failed:186
1614405109832,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2778 Passed:2592 Failed:186
1614405110507,667,selenium_create_issue:open_quick_create,Success,True
1614405111658,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405111658,1150,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405111658,1818,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2779 Passed:2593 Failed:186
1614405112388,720,selenium_edit_issue:open_edit_issue_form,Success,True
1614405113289,618,selenium_edit_issue:save_edit_issue_form,Success,True
1614405113289,1621,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2780 Passed:2594 Failed:186
1614405113658,367,selenium_save_comment:open_comment_form,Success,True
1614405114497,674,selenium_save_comment:submit_form,Success,True
1614405114497,1206,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2781 Passed:2595 Failed:186
1614405115803,1304,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2782 Passed:2596 Failed:186
1614405116796,991,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2783 Passed:2597 Failed:186
1614405117686,888,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2784 Passed:2598 Failed:186
1614405118449,762,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2785 Passed:2599 Failed:186
1614405118834,384,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2786 Passed:2600 Failed:186
1614405119448,612,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2787 Passed:2601 Failed:186
1614405119950,500,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2788 Passed:2602 Failed:186
1614405119951,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405119951,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209566', 'issue_key': 'AAFAIA-4058', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2789 Passed:2602 Failed:187
1614405120767,335,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2790 Passed:2603 Failed:187


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209566', 'issue_key': 'AAFAIA-4058', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.11s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405120946,126,selenium_login:open_login_page,Success,True
1614405121466,519,selenium_login:login_and_view_dashboard,Success,True
1614405121466,646,selenium_login,Success,True
.test_0_selenium_a_login,Total:2791 Passed:2604 Failed:187
1614405121817,331,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2792 Passed:2605 Failed:187
1614405122102,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2793 Passed:2606 Failed:187
1614405122895,784,selenium_create_issue:open_quick_create,Success,True
1614405124130,621,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405124130,1235,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405124131,2019,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2794 Passed:2607 Failed:187
1614405124776,636,selenium_edit_issue:open_edit_issue_form,Success,True
1614405125696,542,selenium_edit_issue:save_edit_issue_form,Success,True
1614405125696,1556,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2795 Passed:2608 Failed:187
1614405126086,389,selenium_save_comment:open_comment_form,Success,True
1614405127005,754,selenium_save_comment:submit_form,Success,True
1614405127005,1307,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2796 Passed:2609 Failed:187
1614405128373,1367,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2797 Passed:2610 Failed:187
1614405129180,805,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2798 Passed:2611 Failed:187
1614405129982,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2799 Passed:2612 Failed:187
1614405130491,507,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2800 Passed:2613 Failed:187
1614405130773,280,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2801 Passed:2614 Failed:187
1614405131463,688,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2802 Passed:2615 Failed:187
1614405131969,503,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2803 Passed:2616 Failed:187
1614405131971,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405131971,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210962', 'issue_key': 'AAFAIA-5454', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2804 Passed:2616 Failed:188
1614405132816,327,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2805 Passed:2617 Failed:188


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210962', 'issue_key': 'AAFAIA-5454', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.01s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405132977,105,selenium_login:open_login_page,Success,True
1614405133455,478,selenium_login:login_and_view_dashboard,Success,True
1614405133455,584,selenium_login,Success,True
.test_0_selenium_a_login,Total:2806 Passed:2618 Failed:188
1614405133729,262,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2807 Passed:2619 Failed:188
1614405134014,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2808 Passed:2620 Failed:188
1614405134820,797,selenium_create_issue:open_quick_create,Success,True
1614405135976,619,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405135976,1155,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405135976,1953,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2809 Passed:2621 Failed:188
1614405136495,507,selenium_edit_issue:open_edit_issue_form,Success,True
1614405137661,694,selenium_edit_issue:save_edit_issue_form,Success,True
1614405137661,1673,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2810 Passed:2622 Failed:188
1614405138072,409,selenium_save_comment:open_comment_form,Success,True
1614405138919,681,selenium_save_comment:submit_form,Success,True
1614405138919,1256,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2811 Passed:2623 Failed:188
1614405140280,1358,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2812 Passed:2624 Failed:188
1614405141679,1398,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2813 Passed:2625 Failed:188
1614405142490,809,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2814 Passed:2626 Failed:188
1614405142969,478,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2815 Passed:2627 Failed:188
1614405143260,289,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2816 Passed:2628 Failed:188
1614405143812,549,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2817 Passed:2629 Failed:188
1614405144273,459,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2818 Passed:2630 Failed:188
1614405144275,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405144275,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210725', 'issue_key': 'AAFAIA-5217', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2819 Passed:2630 Failed:189
1614405145057,319,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2820 Passed:2631 Failed:189


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210725', 'issue_key': 'AAFAIA-5217', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.20s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405145222,111,selenium_login:open_login_page,Success,True
1614405145710,488,selenium_login:login_and_view_dashboard,Success,True
1614405145710,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:2821 Passed:2632 Failed:189
1614405146000,279,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2822 Passed:2633 Failed:189
1614405146290,288,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2823 Passed:2634 Failed:189
1614405147091,791,selenium_create_issue:open_quick_create,Success,True
1614405148315,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405148315,1224,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405148315,2015,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2824 Passed:2635 Failed:189
1614405148954,630,selenium_edit_issue:open_edit_issue_form,Success,True
1614405149869,535,selenium_edit_issue:save_edit_issue_form,Success,True
1614405149869,1544,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2825 Passed:2636 Failed:189
1614405150259,389,selenium_save_comment:open_comment_form,Success,True
1614405151119,687,selenium_save_comment:submit_form,Success,True
1614405151119,1249,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2826 Passed:2637 Failed:189
1614405152537,1416,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2827 Passed:2638 Failed:189
1614405153357,818,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2828 Passed:2639 Failed:189
1614405154158,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2829 Passed:2640 Failed:189
1614405154746,585,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2830 Passed:2641 Failed:189
1614405155074,326,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2831 Passed:2642 Failed:189
1614405155641,565,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2832 Passed:2643 Failed:189
1614405156133,491,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2833 Passed:2644 Failed:189
1614405156135,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405156135,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208359', 'issue_key': 'AAFAIA-2851', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2834 Passed:2644 Failed:190
1614405156946,425,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2835 Passed:2645 Failed:190


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208359', 'issue_key': 'AAFAIA-2851', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.85s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405157106,106,selenium_login:open_login_page,Success,True
1614405157611,504,selenium_login:login_and_view_dashboard,Success,True
1614405157611,612,selenium_login,Success,True
.test_0_selenium_a_login,Total:2836 Passed:2646 Failed:190
1614405157929,306,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2837 Passed:2647 Failed:190
1614405158220,289,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2838 Passed:2648 Failed:190
1614405158904,673,selenium_create_issue:open_quick_create,Success,True
1614405160071,616,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405160071,1167,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405160071,1841,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2839 Passed:2649 Failed:190
1614405160661,581,selenium_edit_issue:open_edit_issue_form,Success,True
1614405161689,554,selenium_edit_issue:save_edit_issue_form,Success,True
1614405161689,1609,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2840 Passed:2650 Failed:190
1614405162075,385,selenium_save_comment:open_comment_form,Success,True
1614405162965,711,selenium_save_comment:submit_form,Success,True
1614405162965,1274,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2841 Passed:2651 Failed:190
1614405164435,1469,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2842 Passed:2652 Failed:190
1614405165235,798,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2843 Passed:2653 Failed:190
1614405166041,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2844 Passed:2654 Failed:190
1614405166755,712,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2845 Passed:2655 Failed:190
1614405167120,363,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2846 Passed:2656 Failed:190
1614405167760,638,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2847 Passed:2657 Failed:190
1614405168179,417,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2848 Passed:2658 Failed:190
1614405168181,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405168181,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212151', 'issue_key': 'AAFAIA-6643', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2849 Passed:2658 Failed:191
1614405169033,416,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2850 Passed:2659 Failed:191


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212151', 'issue_key': 'AAFAIA-6643', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.04s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405169190,105,selenium_login:open_login_page,Success,True
1614405169659,468,selenium_login:login_and_view_dashboard,Success,True
1614405169659,574,selenium_login,Success,True
.test_0_selenium_a_login,Total:2851 Passed:2660 Failed:191
1614405170008,335,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2852 Passed:2661 Failed:191
1614405170287,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2853 Passed:2662 Failed:191
1614405171084,788,selenium_create_issue:open_quick_create,Success,True
1614405172264,615,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405172264,1179,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405172264,1968,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2854 Passed:2663 Failed:191
1614405172818,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614405173886,601,selenium_edit_issue:save_edit_issue_form,Success,True
1614405173886,1602,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2855 Passed:2664 Failed:191
1614405174295,407,selenium_save_comment:open_comment_form,Success,True
1614405175156,706,selenium_save_comment:submit_form,Success,True
1614405175156,1268,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2856 Passed:2665 Failed:191
1614405176452,1294,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2857 Passed:2666 Failed:191
1614405177343,888,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2858 Passed:2667 Failed:191
1614405178196,852,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2859 Passed:2668 Failed:191
1614405179072,874,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2860 Passed:2669 Failed:191
1614405179482,409,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2861 Passed:2670 Failed:191
1614405180067,582,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2862 Passed:2671 Failed:191
1614405180555,485,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2863 Passed:2672 Failed:191
1614405180556,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405180556,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210142', 'issue_key': 'AAFAIA-4634', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2864 Passed:2672 Failed:192
1614405181430,332,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2865 Passed:2673 Failed:192


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210142', 'issue_key': 'AAFAIA-4634', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.36s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405181655,112,selenium_login:open_login_page,Success,True
1614405182913,1257,selenium_login:login_and_view_dashboard,Success,True
1614405182913,1370,selenium_login,Success,True
.test_0_selenium_a_login,Total:2866 Passed:2674 Failed:192
1614405183237,284,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2867 Passed:2675 Failed:192
1614405183509,271,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2868 Passed:2676 Failed:192
1614405184296,778,selenium_create_issue:open_quick_create,Success,True
1614405185522,636,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405185522,1225,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405185522,2004,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2869 Passed:2677 Failed:192
1614405186054,521,selenium_edit_issue:open_edit_issue_form,Success,True
1614405187126,599,selenium_edit_issue:save_edit_issue_form,Success,True
1614405187126,1594,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2870 Passed:2678 Failed:192
1614405187611,482,selenium_save_comment:open_comment_form,Success,True
1614405188496,783,selenium_save_comment:submit_form,Success,True
1614405188496,1367,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2871 Passed:2679 Failed:192
1614405189824,1327,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2872 Passed:2680 Failed:192
1614405190695,868,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2873 Passed:2681 Failed:192
1614405191500,803,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2874 Passed:2682 Failed:192
1614405192073,572,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2875 Passed:2683 Failed:192
1614405192394,319,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2876 Passed:2684 Failed:192
1614405193080,684,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2877 Passed:2685 Failed:192
1614405193501,419,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2878 Passed:2686 Failed:192
1614405193502,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405193502,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208755', 'issue_key': 'AAFAIA-3247', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2879 Passed:2686 Failed:193
1614405194357,323,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2880 Passed:2687 Failed:193


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208755', 'issue_key': 'AAFAIA-3247', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.82s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405194526,116,selenium_login:open_login_page,Success,True
1614405195019,492,selenium_login:login_and_view_dashboard,Success,True
1614405195019,609,selenium_login,Success,True
.test_0_selenium_a_login,Total:2881 Passed:2688 Failed:193
1614405195332,301,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2882 Passed:2689 Failed:193
1614405195600,266,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2883 Passed:2690 Failed:193
1614405196277,668,selenium_create_issue:open_quick_create,Success,True
1614405197418,611,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405197418,1140,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405197418,1809,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2884 Passed:2691 Failed:193
1614405197972,544,selenium_edit_issue:open_edit_issue_form,Success,True
1614405199071,620,selenium_edit_issue:save_edit_issue_form,Success,True
1614405199071,1643,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2885 Passed:2692 Failed:193
1614405199435,361,selenium_save_comment:open_comment_form,Success,True
1614405200336,734,selenium_save_comment:submit_form,Success,True
1614405200336,1263,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2886 Passed:2693 Failed:193
1614405201728,1390,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2887 Passed:2694 Failed:193
1614405203066,1336,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2888 Passed:2695 Failed:193
1614405203893,826,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2889 Passed:2696 Failed:193
1614405204532,637,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2890 Passed:2697 Failed:193
1614405204901,367,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2891 Passed:2698 Failed:193
1614405205507,604,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2892 Passed:2699 Failed:193
1614405206073,563,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2893 Passed:2700 Failed:193
1614405206074,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405206074,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211937', 'issue_key': 'AAFAIA-6429', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2894 Passed:2700 Failed:194
1614405206809,371,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2895 Passed:2701 Failed:194


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211937', 'issue_key': 'AAFAIA-6429', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.41s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405206968,105,selenium_login:open_login_page,Success,True
1614405207539,571,selenium_login:login_and_view_dashboard,Success,True
1614405207539,677,selenium_login,Success,True
.test_0_selenium_a_login,Total:2896 Passed:2702 Failed:194
1614405207834,284,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2897 Passed:2703 Failed:194
1614405208110,274,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2898 Passed:2704 Failed:194
1614405208905,786,selenium_create_issue:open_quick_create,Success,True
1614405210109,611,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405210109,1203,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405210109,1990,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2899 Passed:2705 Failed:194
1614405210805,687,selenium_edit_issue:open_edit_issue_form,Success,True
1614405211736,559,selenium_edit_issue:save_edit_issue_form,Success,True
1614405211736,1618,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2900 Passed:2706 Failed:194
1614405212049,311,selenium_save_comment:open_comment_form,Success,True
1614405212927,711,selenium_save_comment:submit_form,Success,True
1614405212927,1189,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2901 Passed:2707 Failed:194
1614405214340,1412,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2902 Passed:2708 Failed:194
1614405215691,1349,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2903 Passed:2709 Failed:194
1614405216484,791,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2904 Passed:2710 Failed:194
1614405217803,1317,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2905 Passed:2711 Failed:194
1614405218073,268,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2906 Passed:2712 Failed:194
1614405218764,689,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2907 Passed:2713 Failed:194
1614405219177,410,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2908 Passed:2714 Failed:194
1614405219178,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405219178,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207624', 'issue_key': 'AAFAIA-2116', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2909 Passed:2714 Failed:195
1614405220041,399,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2910 Passed:2715 Failed:195


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '207624', 'issue_key': 'AAFAIA-2116', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.19s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405220205,110,selenium_login:open_login_page,Success,True
1614405220808,602,selenium_login:login_and_view_dashboard,Success,True
1614405220808,712,selenium_login,Success,True
.test_0_selenium_a_login,Total:2911 Passed:2716 Failed:195
1614405221100,280,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2912 Passed:2717 Failed:195
1614405221382,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2913 Passed:2718 Failed:195
1614405222088,697,selenium_create_issue:open_quick_create,Success,True
1614405223328,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405223328,1240,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405223328,1937,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2914 Passed:2719 Failed:195
1614405223981,644,selenium_edit_issue:open_edit_issue_form,Success,True
1614405224894,543,selenium_edit_issue:save_edit_issue_form,Success,True
1614405224894,1557,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2915 Passed:2720 Failed:195
1614405225285,389,selenium_save_comment:open_comment_form,Success,True
1614405226195,735,selenium_save_comment:submit_form,Success,True
1614405226195,1299,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2916 Passed:2721 Failed:195
1614405227552,1356,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2917 Passed:2722 Failed:195
1614405228968,1415,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2918 Passed:2723 Failed:195
1614405229753,783,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2919 Passed:2724 Failed:195
1614405230523,768,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2920 Passed:2725 Failed:195
1614405230963,438,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2921 Passed:2726 Failed:195
1614405231638,673,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2922 Passed:2727 Failed:195
1614405232063,422,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2923 Passed:2728 Failed:195
1614405232064,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405232064,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212360', 'issue_key': 'AAFAIA-6852', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2924 Passed:2728 Failed:196
1614405232821,367,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2925 Passed:2729 Failed:196


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212360', 'issue_key': 'AAFAIA-6852', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.74s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405232980,106,selenium_login:open_login_page,Success,True
1614405233499,518,selenium_login:login_and_view_dashboard,Success,True
1614405233499,625,selenium_login,Success,True
.test_0_selenium_a_login,Total:2926 Passed:2730 Failed:196
1614405233792,281,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2927 Passed:2731 Failed:196
1614405234073,279,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2928 Passed:2732 Failed:196
1614405234904,822,selenium_create_issue:open_quick_create,Success,True
1614405236086,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405236086,1181,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405236086,2005,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2929 Passed:2733 Failed:196
1614405236717,621,selenium_edit_issue:open_edit_issue_form,Success,True
1614405237652,546,selenium_edit_issue:save_edit_issue_form,Success,True
1614405237653,1557,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2930 Passed:2734 Failed:196
1614405238048,393,selenium_save_comment:open_comment_form,Success,True
1614405238967,752,selenium_save_comment:submit_form,Success,True
1614405238967,1313,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2931 Passed:2735 Failed:196
1614405240262,1293,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2932 Passed:2736 Failed:196
1614405241084,820,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2933 Passed:2737 Failed:196
1614405241988,901,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2934 Passed:2738 Failed:196
1614405242713,723,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2935 Passed:2739 Failed:196
1614405243105,390,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2936 Passed:2740 Failed:196
1614405243790,684,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2937 Passed:2741 Failed:196
1614405244266,474,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2938 Passed:2742 Failed:196
1614405244267,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405244267,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206207', 'issue_key': 'AAFAIA-699', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2939 Passed:2742 Failed:197
1614405245057,415,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2940 Passed:2743 Failed:197


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206207', 'issue_key': 'AAFAIA-699', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.19s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405245235,112,selenium_login:open_login_page,Success,True
1614405245733,497,selenium_login:login_and_view_dashboard,Success,True
1614405245733,610,selenium_login,Success,True
.test_0_selenium_a_login,Total:2941 Passed:2744 Failed:197
1614405246022,277,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2942 Passed:2745 Failed:197
1614405246301,277,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2943 Passed:2746 Failed:197
1614405247115,804,selenium_create_issue:open_quick_create,Success,True
1614405248359,625,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405248359,1244,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405248359,2049,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2944 Passed:2747 Failed:197
1614405249110,742,selenium_edit_issue:open_edit_issue_form,Success,True
1614405249974,576,selenium_edit_issue:save_edit_issue_form,Success,True
1614405249975,1607,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2945 Passed:2748 Failed:197
1614405250395,419,selenium_save_comment:open_comment_form,Success,True
1614405251377,811,selenium_save_comment:submit_form,Success,True
1614405251377,1400,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2946 Passed:2749 Failed:197
1614405252695,1316,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2947 Passed:2750 Failed:197
1614405253500,804,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2948 Passed:2751 Failed:197
1614405254302,800,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2949 Passed:2752 Failed:197
1614405254792,488,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2950 Passed:2753 Failed:197
1614405255058,263,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2951 Passed:2754 Failed:197
1614405255749,689,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2952 Passed:2755 Failed:197
1614405256202,452,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2953 Passed:2756 Failed:197
1614405256203,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405256203,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209895', 'issue_key': 'AAFAIA-4387', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2954 Passed:2756 Failed:198
1614405257055,348,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2955 Passed:2757 Failed:198


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209895', 'issue_key': 'AAFAIA-4387', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.94s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405257220,113,selenium_login:open_login_page,Success,True
1614405257760,539,selenium_login:login_and_view_dashboard,Success,True
1614405257761,653,selenium_login,Success,True
.test_0_selenium_a_login,Total:2956 Passed:2758 Failed:198
1614405258063,291,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2957 Passed:2759 Failed:198
1614405258353,287,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2958 Passed:2760 Failed:198
1614405259038,675,selenium_create_issue:open_quick_create,Success,True
1614405260230,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405260230,1191,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405260230,1867,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2959 Passed:2761 Failed:198
1614405260875,636,selenium_edit_issue:open_edit_issue_form,Success,True
1614405261824,573,selenium_edit_issue:save_edit_issue_form,Success,True
1614405261824,1585,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2960 Passed:2762 Failed:198
1614405262207,381,selenium_save_comment:open_comment_form,Success,True
1614405263074,703,selenium_save_comment:submit_form,Success,True
1614405263074,1248,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2961 Passed:2763 Failed:198
1614405264550,1474,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2962 Passed:2764 Failed:198
1614405265352,801,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2963 Passed:2765 Failed:198
1614405266164,809,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2964 Passed:2766 Failed:198
1614405266807,642,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2965 Passed:2767 Failed:198
1614405267173,364,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2966 Passed:2768 Failed:198
1614405267814,639,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2967 Passed:2769 Failed:198
1614405268304,488,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2968 Passed:2770 Failed:198
1614405268305,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405268305,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211417', 'issue_key': 'AAFAIA-5909', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2969 Passed:2770 Failed:199
1614405269095,437,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2970 Passed:2771 Failed:199


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211417', 'issue_key': 'AAFAIA-5909', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.00s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405269271,120,selenium_login:open_login_page,Success,True
1614405269796,525,selenium_login:login_and_view_dashboard,Success,True
1614405269796,646,selenium_login,Success,True
.test_0_selenium_a_login,Total:2971 Passed:2772 Failed:199
1614405270141,326,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2972 Passed:2773 Failed:199
1614405270891,748,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2973 Passed:2774 Failed:199
1614405271703,803,selenium_create_issue:open_quick_create,Success,True
1614405272885,622,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405272885,1182,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405272885,1985,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2974 Passed:2775 Failed:199
1614405273531,637,selenium_edit_issue:open_edit_issue_form,Success,True
1614405274457,556,selenium_edit_issue:save_edit_issue_form,Success,True
1614405274457,1563,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2975 Passed:2776 Failed:199
1614405274840,381,selenium_save_comment:open_comment_form,Success,True
1614405275802,792,selenium_save_comment:submit_form,Success,True
1614405275802,1343,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2976 Passed:2777 Failed:199
1614405277085,1281,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2977 Passed:2778 Failed:199
1614405277887,801,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2978 Passed:2779 Failed:199
1614405278695,805,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2979 Passed:2780 Failed:199
1614405279438,741,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2980 Passed:2781 Failed:199
1614405279842,402,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2981 Passed:2782 Failed:199
1614405280583,739,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2982 Passed:2783 Failed:199
1614405280998,413,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2983 Passed:2784 Failed:199
1614405281000,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405281000,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208665', 'issue_key': 'AAFAIA-3157', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2984 Passed:2784 Failed:200
1614405281845,336,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:2985 Passed:2785 Failed:200


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '208665', 'issue_key': 'AAFAIA-3157', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.71s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405282028,119,selenium_login:open_login_page,Success,True
1614405282597,568,selenium_login:login_and_view_dashboard,Success,True
1614405282597,688,selenium_login,Success,True
.test_0_selenium_a_login,Total:2986 Passed:2786 Failed:200
1614405283017,320,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:2987 Passed:2787 Failed:200
1614405283300,282,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:2988 Passed:2788 Failed:200
1614405284082,773,selenium_create_issue:open_quick_create,Success,True
1614405285268,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405285268,1185,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405285268,1959,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:2989 Passed:2789 Failed:200
1614405285816,538,selenium_edit_issue:open_edit_issue_form,Success,True
1614405286893,593,selenium_edit_issue:save_edit_issue_form,Success,True
1614405286893,1615,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:2990 Passed:2790 Failed:200
1614405287258,363,selenium_save_comment:open_comment_form,Success,True
1614405288425,1002,selenium_save_comment:submit_form,Success,True
1614405288425,1530,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:2991 Passed:2791 Failed:200
1614405289744,1317,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:2992 Passed:2792 Failed:200
1614405290566,821,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:2993 Passed:2793 Failed:200
1614405291376,808,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:2994 Passed:2794 Failed:200
1614405292202,824,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:2995 Passed:2795 Failed:200
1614405292683,479,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:2996 Passed:2796 Failed:200
1614405293342,658,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:2997 Passed:2797 Failed:200
1614405293854,510,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:2998 Passed:2798 Failed:200
1614405293856,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405293856,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210042', 'issue_key': 'AAFAIA-4534', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:2999 Passed:2798 Failed:201
1614405294729,354,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3000 Passed:2799 Failed:201


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210042', 'issue_key': 'AAFAIA-4534', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.83s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405294886,105,selenium_login:open_login_page,Success,True
1614405295329,443,selenium_login:login_and_view_dashboard,Success,True
1614405295330,548,selenium_login,Success,True
.test_0_selenium_a_login,Total:3001 Passed:2800 Failed:201
1614405295703,356,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3002 Passed:2801 Failed:201
1614405296016,310,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3003 Passed:2802 Failed:201
1614405296686,661,selenium_create_issue:open_quick_create,Success,True
1614405297791,610,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405297791,1104,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405297791,1766,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3004 Passed:2803 Failed:201
1614405298463,662,selenium_edit_issue:open_edit_issue_form,Success,True
1614405299384,548,selenium_edit_issue:save_edit_issue_form,Success,True
1614405299384,1584,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3005 Passed:2804 Failed:201
1614405299779,393,selenium_save_comment:open_comment_form,Success,True
1614405300732,794,selenium_save_comment:submit_form,Success,True
1614405300732,1346,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3006 Passed:2805 Failed:201
1614405302055,1321,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3007 Passed:2806 Failed:201
1614405303439,1382,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3008 Passed:2807 Failed:201
1614405304236,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3009 Passed:2808 Failed:201
1614405304615,376,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3010 Passed:2809 Failed:201
1614405304856,240,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3011 Passed:2810 Failed:201
1614405305574,716,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3012 Passed:2811 Failed:201
1614405306018,442,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3013 Passed:2812 Failed:201
1614405306020,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405306020,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210803', 'issue_key': 'AAFAIA-5295', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3014 Passed:2812 Failed:202
1614405306908,337,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3015 Passed:2813 Failed:202


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '210803', 'issue_key': 'AAFAIA-5295', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.14s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405307070,107,selenium_login:open_login_page,Success,True
1614405307563,492,selenium_login:login_and_view_dashboard,Success,True
1614405307563,600,selenium_login,Success,True
.test_0_selenium_a_login,Total:3016 Passed:2814 Failed:202
1614405307846,271,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3017 Passed:2815 Failed:202
1614405308118,271,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3018 Passed:2816 Failed:202
1614405308935,808,selenium_create_issue:open_quick_create,Success,True
1614405310123,614,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405310123,1187,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405310123,1996,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3019 Passed:2817 Failed:202
1614405310783,650,selenium_edit_issue:open_edit_issue_form,Success,True
1614405311745,589,selenium_edit_issue:save_edit_issue_form,Success,True
1614405311745,1613,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3020 Passed:2818 Failed:202
1614405312186,438,selenium_save_comment:open_comment_form,Success,True
1614405313046,756,selenium_save_comment:submit_form,Success,True
1614405313046,1299,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3021 Passed:2819 Failed:202
1614405314340,1292,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3022 Passed:2820 Failed:202
1614405315149,807,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3023 Passed:2821 Failed:202
1614405315947,796,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3024 Passed:2822 Failed:202
1614405316743,794,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3025 Passed:2823 Failed:202
1614405317135,390,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3026 Passed:2824 Failed:202
1614405317861,723,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3027 Passed:2825 Failed:202
1614405318283,420,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3028 Passed:2826 Failed:202
1614405318284,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405318284,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211178', 'issue_key': 'AAFAIA-5670', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3029 Passed:2826 Failed:203
1614405319074,384,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3030 Passed:2827 Failed:203


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211178', 'issue_key': 'AAFAIA-5670', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.12s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405319250,120,selenium_login:open_login_page,Success,True
1614405319781,531,selenium_login:login_and_view_dashboard,Success,True
1614405319782,652,selenium_login,Success,True
.test_0_selenium_a_login,Total:3031 Passed:2828 Failed:203
1614405320075,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3032 Passed:2829 Failed:203
1614405320358,281,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3033 Passed:2830 Failed:203
1614405321183,816,selenium_create_issue:open_quick_create,Success,True
1614405322410,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405322410,1226,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405322410,2042,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3034 Passed:2831 Failed:203
1614405322982,556,selenium_edit_issue:open_edit_issue_form,Success,True
1614405324002,539,selenium_edit_issue:save_edit_issue_form,Success,True
1614405324002,1576,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3035 Passed:2832 Failed:203
1614405324459,455,selenium_save_comment:open_comment_form,Success,True
1614405325371,806,selenium_save_comment:submit_form,Success,True
1614405325371,1368,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3036 Passed:2833 Failed:203
1614405326710,1337,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3037 Passed:2834 Failed:203
1614405328050,1338,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3038 Passed:2835 Failed:203
1614405328886,834,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3039 Passed:2836 Failed:203
1614405329748,860,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3040 Passed:2837 Failed:203
1614405330211,461,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3041 Passed:2838 Failed:203
1614405330926,713,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3042 Passed:2839 Failed:203
1614405331333,405,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3043 Passed:2840 Failed:203
1614405331334,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405331334,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209518', 'issue_key': 'AAFAIA-4010', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3044 Passed:2840 Failed:204
1614405332213,325,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3045 Passed:2841 Failed:204


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209518', 'issue_key': 'AAFAIA-4010', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.09s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405332391,125,selenium_login:open_login_page,Success,True
1614405332921,529,selenium_login:login_and_view_dashboard,Success,True
1614405332921,655,selenium_login,Success,True
.test_0_selenium_a_login,Total:3046 Passed:2842 Failed:204
1614405333214,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3047 Passed:2843 Failed:204
1614405333499,283,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3048 Passed:2844 Failed:204
1614405334274,765,selenium_create_issue:open_quick_create,Success,True
1614405335477,618,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405335477,1203,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405335477,1969,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3049 Passed:2845 Failed:204
1614405336044,557,selenium_edit_issue:open_edit_issue_form,Success,True
1614405337106,565,selenium_edit_issue:save_edit_issue_form,Success,True
1614405337106,1620,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3050 Passed:2846 Failed:204
1614405337497,389,selenium_save_comment:open_comment_form,Success,True
1614405338399,739,selenium_save_comment:submit_form,Success,True
1614405338399,1291,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3051 Passed:2847 Failed:204
1614405339735,1334,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3052 Passed:2848 Failed:204
1614405340532,796,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3053 Passed:2849 Failed:204
1614405341336,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3054 Passed:2850 Failed:204
1614405341896,558,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3055 Passed:2851 Failed:204
1614405342227,329,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3056 Passed:2852 Failed:204
1614405342886,657,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3057 Passed:2853 Failed:204
1614405343304,416,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3058 Passed:2854 Failed:204
1614405343305,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405343305,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209536', 'issue_key': 'AAFAIA-4028', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3059 Passed:2854 Failed:205
1614405344089,351,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3060 Passed:2855 Failed:205


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209536', 'issue_key': 'AAFAIA-4028', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 11.83s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405344251,107,selenium_login:open_login_page,Success,True
1614405344833,582,selenium_login:login_and_view_dashboard,Success,True
1614405344833,690,selenium_login,Success,True
.test_0_selenium_a_login,Total:3061 Passed:2856 Failed:205
1614405345119,275,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3062 Passed:2857 Failed:205
1614405345393,272,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3063 Passed:2858 Failed:205
1614405346214,811,selenium_create_issue:open_quick_create,Success,True
1614405347388,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405347388,1173,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405347388,1985,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3064 Passed:2859 Failed:205
1614405348004,608,selenium_edit_issue:open_edit_issue_form,Success,True
1614405348992,615,selenium_edit_issue:save_edit_issue_form,Success,True
1614405348992,1595,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3065 Passed:2860 Failed:205
1614405349392,398,selenium_save_comment:open_comment_form,Success,True
1614405350335,778,selenium_save_comment:submit_form,Success,True
1614405350335,1342,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3066 Passed:2861 Failed:205
1614405351697,1359,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3067 Passed:2862 Failed:205
1614405353090,1391,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3068 Passed:2863 Failed:205
1614405353894,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3069 Passed:2864 Failed:205
1614405354756,860,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3070 Passed:2865 Failed:205
1614405355258,501,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3071 Passed:2866 Failed:205
1614405355991,730,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3072 Passed:2867 Failed:205
1614405356403,410,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3073 Passed:2868 Failed:205
1614405356405,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405356405,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211858', 'issue_key': 'AAFAIA-6350', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3074 Passed:2868 Failed:206
1614405357209,360,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3075 Passed:2869 Failed:206


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211858', 'issue_key': 'AAFAIA-6350', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.08s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405357376,113,selenium_login:open_login_page,Success,True
1614405357907,530,selenium_login:login_and_view_dashboard,Success,True
1614405357907,644,selenium_login,Success,True
.test_0_selenium_a_login,Total:3076 Passed:2870 Failed:206
1614405358183,264,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3077 Passed:2871 Failed:206
1614405358473,288,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3078 Passed:2872 Failed:206
1614405359151,669,selenium_create_issue:open_quick_create,Success,True
1614405360337,612,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405360338,1186,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405360338,1856,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3079 Passed:2873 Failed:206
1614405360876,529,selenium_edit_issue:open_edit_issue_form,Success,True
1614405361988,622,selenium_edit_issue:save_edit_issue_form,Success,True
1614405361988,1642,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3080 Passed:2874 Failed:206
1614405362301,311,selenium_save_comment:open_comment_form,Success,True
1614405363224,751,selenium_save_comment:submit_form,Success,True
1614405363225,1235,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3081 Passed:2875 Failed:206
1614405364563,1337,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3082 Passed:2876 Failed:206
1614405365617,1052,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3083 Passed:2877 Failed:206
1614405366519,900,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3084 Passed:2878 Failed:206
1614405367329,809,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3085 Passed:2879 Failed:206
1614405367738,406,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3086 Passed:2880 Failed:206
1614405368426,686,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3087 Passed:2881 Failed:206
1614405368830,402,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3088 Passed:2882 Failed:206
1614405368832,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405368832,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211885', 'issue_key': 'AAFAIA-6377', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3089 Passed:2882 Failed:207
1614405369704,381,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3090 Passed:2883 Failed:207


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '211885', 'issue_key': 'AAFAIA-6377', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.45s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405369868,110,selenium_login:open_login_page,Success,True
1614405370355,487,selenium_login:login_and_view_dashboard,Success,True
1614405370355,598,selenium_login,Success,True
.test_0_selenium_a_login,Total:3091 Passed:2884 Failed:207
1614405370642,275,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3092 Passed:2885 Failed:207
1614405370914,270,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3093 Passed:2886 Failed:207
1614405371734,811,selenium_create_issue:open_quick_create,Success,True
1614405372920,613,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405372920,1185,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405372920,1998,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3094 Passed:2887 Failed:207
1614405373430,500,selenium_edit_issue:open_edit_issue_form,Success,True
1614405374465,566,selenium_edit_issue:save_edit_issue_form,Success,True
1614405374465,1535,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3095 Passed:2888 Failed:207
1614405374908,442,selenium_save_comment:open_comment_form,Success,True
1614405375714,696,selenium_save_comment:submit_form,Success,True
1614405375714,1248,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3096 Passed:2889 Failed:207
1614405377157,1440,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3097 Passed:2890 Failed:207
1614405378540,1382,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3098 Passed:2891 Failed:207
1614405379340,798,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3099 Passed:2892 Failed:207
1614405380216,873,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3100 Passed:2893 Failed:207
1614405380608,390,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3101 Passed:2894 Failed:207
1614405381194,584,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3102 Passed:2895 Failed:207
1614405381663,467,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3103 Passed:2896 Failed:207
1614405381664,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405381664,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '2010616', 'issue_key': 'AABIS-982', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3104 Passed:2896 Failed:208
1614405382537,492,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3105 Passed:2897 Failed:208


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '2010616', 'issue_key': 'AABIS-982', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AA...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.79s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405382701,110,selenium_login:open_login_page,Success,True
1614405383200,498,selenium_login:login_and_view_dashboard,Success,True
1614405383200,609,selenium_login,Success,True
.test_0_selenium_a_login,Total:3106 Passed:2898 Failed:208
1614405383491,279,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3107 Passed:2899 Failed:208
1614405383768,275,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3108 Passed:2900 Failed:208
1614405384575,799,selenium_create_issue:open_quick_create,Success,True
1614405385802,620,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405385803,1227,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405385803,2027,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3109 Passed:2901 Failed:208
1614405386451,639,selenium_edit_issue:open_edit_issue_form,Success,True
1614405387374,533,selenium_edit_issue:save_edit_issue_form,Success,True
1614405387374,1562,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3110 Passed:2902 Failed:208
1614405387725,349,selenium_save_comment:open_comment_form,Success,True
1614405388782,862,selenium_save_comment:submit_form,Success,True
1614405388783,1407,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3111 Passed:2903 Failed:208
1614405390188,1404,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3112 Passed:2904 Failed:208
1614405391563,1373,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3113 Passed:2905 Failed:208
1614405392348,783,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3114 Passed:2906 Failed:208
1614405393037,687,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3115 Passed:2907 Failed:208
1614405393445,406,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3116 Passed:2908 Failed:208
1614405394169,721,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3117 Passed:2909 Failed:208
1614405394679,507,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3118 Passed:2910 Failed:208
1614405394680,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405394680,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212261', 'issue_key': 'AAFAIA-6753', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3119 Passed:2910 Failed:209
1614405395609,352,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3120 Passed:2911 Failed:209


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '212261', 'issue_key': 'AAFAIA-6753', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.03s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405395775,113,selenium_login:open_login_page,Success,True
1614405396290,514,selenium_login:login_and_view_dashboard,Success,True
1614405396290,628,selenium_login,Success,True
.test_0_selenium_a_login,Total:3121 Passed:2912 Failed:209
1614405396600,299,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3122 Passed:2913 Failed:209
1614405396880,278,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3123 Passed:2914 Failed:209
1614405397679,789,selenium_create_issue:open_quick_create,Success,True
1614405398869,628,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405398870,1190,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405398870,1981,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3124 Passed:2915 Failed:209
1614405399412,533,selenium_edit_issue:open_edit_issue_form,Success,True
1614405400441,567,selenium_edit_issue:save_edit_issue_form,Success,True
1614405400441,1562,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3125 Passed:2916 Failed:209
1614405400807,364,selenium_save_comment:open_comment_form,Success,True
1614405402077,1107,selenium_save_comment:submit_form,Success,True
1614405402078,1635,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3126 Passed:2917 Failed:209
1614405403491,1412,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3127 Passed:2918 Failed:209
1614405404891,1398,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3128 Passed:2919 Failed:209
1614405405695,802,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3129 Passed:2920 Failed:209
1614405406270,573,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3130 Passed:2921 Failed:209
1614405406622,350,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3131 Passed:2922 Failed:209
1614405407346,721,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3132 Passed:2923 Failed:209
1614405407863,515,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3133 Passed:2924 Failed:209
1614405407864,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405407865,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914650', 'issue_key': 'AABIS-86', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3134 Passed:2924 Failed:210
1614405408655,387,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3135 Passed:2925 Failed:210


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '914650', 'issue_key': 'AABIS-86', 'issues': [['AABIS-1', '914565', 'AABIS'], ['AABI...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.00s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405408828,118,selenium_login:open_login_page,Success,True
1614405409437,608,selenium_login:login_and_view_dashboard,Success,True
1614405409437,727,selenium_login,Success,True
.test_0_selenium_a_login,Total:3136 Passed:2926 Failed:210
1614405409732,282,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3137 Passed:2927 Failed:210
1614405410017,284,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3138 Passed:2928 Failed:210
1614405410810,784,selenium_create_issue:open_quick_create,Success,True
1614405412080,630,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405412080,1269,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405412080,2054,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3139 Passed:2929 Failed:210
1614405412744,655,selenium_edit_issue:open_edit_issue_form,Success,True
1614405413660,534,selenium_edit_issue:save_edit_issue_form,Success,True
1614405413660,1571,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3140 Passed:2930 Failed:210
1614405414002,340,selenium_save_comment:open_comment_form,Success,True
1614405415113,911,selenium_save_comment:submit_form,Success,True
1614405415114,1452,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3141 Passed:2931 Failed:210
1614405416553,1438,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3142 Passed:2932 Failed:210
1614405417550,995,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3143 Passed:2933 Failed:210
1614405418449,897,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3144 Passed:2934 Failed:210
1614405419175,725,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3145 Passed:2935 Failed:210
1614405419616,439,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3146 Passed:2936 Failed:210
1614405420335,717,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3147 Passed:2937 Failed:210
1614405420743,406,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3148 Passed:2938 Failed:210
1614405420744,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405420744,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209832', 'issue_key': 'AAFAIA-4324', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3149 Passed:2938 Failed:211
1614405421612,354,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3150 Passed:2939 Failed:211


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '209832', 'issue_key': 'AAFAIA-4324', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 12.91s ===================
============================= test session starts ==============================
platform linux -- Python 3.8.0, pytest-6.2.2, py-1.10.0, pluggy-0.13.1
rootdir: /dc-app-performance-toolkit/app
plugins: apiritif-0.9.6
collected 15 items

selenium_ui/jira_ui.py get driver from global
1614405421790,121,selenium_login:open_login_page,Success,True
1614405422271,481,selenium_login:login_and_view_dashboard,Success,True
1614405422271,602,selenium_login,Success,True
.test_0_selenium_a_login,Total:3151 Passed:2940 Failed:211
1614405422640,348,selenium_browse_projects_list,Success,True
.test_1_selenium_browse_projects_list,Total:3152 Passed:2941 Failed:211
1614405422938,296,selenium_browse_boards_list,Success,True
.test_1_selenium_browse_boards_list,Total:3153 Passed:2942 Failed:211
1614405423747,801,selenium_create_issue:open_quick_create,Success,True
1614405424889,611,selenium_create_issue:fill_and_submit_issue_form:submit_issue_form,Success,True
1614405424889,1141,selenium_create_issue:fill_and_submit_issue_form,Success,True
1614405424889,1943,selenium_create_issue,Success,True
.test_1_selenium_create_issue,Total:3154 Passed:2943 Failed:211
1614405425519,620,selenium_edit_issue:open_edit_issue_form,Success,True
1614405426480,591,selenium_edit_issue:save_edit_issue_form,Success,True
1614405426481,1581,selenium_edit_issue,Success,True
.test_1_selenium_edit_issue,Total:3155 Passed:2944 Failed:211
1614405426879,397,selenium_save_comment:open_comment_form,Success,True
1614405427816,777,selenium_save_comment:submit_form,Success,True
1614405427816,1334,selenium_save_comment,Success,True
.test_1_selenium_save_comment,Total:3156 Passed:2945 Failed:211
1614405429321,1503,selenium_search_jql,Success,True
.test_1_selenium_search_jql,Total:3157 Passed:2946 Failed:211
1614405430708,1385,selenium_view_scrum_board_backlog,Success,True
.test_1_selenium_view_backlog_for_scrum_board,Total:3158 Passed:2947 Failed:211
1614405431507,797,selenium_view_scrum_board,Success,True
.test_1_selenium_view_scrum_board,Total:3159 Passed:2948 Failed:211
1614405432382,873,selenium_view_kanban_board,Success,True
.test_1_selenium_view_kanban_board,Total:3160 Passed:2949 Failed:211
1614405433047,663,selenium_view_dashboard,Success,True
.test_1_selenium_view_dashboard,Total:3161 Passed:2950 Failed:211
1614405433711,662,selenium_view_issue,Success,True
.test_1_selenium_view_issue,Total:3162 Passed:2951 Failed:211
1614405434068,355,selenium_project_summary,Success,True
.test_1_selenium_view_project_summary,Total:3163 Passed:2952 Failed:211
1614405434069,0,selenium_app_custom_action:view_issue,Failed measure: selenium_app_custom_action:view_issue - NameError,False
1614405434069,0,selenium_app_custom_action,Failed measure: selenium_app_custom_action - Exception,False
FAction: test_1_selenium_custom_action, Error: jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206709', 'issue_key': 'AAFAIA-1201', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception

test_1_selenium_custom_action,Total:3164 Passed:2952 Failed:212
1614405434877,377,selenium_log_out,Success,True
.test_2_selenium_z_log_out,Total:3165 Passed:2953 Failed:212


=================================== FAILURES ===================================
________________________ test_1_selenium_custom_action _________________________

jira_webdriver = <selenium.webdriver.chrome.webdriver.WebDriver (session="e241e829f5f619c73352fffbb0946cff")>
jira_datasets = {'custom_issues': [], 'issue_id': '206709', 'issue_key': 'AAFAIA-1201', 'issues': [['AABIS-1', '914565', 'AABIS'], ['A...', 'AABIS'], ['AABIS-4', '914568', 'AABIS'], ['AABIS-5', '914569', 'AABIS'], ['AABIS-6', '914570', 'AABIS'], ...], ...}
jira_screen_shots = None

    def test_1_selenium_custom_action(jira_webdriver, jira_datasets, jira_screen_shots):
>       extension_ui.app_specific_action(jira_webdriver, jira_datasets)

selenium_ui/jira_ui.py:64: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
extension/jira/extension_ui.py:24: in app_specific_action
    measure()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    @functools.wraps(func)
    def wrapper():
        if LOGIN_ACTION_NAME in interaction:
            globals.login_failed = False
        if globals.login_failed:
            pytest.skip(f"login is failed")
        start = time.time()
        error_msg = 'Success'
        full_exception = ''
        try:
            func()
            success = True
        except Exception:
            success = False
            # https://docs.python.org/2/library/sys.html#sys.exc_info
            exc_type, full_exception = sys.exc_info()[:2]
            error_msg = f"Failed measure: {interaction} - {exc_type.__name__}"
        end = time.time()
        timing = str(int((end - start) * 1000))
    
        lockfile = f'{selenium_results_file}.lock'
    
        with filelock.SoftFileLock(lockfile):
            with open(selenium_results_file, "a+") as jtl_file:
                timestamp = round(time.time() * 1000)
                jtl_file.write(f"{timestamp},{timing},{interaction},,{error_msg},,{success},0,0,0,0,,0\n")
    
        print(f"{timestamp},{timing},{interaction},{error_msg},{success}")
    
        if not success:
            if LOGIN_ACTION_NAME in interaction:
                globals.login_failed = True
>           raise Exception(error_msg, full_exception)
E           Exception: ('Failed measure: selenium_app_custom_action - Exception', Exception('Failed measure: selenium_app_custom_action:view_issue - NameError', NameError("free variable 'issue_key' referenced before assignment in enclosing scope")))

selenium_ui/conftest.py:137: Exception
=============================== warnings summary ===============================
../../usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114
  /usr/local/lib/python3.8/dist-packages/_pytest/config/__init__.py:1114: PytestAssertRewriteWarning: Module already imported so cannot be rewritten: apiritif
    self._mark_plugins_for_rewrite(hook)

-- Docs: https://docs.pytest.org/en/stable/warnings.html
=========================== short test summary info ============================
FAILED selenium_ui/jira_ui.py::test_1_selenium_custom_action - Exception: ('F...
=================== 1 failed, 14 passed, 1 warning in 13.22s ===================
